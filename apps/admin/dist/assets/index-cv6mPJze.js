var u0=t=>{throw TypeError(t)};var cf=(t,e,n)=>e.has(t)||u0("Cannot "+n);var R=(t,e,n)=>(cf(t,e,"read from private field"),n?n.call(t):e.get(t)),Q=(t,e,n)=>e.has(t)?u0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),H=(t,e,n,r)=>(cf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ie=(t,e,n)=>(cf(t,e,"access private method"),n);var Ou=(t,e,n,r)=>({set _(s){H(t,e,s,n)},get _(){return R(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function CP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vT={exports:{}},Uh={},_T={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=Symbol.for("react.element"),AP=Symbol.for("react.portal"),PP=Symbol.for("react.fragment"),bP=Symbol.for("react.strict_mode"),RP=Symbol.for("react.profiler"),kP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),DP=Symbol.for("react.forward_ref"),VP=Symbol.for("react.suspense"),MP=Symbol.for("react.memo"),OP=Symbol.for("react.lazy"),c0=Symbol.iterator;function LP(t){return t===null||typeof t!="object"?null:(t=c0&&t[c0]||t["@@iterator"],typeof t=="function"?t:null)}var wT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ET=Object.assign,TT={};function ra(t,e,n){this.props=t,this.context=e,this.refs=TT,this.updater=n||wT}ra.prototype.isReactComponent={};ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xT(){}xT.prototype=ra.prototype;function Zm(t,e,n){this.props=t,this.context=e,this.refs=TT,this.updater=n||wT}var eg=Zm.prototype=new xT;eg.constructor=Zm;ET(eg,ra.prototype);eg.isPureReactComponent=!0;var h0=Array.isArray,ST=Object.prototype.hasOwnProperty,tg={current:null},IT={key:!0,ref:!0,__self:!0,__source:!0};function CT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ST.call(e,r)&&!IT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:su,type:t,key:i,ref:o,props:s,_owner:tg.current}}function jP(t,e){return{$$typeof:su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ng(t){return typeof t=="object"&&t!==null&&t.$$typeof===su}function FP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d0=/\/+/g;function hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FP(""+t.key):e.toString(36)}function dc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case su:case AP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+hf(o,0):r,h0(s)?(n="",t!=null&&(n=t.replace(d0,"$&/")+"/"),dc(s,e,n,"",function(c){return c})):s!=null&&(ng(s)&&(s=jP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(d0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",h0(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+hf(i,a);o+=dc(i,e,n,u,s)}else if(u=LP(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+hf(i,a++),o+=dc(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lu(t,e,n){if(t==null)return t;var r=[],s=0;return dc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function UP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},fc={transition:null},BP={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:fc,ReactCurrentOwner:tg};function AT(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Lu,forEach:function(t,e,n){Lu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lu(t,function(){e++}),e},toArray:function(t){return Lu(t,function(e){return e})||[]},only:function(t){if(!ng(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=ra;oe.Fragment=PP;oe.Profiler=RP;oe.PureComponent=Zm;oe.StrictMode=bP;oe.Suspense=VP;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BP;oe.act=AT;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ET({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=tg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)ST.call(e,u)&&!IT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:su,type:t.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:NP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kP,_context:t},t.Consumer=t};oe.createElement=CT;oe.createFactory=function(t){var e=CT.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:DP,render:t}};oe.isValidElement=ng;oe.lazy=function(t){return{$$typeof:OP,_payload:{_status:-1,_result:t},_init:UP}};oe.memo=function(t,e){return{$$typeof:MP,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=fc.transition;fc.transition={};try{t()}finally{fc.transition=e}};oe.unstable_act=AT;oe.useCallback=function(t,e){return Nt.current.useCallback(t,e)};oe.useContext=function(t){return Nt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Nt.current.useEffect(t,e)};oe.useId=function(){return Nt.current.useId()};oe.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Nt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};oe.useRef=function(t){return Nt.current.useRef(t)};oe.useState=function(t){return Nt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Nt.current.useTransition()};oe.version="18.3.1";_T.exports=oe;var O=_T.exports;const PT=CP(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=O,$P=Symbol.for("react.element"),HP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,WP=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function bT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qP.call(e,r)&&!KP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$P,type:t,key:i,ref:o,props:s,_owner:WP.current}}Uh.Fragment=HP;Uh.jsx=bT;Uh.jsxs=bT;vT.exports=Uh;var g=vT.exports,RT={exports:{}},en={},kT={exports:{}},NT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var re=$.length;$.push(G);e:for(;0<re;){var ee=re-1>>>1,ve=$[ee];if(0<s(ve,G))$[ee]=G,$[re]=ve,re=ee;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],re=$.pop();if(re!==G){$[0]=re;e:for(var ee=0,ve=$.length,kn=ve>>>1;ee<kn;){var xt=2*(ee+1)-1,Nn=$[xt],nt=xt+1,gn=$[nt];if(0>s(Nn,re))nt<ve&&0>s(gn,Nn)?($[ee]=gn,$[nt]=re,ee=nt):($[ee]=Nn,$[xt]=re,ee=xt);else if(nt<ve&&0>s(gn,re))$[ee]=gn,$[nt]=re,ee=nt;else break e}}return G}function s($,G){var re=$.sortIndex-G.sortIndex;return re!==0?re:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,d=null,p=3,y=!1,C=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T($){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=$)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function V($){if(I=!1,T($),!C)if(n(u)!==null)C=!0,Pe(N);else{var G=n(c);G!==null&&Vt(V,G.startTime-$)}}function N($,G){C=!1,I&&(I=!1,w(_),_=-1),y=!0;var re=p;try{for(T(G),d=n(u);d!==null&&(!(d.expirationTime>G)||$&&!b());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var ve=ee(d.expirationTime<=G);G=t.unstable_now(),typeof ve=="function"?d.callback=ve:d===n(u)&&r(u),T(G)}else r(u);d=n(u)}if(d!==null)var kn=!0;else{var xt=n(c);xt!==null&&Vt(V,xt.startTime-G),kn=!1}return kn}finally{d=null,p=re,y=!1}}var j=!1,v=null,_=-1,A=5,S=-1;function b(){return!(t.unstable_now()-S<A)}function D(){if(v!==null){var $=t.unstable_now();S=$;var G=!0;try{G=v(!0,$)}finally{G?P():(j=!1,v=null)}}else j=!1}var P;if(typeof E=="function")P=function(){E(D)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ht=de.port2;de.port1.onmessage=D,P=function(){ht.postMessage(null)}}else P=function(){k(D,0)};function Pe($){v=$,j||(j=!0,P())}function Vt($,G){_=k(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){C||y||(C=!0,Pe(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var re=p;p=G;try{return $()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=p;p=$;try{return G()}finally{p=re}},t.unstable_scheduleCallback=function($,G,re){var ee=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ee+re:ee):re=ee,$){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=re+ve,$={id:h++,callback:G,priorityLevel:$,startTime:re,expirationTime:ve,sortIndex:-1},re>ee?($.sortIndex=re,e(c,$),n(u)===null&&$===n(c)&&(I?(w(_),_=-1):I=!0,Vt(V,re-ee))):($.sortIndex=ve,e(u,$),C||y||(C=!0,Pe(N))),$},t.unstable_shouldYield=b,t.unstable_wrapCallback=function($){var G=p;return function(){var re=p;p=G;try{return $.apply(this,arguments)}finally{p=re}}}})(NT);kT.exports=NT;var GP=kT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP=O,Jt=GP;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DT=new Set,Tl={};function Vi(t,e){Uo(t,e),Uo(t+"Capture",e)}function Uo(t,e){for(Tl[t]=e,t=0;t<e.length;t++)DT.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),up=Object.prototype.hasOwnProperty,YP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f0={},p0={};function XP(t){return up.call(p0,t)?!0:up.call(f0,t)?!1:YP.test(t)?p0[t]=!0:(f0[t]=!0,!1)}function JP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZP(t,e,n,r){if(e===null||typeof e>"u"||JP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rg=/[\-:]([a-z])/g;function sg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rg,sg);at[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rg,sg);at[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rg,sg);at[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ig(t,e,n,r){var s=at.hasOwnProperty(e)?at[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZP(e,n,s,r)&&(n=null),r||s===null?XP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ar=QP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ju=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),VT=Symbol.for("react.provider"),MT=Symbol.for("react.context"),ag=Symbol.for("react.forward_ref"),hp=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),lg=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),OT=Symbol.for("react.offscreen"),m0=Symbol.iterator;function Da(t){return t===null||typeof t!="object"?null:(t=m0&&t[m0]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,df;function Ha(t){if(df===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);df=e&&e[1]||""}return`
`+df+t}var ff=!1;function pf(t,e){if(!t||ff)return"";ff=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{ff=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ha(t):""}function eb(t){switch(t.tag){case 5:return Ha(t.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 2:case 15:return t=pf(t.type,!1),t;case 11:return t=pf(t.type.render,!1),t;case 1:return t=pf(t.type,!0),t;default:return""}}function fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zi:return"Fragment";case Ji:return"Portal";case cp:return"Profiler";case og:return"StrictMode";case hp:return"Suspense";case dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MT:return(t.displayName||"Context")+".Consumer";case VT:return(t._context.displayName||"Context")+".Provider";case ag:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lg:return e=t.displayName||null,e!==null?e:fp(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return fp(t(e))}catch{}}return null}function tb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(e);case 8:return e===og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nb(t){var e=LT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fu(t){t._valueTracker||(t._valueTracker=nb(t))}function jT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pp(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Is(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FT(t,e){e=e.checked,e!=null&&ig(t,"checked",e,!1)}function mp(t,e){FT(t,e);var n=Is(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gp(t,e.type,n):e.hasOwnProperty("defaultValue")&&gp(t,e.type,Is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gp(t,e,n){(e!=="number"||jc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qa=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Is(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(qa(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Is(n)}}function UT(t,e){var n=Is(e.value),r=Is(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uu,zT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){rb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function $T(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function HT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$T(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sb=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _p(t,e){if(e){if(sb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function wp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function ug(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tp=null,yo=null,vo=null;function w0(t){if(t=au(t)){if(typeof Tp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=qh(e),Tp(t.stateNode,t.type,e))}}function qT(t){yo?vo?vo.push(t):vo=[t]:yo=t}function WT(){if(yo){var t=yo,e=vo;if(vo=yo=null,w0(t),e)for(t=0;t<e.length;t++)w0(e[t])}}function KT(t,e){return t(e)}function GT(){}var mf=!1;function QT(t,e,n){if(mf)return t(e,n);mf=!0;try{return KT(t,e,n)}finally{mf=!1,(yo!==null||vo!==null)&&(GT(),WT())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var r=qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var xp=!1;if(gr)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{xp=!1}function ib(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var rl=!1,Fc=null,Uc=!1,Sp=null,ob={onError:function(t){rl=!0,Fc=t}};function ab(t,e,n,r,s,i,o,a,u){rl=!1,Fc=null,ib.apply(ob,arguments)}function lb(t,e,n,r,s,i,o,a,u){if(ab.apply(this,arguments),rl){if(rl){var c=Fc;rl=!1,Fc=null}else throw Error(B(198));Uc||(Uc=!0,Sp=c)}}function Mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function E0(t){if(Mi(t)!==t)throw Error(B(188))}function ub(t){var e=t.alternate;if(!e){if(e=Mi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return E0(s),t;if(i===r)return E0(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function XT(t){return t=ub(t),t!==null?JT(t):null}function JT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JT(t);if(e!==null)return e;t=t.sibling}return null}var ZT=Jt.unstable_scheduleCallback,T0=Jt.unstable_cancelCallback,cb=Jt.unstable_shouldYield,hb=Jt.unstable_requestPaint,Fe=Jt.unstable_now,db=Jt.unstable_getCurrentPriorityLevel,cg=Jt.unstable_ImmediatePriority,e1=Jt.unstable_UserBlockingPriority,Bc=Jt.unstable_NormalPriority,fb=Jt.unstable_LowPriority,t1=Jt.unstable_IdlePriority,Bh=null,zn=null;function pb(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Bh,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:yb,mb=Math.log,gb=Math.LN2;function yb(t){return t>>>=0,t===0?32:31-(mb(t)/gb|0)|0}var Bu=64,zu=4194304;function Wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Wa(a):(i&=o,i!==0&&(r=Wa(i)))}else o=n&~s,o!==0?r=Wa(o):i!==0&&(r=Wa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),s=1<<n,r|=t[n],e&=~s;return r}function vb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _b(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-In(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=vb(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n1(){var t=Bu;return Bu<<=1,!(Bu&4194240)&&(Bu=64),t}function gf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function iu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function wb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-In(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function hg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ye=0;function r1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s1,dg,i1,o1,a1,Cp=!1,$u=[],us=null,cs=null,hs=null,Il=new Map,Cl=new Map,$r=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x0(t,e){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Ma(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=au(e),e!==null&&dg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Tb(t,e,n,r,s){switch(e){case"focusin":return us=Ma(us,t,e,n,r,s),!0;case"dragenter":return cs=Ma(cs,t,e,n,r,s),!0;case"mouseover":return hs=Ma(hs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Il.set(i,Ma(Il.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cl.set(i,Ma(Cl.get(i)||null,t,e,n,r,s)),!0}return!1}function l1(t){var e=ni(t.target);if(e!==null){var n=Mi(e);if(n!==null){if(e=n.tag,e===13){if(e=YT(n),e!==null){t.blockedOn=e,a1(t.priority,function(){i1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ep=r,n.target.dispatchEvent(r),Ep=null}else return e=au(n),e!==null&&dg(e),t.blockedOn=n,!1;e.shift()}return!0}function S0(t,e,n){pc(t)&&n.delete(e)}function xb(){Cp=!1,us!==null&&pc(us)&&(us=null),cs!==null&&pc(cs)&&(cs=null),hs!==null&&pc(hs)&&(hs=null),Il.forEach(S0),Cl.forEach(S0)}function Oa(t,e){t.blockedOn===e&&(t.blockedOn=null,Cp||(Cp=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,xb)))}function Al(t){function e(s){return Oa(s,t)}if(0<$u.length){Oa($u[0],t);for(var n=1;n<$u.length;n++){var r=$u[n];r.blockedOn===t&&(r.blockedOn=null)}}for(us!==null&&Oa(us,t),cs!==null&&Oa(cs,t),hs!==null&&Oa(hs,t),Il.forEach(e),Cl.forEach(e),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)l1(n),n.blockedOn===null&&$r.shift()}var _o=Ar.ReactCurrentBatchConfig,$c=!0;function Sb(t,e,n,r){var s=ye,i=_o.transition;_o.transition=null;try{ye=1,fg(t,e,n,r)}finally{ye=s,_o.transition=i}}function Ib(t,e,n,r){var s=ye,i=_o.transition;_o.transition=null;try{ye=4,fg(t,e,n,r)}finally{ye=s,_o.transition=i}}function fg(t,e,n,r){if($c){var s=Ap(t,e,n,r);if(s===null)Cf(t,e,r,Hc,n),x0(t,r);else if(Tb(s,t,e,n,r))r.stopPropagation();else if(x0(t,r),e&4&&-1<Eb.indexOf(t)){for(;s!==null;){var i=au(s);if(i!==null&&s1(i),i=Ap(t,e,n,r),i===null&&Cf(t,e,r,Hc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cf(t,e,r,null,n)}}var Hc=null;function Ap(t,e,n,r){if(Hc=null,t=ug(r),t=ni(t),t!==null)if(e=Mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hc=t,null}function u1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(db()){case cg:return 1;case e1:return 4;case Bc:case fb:return 16;case t1:return 536870912;default:return 16}default:return 16}}var os=null,pg=null,mc=null;function c1(){if(mc)return mc;var t,e=pg,n=e.length,r,s="value"in os?os.value:os.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return mc=s.slice(t,1<r?1-r:void 0)}function gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hu(){return!0}function I0(){return!1}function tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hu:I0,this.isPropagationStopped=I0,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),e}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mg=tn(sa),ou=Ne({},sa,{view:0,detail:0}),Cb=tn(ou),yf,vf,La,zh=Ne({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==La&&(La&&t.type==="mousemove"?(yf=t.screenX-La.screenX,vf=t.screenY-La.screenY):vf=yf=0,La=t),yf)},movementY:function(t){return"movementY"in t?t.movementY:vf}}),C0=tn(zh),Ab=Ne({},zh,{dataTransfer:0}),Pb=tn(Ab),bb=Ne({},ou,{relatedTarget:0}),_f=tn(bb),Rb=Ne({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),kb=tn(Rb),Nb=Ne({},sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Db=tn(Nb),Vb=Ne({},sa,{data:0}),A0=tn(Vb),Mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lb[t])?!!e[t]:!1}function gg(){return jb}var Fb=Ne({},ou,{key:function(t){if(t.key){var e=Mb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ob[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gg,charCode:function(t){return t.type==="keypress"?gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ub=tn(Fb),Bb=Ne({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P0=tn(Bb),zb=Ne({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gg}),$b=tn(zb),Hb=Ne({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),qb=tn(Hb),Wb=Ne({},zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kb=tn(Wb),Gb=[9,13,27,32],yg=gr&&"CompositionEvent"in window,sl=null;gr&&"documentMode"in document&&(sl=document.documentMode);var Qb=gr&&"TextEvent"in window&&!sl,h1=gr&&(!yg||sl&&8<sl&&11>=sl),b0=" ",R0=!1;function d1(t,e){switch(t){case"keyup":return Gb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function Yb(t,e){switch(t){case"compositionend":return f1(e);case"keypress":return e.which!==32?null:(R0=!0,b0);case"textInput":return t=e.data,t===b0&&R0?null:t;default:return null}}function Xb(t,e){if(eo)return t==="compositionend"||!yg&&d1(t,e)?(t=c1(),mc=pg=os=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h1&&e.locale!=="ko"?null:e.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jb[t.type]:e==="textarea"}function p1(t,e,n,r){qT(r),e=qc(e,"onChange"),0<e.length&&(n=new mg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var il=null,Pl=null;function Zb(t){I1(t,0)}function $h(t){var e=ro(t);if(jT(e))return t}function eR(t,e){if(t==="change")return e}var m1=!1;if(gr){var wf;if(gr){var Ef="oninput"in document;if(!Ef){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),Ef=typeof N0.oninput=="function"}wf=Ef}else wf=!1;m1=wf&&(!document.documentMode||9<document.documentMode)}function D0(){il&&(il.detachEvent("onpropertychange",g1),Pl=il=null)}function g1(t){if(t.propertyName==="value"&&$h(Pl)){var e=[];p1(e,Pl,t,ug(t)),QT(Zb,e)}}function tR(t,e,n){t==="focusin"?(D0(),il=e,Pl=n,il.attachEvent("onpropertychange",g1)):t==="focusout"&&D0()}function nR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $h(Pl)}function rR(t,e){if(t==="click")return $h(e)}function sR(t,e){if(t==="input"||t==="change")return $h(e)}function iR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:iR;function bl(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!up.call(e,s)||!bn(t[s],e[s]))return!1}return!0}function V0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M0(t,e){var n=V0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V0(n)}}function y1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v1(){for(var t=window,e=jc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jc(t.document)}return e}function vg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oR(t){var e=v1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y1(n.ownerDocument.documentElement,n)){if(r!==null&&vg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=M0(n,i);var o=M0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aR=gr&&"documentMode"in document&&11>=document.documentMode,to=null,Pp=null,ol=null,bp=!1;function O0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bp||to==null||to!==jc(r)||(r=to,"selectionStart"in r&&vg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ol&&bl(ol,r)||(ol=r,r=qc(Pp,"onSelect"),0<r.length&&(e=new mg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=to)))}function qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var no={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},Tf={},_1={};gr&&(_1=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Hh(t){if(Tf[t])return Tf[t];if(!no[t])return t;var e=no[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _1)return Tf[t]=e[n];return t}var w1=Hh("animationend"),E1=Hh("animationiteration"),T1=Hh("animationstart"),x1=Hh("transitionend"),S1=new Map,L0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(t,e){S1.set(t,e),Vi(e,[t])}for(var xf=0;xf<L0.length;xf++){var Sf=L0[xf],lR=Sf.toLowerCase(),uR=Sf[0].toUpperCase()+Sf.slice(1);Ms(lR,"on"+uR)}Ms(w1,"onAnimationEnd");Ms(E1,"onAnimationIteration");Ms(T1,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(x1,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function j0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lb(r,e,void 0,t),t.currentTarget=null}function I1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;j0(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;j0(s,a,c),i=u}}}if(Uc)throw t=Sp,Uc=!1,Sp=null,t}function xe(t,e){var n=e[Vp];n===void 0&&(n=e[Vp]=new Set);var r=t+"__bubble";n.has(r)||(C1(e,t,2,!1),n.add(r))}function If(t,e,n){var r=0;e&&(r|=4),C1(n,t,r,e)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[Wu]){t[Wu]=!0,DT.forEach(function(n){n!=="selectionchange"&&(cR.has(n)||If(n,!1,t),If(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wu]||(e[Wu]=!0,If("selectionchange",!1,e))}}function C1(t,e,n,r){switch(u1(e)){case 1:var s=Sb;break;case 4:s=Ib;break;default:s=fg}n=s.bind(null,e,n,t),s=void 0,!xp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ni(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}QT(function(){var c=i,h=ug(n),d=[];e:{var p=S1.get(t);if(p!==void 0){var y=mg,C=t;switch(t){case"keypress":if(gc(n)===0)break e;case"keydown":case"keyup":y=Ub;break;case"focusin":C="focus",y=_f;break;case"focusout":C="blur",y=_f;break;case"beforeblur":case"afterblur":y=_f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Pb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$b;break;case w1:case E1:case T1:y=kb;break;case x1:y=qb;break;case"scroll":y=Cb;break;case"wheel":y=Kb;break;case"copy":case"cut":case"paste":y=Db;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=P0}var I=(e&4)!==0,k=!I&&t==="scroll",w=I?p!==null?p+"Capture":null:p;I=[];for(var E=c,T;E!==null;){T=E;var V=T.stateNode;if(T.tag===5&&V!==null&&(T=V,w!==null&&(V=Sl(E,w),V!=null&&I.push(kl(E,V,T)))),k)break;E=E.return}0<I.length&&(p=new y(p,C,null,n,h),d.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Ep&&(C=n.relatedTarget||n.fromElement)&&(ni(C)||C[yr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=c,C=C?ni(C):null,C!==null&&(k=Mi(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=c),y!==C)){if(I=C0,V="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(I=P0,V="onPointerLeave",w="onPointerEnter",E="pointer"),k=y==null?p:ro(y),T=C==null?p:ro(C),p=new I(V,E+"leave",y,n,h),p.target=k,p.relatedTarget=T,V=null,ni(h)===c&&(I=new I(w,E+"enter",C,n,h),I.target=T,I.relatedTarget=k,V=I),k=V,y&&C)t:{for(I=y,w=C,E=0,T=I;T;T=Ki(T))E++;for(T=0,V=w;V;V=Ki(V))T++;for(;0<E-T;)I=Ki(I),E--;for(;0<T-E;)w=Ki(w),T--;for(;E--;){if(I===w||w!==null&&I===w.alternate)break t;I=Ki(I),w=Ki(w)}I=null}else I=null;y!==null&&F0(d,p,y,I,!1),C!==null&&k!==null&&F0(d,k,C,I,!0)}}e:{if(p=c?ro(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var N=eR;else if(k0(p))if(m1)N=sR;else{N=nR;var j=tR}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=rR);if(N&&(N=N(t,c))){p1(d,N,n,h);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&gp(p,"number",p.value)}switch(j=c?ro(c):window,t){case"focusin":(k0(j)||j.contentEditable==="true")&&(to=j,Pp=c,ol=null);break;case"focusout":ol=Pp=to=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,O0(d,n,h);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":O0(d,n,h)}var v;if(yg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else eo?d1(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(h1&&n.locale!=="ko"&&(eo||_!=="onCompositionStart"?_==="onCompositionEnd"&&eo&&(v=c1()):(os=h,pg="value"in os?os.value:os.textContent,eo=!0)),j=qc(c,_),0<j.length&&(_=new A0(_,t,null,n,h),d.push({event:_,listeners:j}),v?_.data=v:(v=f1(n),v!==null&&(_.data=v)))),(v=Qb?Yb(t,n):Xb(t,n))&&(c=qc(c,"onBeforeInput"),0<c.length&&(h=new A0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=v))}I1(d,e)})}function kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sl(t,n),i!=null&&r.unshift(kl(t,i,s)),i=Sl(t,e),i!=null&&r.push(kl(t,i,s))),t=t.return}return r}function Ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Sl(n,i),u!=null&&o.unshift(kl(n,u,a))):s||(u=Sl(n,i),u!=null&&o.push(kl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hR=/\r\n?/g,dR=/\u0000|\uFFFD/g;function U0(t){return(typeof t=="string"?t:""+t).replace(hR,`
`).replace(dR,"")}function Ku(t,e,n){if(e=U0(e),U0(t)!==e&&n)throw Error(B(425))}function Wc(){}var Rp=null,kp=null;function Np(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dp=typeof setTimeout=="function"?setTimeout:void 0,fR=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(t){return B0.resolve(null).then(t).catch(mR)}:Dp;function mR(t){setTimeout(function(){throw t})}function Af(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Al(e)}function ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ia=Math.random().toString(36).slice(2),Bn="__reactFiber$"+ia,Nl="__reactProps$"+ia,yr="__reactContainer$"+ia,Vp="__reactEvents$"+ia,gR="__reactListeners$"+ia,yR="__reactHandles$"+ia;function ni(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z0(t);t!==null;){if(n=t[Bn])return n;t=z0(t)}return e}t=n,n=t.parentNode}return null}function au(t){return t=t[Bn]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function qh(t){return t[Nl]||null}var Mp=[],so=-1;function Os(t){return{current:t}}function Ce(t){0>so||(t.current=Mp[so],Mp[so]=null,so--)}function we(t,e){so++,Mp[so]=t.current,t.current=e}var Cs={},Et=Os(Cs),zt=Os(!1),Ei=Cs;function Bo(t,e){var n=t.type.contextTypes;if(!n)return Cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $t(t){return t=t.childContextTypes,t!=null}function Kc(){Ce(zt),Ce(Et)}function $0(t,e,n){if(Et.current!==Cs)throw Error(B(168));we(Et,e),we(zt,n)}function A1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,tb(t)||"Unknown",s));return Ne({},n,r)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cs,Ei=Et.current,we(Et,t),we(zt,zt.current),!0}function H0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=A1(t,e,Ei),r.__reactInternalMemoizedMergedChildContext=t,Ce(zt),Ce(Et),we(Et,t)):Ce(zt),we(zt,n)}var rr=null,Wh=!1,Pf=!1;function P1(t){rr===null?rr=[t]:rr.push(t)}function vR(t){Wh=!0,P1(t)}function Ls(){if(!Pf&&rr!==null){Pf=!0;var t=0,e=ye;try{var n=rr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rr=null,Wh=!1}catch(s){throw rr!==null&&(rr=rr.slice(t+1)),ZT(cg,Ls),s}finally{ye=e,Pf=!1}}return null}var io=[],oo=0,Qc=null,Yc=0,an=[],ln=0,Ti=null,or=1,ar="";function Ys(t,e){io[oo++]=Yc,io[oo++]=Qc,Qc=t,Yc=e}function b1(t,e,n){an[ln++]=or,an[ln++]=ar,an[ln++]=Ti,Ti=t;var r=or;t=ar;var s=32-In(r)-1;r&=~(1<<s),n+=1;var i=32-In(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,or=1<<32-In(e)+s|n<<s|r,ar=i+t}else or=1<<i|n<<s|r,ar=t}function _g(t){t.return!==null&&(Ys(t,1),b1(t,1,0))}function wg(t){for(;t===Qc;)Qc=io[--oo],io[oo]=null,Yc=io[--oo],io[oo]=null;for(;t===Ti;)Ti=an[--ln],an[ln]=null,ar=an[--ln],an[ln]=null,or=an[--ln],an[ln]=null}var Xt=null,Qt=null,Ae=!1,Tn=null;function R1(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ti!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Qt=null,!0):!1;default:return!1}}function Op(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lp(t){if(Ae){var e=Qt;if(e){var n=e;if(!q0(t,e)){if(Op(t))throw Error(B(418));e=ds(n.nextSibling);var r=Xt;e&&q0(t,e)?R1(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Xt=t)}}else{if(Op(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ae=!1,Xt=t}}}function W0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function Gu(t){if(t!==Xt)return!1;if(!Ae)return W0(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Np(t.type,t.memoizedProps)),e&&(e=Qt)){if(Op(t))throw k1(),Error(B(418));for(;e;)R1(t,e),e=ds(e.nextSibling)}if(W0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=ds(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Xt?ds(t.stateNode.nextSibling):null;return!0}function k1(){for(var t=Qt;t;)t=ds(t.nextSibling)}function zo(){Qt=Xt=null,Ae=!1}function Eg(t){Tn===null?Tn=[t]:Tn.push(t)}var _R=Ar.ReactCurrentBatchConfig;function ja(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Qu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K0(t){var e=t._init;return e(t._payload)}function N1(t){function e(w,E){if(t){var T=w.deletions;T===null?(w.deletions=[E],w.flags|=16):T.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function s(w,E){return w=gs(w,E),w.index=0,w.sibling=null,w}function i(w,E,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<E?(w.flags|=2,E):T):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,T,V){return E===null||E.tag!==6?(E=Mf(T,w.mode,V),E.return=w,E):(E=s(E,T),E.return=w,E)}function u(w,E,T,V){var N=T.type;return N===Zi?h(w,E,T.props.children,V,T.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ur&&K0(N)===E.type)?(V=s(E,T.props),V.ref=ja(w,E,T),V.return=w,V):(V=xc(T.type,T.key,T.props,null,w.mode,V),V.ref=ja(w,E,T),V.return=w,V)}function c(w,E,T,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Of(T,w.mode,V),E.return=w,E):(E=s(E,T.children||[]),E.return=w,E)}function h(w,E,T,V,N){return E===null||E.tag!==7?(E=vi(T,w.mode,V,N),E.return=w,E):(E=s(E,T),E.return=w,E)}function d(w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Mf(""+E,w.mode,T),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ju:return T=xc(E.type,E.key,E.props,null,w.mode,T),T.ref=ja(w,null,E),T.return=w,T;case Ji:return E=Of(E,w.mode,T),E.return=w,E;case Ur:var V=E._init;return d(w,V(E._payload),T)}if(qa(E)||Da(E))return E=vi(E,w.mode,T,null),E.return=w,E;Qu(w,E)}return null}function p(w,E,T,V){var N=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return N!==null?null:a(w,E,""+T,V);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ju:return T.key===N?u(w,E,T,V):null;case Ji:return T.key===N?c(w,E,T,V):null;case Ur:return N=T._init,p(w,E,N(T._payload),V)}if(qa(T)||Da(T))return N!==null?null:h(w,E,T,V,null);Qu(w,T)}return null}function y(w,E,T,V,N){if(typeof V=="string"&&V!==""||typeof V=="number")return w=w.get(T)||null,a(E,w,""+V,N);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ju:return w=w.get(V.key===null?T:V.key)||null,u(E,w,V,N);case Ji:return w=w.get(V.key===null?T:V.key)||null,c(E,w,V,N);case Ur:var j=V._init;return y(w,E,T,j(V._payload),N)}if(qa(V)||Da(V))return w=w.get(T)||null,h(E,w,V,N,null);Qu(E,V)}return null}function C(w,E,T,V){for(var N=null,j=null,v=E,_=E=0,A=null;v!==null&&_<T.length;_++){v.index>_?(A=v,v=null):A=v.sibling;var S=p(w,v,T[_],V);if(S===null){v===null&&(v=A);break}t&&v&&S.alternate===null&&e(w,v),E=i(S,E,_),j===null?N=S:j.sibling=S,j=S,v=A}if(_===T.length)return n(w,v),Ae&&Ys(w,_),N;if(v===null){for(;_<T.length;_++)v=d(w,T[_],V),v!==null&&(E=i(v,E,_),j===null?N=v:j.sibling=v,j=v);return Ae&&Ys(w,_),N}for(v=r(w,v);_<T.length;_++)A=y(v,w,_,T[_],V),A!==null&&(t&&A.alternate!==null&&v.delete(A.key===null?_:A.key),E=i(A,E,_),j===null?N=A:j.sibling=A,j=A);return t&&v.forEach(function(b){return e(w,b)}),Ae&&Ys(w,_),N}function I(w,E,T,V){var N=Da(T);if(typeof N!="function")throw Error(B(150));if(T=N.call(T),T==null)throw Error(B(151));for(var j=N=null,v=E,_=E=0,A=null,S=T.next();v!==null&&!S.done;_++,S=T.next()){v.index>_?(A=v,v=null):A=v.sibling;var b=p(w,v,S.value,V);if(b===null){v===null&&(v=A);break}t&&v&&b.alternate===null&&e(w,v),E=i(b,E,_),j===null?N=b:j.sibling=b,j=b,v=A}if(S.done)return n(w,v),Ae&&Ys(w,_),N;if(v===null){for(;!S.done;_++,S=T.next())S=d(w,S.value,V),S!==null&&(E=i(S,E,_),j===null?N=S:j.sibling=S,j=S);return Ae&&Ys(w,_),N}for(v=r(w,v);!S.done;_++,S=T.next())S=y(v,w,_,S.value,V),S!==null&&(t&&S.alternate!==null&&v.delete(S.key===null?_:S.key),E=i(S,E,_),j===null?N=S:j.sibling=S,j=S);return t&&v.forEach(function(D){return e(w,D)}),Ae&&Ys(w,_),N}function k(w,E,T,V){if(typeof T=="object"&&T!==null&&T.type===Zi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ju:e:{for(var N=T.key,j=E;j!==null;){if(j.key===N){if(N=T.type,N===Zi){if(j.tag===7){n(w,j.sibling),E=s(j,T.props.children),E.return=w,w=E;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ur&&K0(N)===j.type){n(w,j.sibling),E=s(j,T.props),E.ref=ja(w,j,T),E.return=w,w=E;break e}n(w,j);break}else e(w,j);j=j.sibling}T.type===Zi?(E=vi(T.props.children,w.mode,V,T.key),E.return=w,w=E):(V=xc(T.type,T.key,T.props,null,w.mode,V),V.ref=ja(w,E,T),V.return=w,w=V)}return o(w);case Ji:e:{for(j=T.key;E!==null;){if(E.key===j)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(w,E.sibling),E=s(E,T.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=Of(T,w.mode,V),E.return=w,w=E}return o(w);case Ur:return j=T._init,k(w,E,j(T._payload),V)}if(qa(T))return C(w,E,T,V);if(Da(T))return I(w,E,T,V);Qu(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(w,E.sibling),E=s(E,T),E.return=w,w=E):(n(w,E),E=Mf(T,w.mode,V),E.return=w,w=E),o(w)):n(w,E)}return k}var $o=N1(!0),D1=N1(!1),Xc=Os(null),Jc=null,ao=null,Tg=null;function xg(){Tg=ao=Jc=null}function Sg(t){var e=Xc.current;Ce(Xc),t._currentValue=e}function jp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Jc=t,Tg=ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Tg!==t)if(t={context:t,memoizedValue:e,next:null},ao===null){if(Jc===null)throw Error(B(308));ao=t,Jc.dependencies={lanes:0,firstContext:t}}else ao=ao.next=t;return e}var ri=null;function Ig(t){ri===null?ri=[t]:ri.push(t)}function V1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ig(e)):(n.next=s.next,s.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Br=!1;function Cg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,vr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ig(r)):(e.next=s.next,s.next=e),r.interleaved=e,vr(t,n)}function yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hg(t,n)}}function G0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zc(t,e,n,r){var s=t.updateQueue;Br=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var d=s.baseState;o=0,h=c=u=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,I=a;switch(p=e,y=n,I.tag){case 1:if(C=I.payload,typeof C=="function"){d=C.call(y,d,p);break e}d=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=I.payload,p=typeof C=="function"?C.call(y,d,p):C,p==null)break e;d=Ne({},d,p);break e;case 2:Br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=d):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Si|=o,t.lanes=o,t.memoizedState=d}}function Q0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var lu={},$n=Os(lu),Dl=Os(lu),Vl=Os(lu);function si(t){if(t===lu)throw Error(B(174));return t}function Ag(t,e){switch(we(Vl,e),we(Dl,t),we($n,lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vp(e,t)}Ce($n),we($n,e)}function Ho(){Ce($n),Ce(Dl),Ce(Vl)}function O1(t){si(Vl.current);var e=si($n.current),n=vp(e,t.type);e!==n&&(we(Dl,t),we($n,n))}function Pg(t){Dl.current===t&&(Ce($n),Ce(Dl))}var be=Os(0);function eh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bf=[];function bg(){for(var t=0;t<bf.length;t++)bf[t]._workInProgressVersionPrimary=null;bf.length=0}var vc=Ar.ReactCurrentDispatcher,Rf=Ar.ReactCurrentBatchConfig,xi=0,ke=null,We=null,et=null,th=!1,al=!1,Ml=0,wR=0;function ft(){throw Error(B(321))}function Rg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function kg(t,e,n,r,s,i){if(xi=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vc.current=t===null||t.memoizedState===null?SR:IR,t=n(r,s),al){i=0;do{if(al=!1,Ml=0,25<=i)throw Error(B(301));i+=1,et=We=null,e.updateQueue=null,vc.current=CR,t=n(r,s)}while(al)}if(vc.current=nh,e=We!==null&&We.next!==null,xi=0,et=We=ke=null,th=!1,e)throw Error(B(300));return t}function Ng(){var t=Ml!==0;return Ml=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ke.memoizedState=et=t:et=et.next=t,et}function fn(){if(We===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=et===null?ke.memoizedState:et.next;if(e!==null)et=e,We=t;else{if(t===null)throw Error(B(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},et===null?ke.memoizedState=et=t:et=et.next=t}return et}function Ol(t,e){return typeof e=="function"?e(t):e}function kf(t){var e=fn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=We,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((xi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,ke.lanes|=h,Si|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,bn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,Si|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nf(t){var e=fn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function L1(){}function j1(t,e){var n=ke,r=fn(),s=e(),i=!bn(r.memoizedState,s);if(i&&(r.memoizedState=s,Bt=!0),r=r.queue,Dg(B1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Ll(9,U1.bind(null,n,r,s,e),void 0,null),tt===null)throw Error(B(349));xi&30||F1(n,e,s)}return s}function F1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U1(t,e,n,r){e.value=n,e.getSnapshot=r,z1(e)&&$1(t)}function B1(t,e,n){return n(function(){z1(e)&&$1(t)})}function z1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function $1(t){var e=vr(t,1);e!==null&&Cn(e,t,1,-1)}function Y0(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:t},e.queue=t,t=t.dispatch=xR.bind(null,ke,t),[e.memoizedState,t]}function Ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H1(){return fn().memoizedState}function _c(t,e,n,r){var s=On();ke.flags|=t,s.memoizedState=Ll(1|e,n,void 0,r===void 0?null:r)}function Kh(t,e,n,r){var s=fn();r=r===void 0?null:r;var i=void 0;if(We!==null){var o=We.memoizedState;if(i=o.destroy,r!==null&&Rg(r,o.deps)){s.memoizedState=Ll(e,n,i,r);return}}ke.flags|=t,s.memoizedState=Ll(1|e,n,i,r)}function X0(t,e){return _c(8390656,8,t,e)}function Dg(t,e){return Kh(2048,8,t,e)}function q1(t,e){return Kh(4,2,t,e)}function W1(t,e){return Kh(4,4,t,e)}function K1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G1(t,e,n){return n=n!=null?n.concat([t]):null,Kh(4,4,K1.bind(null,e,t),n)}function Vg(){}function Q1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function X1(t,e,n){return xi&21?(bn(n,e)||(n=n1(),ke.lanes|=n,Si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function ER(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Rf.transition;Rf.transition={};try{t(!1),e()}finally{ye=n,Rf.transition=r}}function J1(){return fn().memoizedState}function TR(t,e,n){var r=ms(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z1(t))ex(e,n);else if(n=V1(t,e,n,r),n!==null){var s=kt();Cn(n,t,r,s),tx(n,e,r)}}function xR(t,e,n){var r=ms(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z1(t))ex(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bn(a,o)){var u=e.interleaved;u===null?(s.next=s,Ig(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=V1(t,e,s,r),n!==null&&(s=kt(),Cn(n,t,r,s),tx(n,e,r))}}function Z1(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function ex(t,e){al=th=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hg(t,n)}}var nh={readContext:dn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},SR={readContext:dn,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:X0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_c(4194308,4,K1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _c(4194308,4,t,e)},useInsertionEffect:function(t,e){return _c(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TR.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:Y0,useDebugValue:Vg,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=Y0(!1),e=t[0];return t=ER.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,s=On();if(Ae){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),tt===null)throw Error(B(349));xi&30||F1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,X0(B1.bind(null,r,i,t),[t]),r.flags|=2048,Ll(9,U1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=On(),e=tt.identifierPrefix;if(Ae){var n=ar,r=or;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IR={readContext:dn,useCallback:Q1,useContext:dn,useEffect:Dg,useImperativeHandle:G1,useInsertionEffect:q1,useLayoutEffect:W1,useMemo:Y1,useReducer:kf,useRef:H1,useState:function(){return kf(Ol)},useDebugValue:Vg,useDeferredValue:function(t){var e=fn();return X1(e,We.memoizedState,t)},useTransition:function(){var t=kf(Ol)[0],e=fn().memoizedState;return[t,e]},useMutableSource:L1,useSyncExternalStore:j1,useId:J1,unstable_isNewReconciler:!1},CR={readContext:dn,useCallback:Q1,useContext:dn,useEffect:Dg,useImperativeHandle:G1,useInsertionEffect:q1,useLayoutEffect:W1,useMemo:Y1,useReducer:Nf,useRef:H1,useState:function(){return Nf(Ol)},useDebugValue:Vg,useDeferredValue:function(t){var e=fn();return We===null?e.memoizedState=t:X1(e,We.memoizedState,t)},useTransition:function(){var t=Nf(Ol)[0],e=fn().memoizedState;return[t,e]},useMutableSource:L1,useSyncExternalStore:j1,useId:J1,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gh={isMounted:function(t){return(t=t._reactInternals)?Mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),s=ms(t),i=hr(r,s);i.payload=e,n!=null&&(i.callback=n),e=fs(t,i,s),e!==null&&(Cn(e,t,s,r),yc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),s=ms(t),i=hr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=fs(t,i,s),e!==null&&(Cn(e,t,s,r),yc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=ms(t),s=hr(n,r);s.tag=2,e!=null&&(s.callback=e),e=fs(t,s,r),e!==null&&(Cn(e,t,r,n),yc(e,t,r))}};function J0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!bl(n,r)||!bl(s,i):!0}function nx(t,e,n){var r=!1,s=Cs,i=e.contextType;return typeof i=="object"&&i!==null?i=dn(i):(s=$t(e)?Ei:Et.current,r=e.contextTypes,i=(r=r!=null)?Bo(t,s):Cs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Z0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gh.enqueueReplaceState(e,e.state,null)}function Up(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Cg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=dn(i):(i=$t(e)?Ei:Et.current,s.context=Bo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gh.enqueueReplaceState(s,s.state,null),Zc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qo(t,e){try{var n="",r=e;do n+=eb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Df(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AR=typeof WeakMap=="function"?WeakMap:Map;function rx(t,e,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sh||(sh=!0,Xp=r),Bp(t,e)},n}function sx(t,e,n){n=hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Bp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bp(t,e),typeof r!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function e_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=BR.bind(null,t,e,n),e.then(t,t))}function t_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hr(-1,1),e.tag=2,fs(n,e,1))),n.lanes|=1),t)}var PR=Ar.ReactCurrentOwner,Bt=!1;function bt(t,e,n,r){e.child=t===null?D1(e,null,n,r):$o(e,t.child,n,r)}function r_(t,e,n,r,s){n=n.render;var i=e.ref;return wo(e,s),r=kg(t,e,n,r,i,s),n=Ng(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(Ae&&n&&_g(e),e.flags|=1,bt(t,e,r,s),e.child)}function s_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ix(t,e,i,r,s)):(t=xc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(o,r)&&t.ref===e.ref)return _r(t,e,s)}return e.flags|=1,t=gs(i,r),t.ref=e.ref,t.return=e,e.child=t}function ix(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(bl(i,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,_r(t,e,s)}return zp(t,e,n,r,s)}function ox(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(uo,Gt),Gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(uo,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(uo,Gt),Gt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,we(uo,Gt),Gt|=r;return bt(t,e,s,n),e.child}function ax(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zp(t,e,n,r,s){var i=$t(n)?Ei:Et.current;return i=Bo(e,i),wo(e,s),n=kg(t,e,n,r,i,s),r=Ng(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(Ae&&r&&_g(e),e.flags|=1,bt(t,e,n,s),e.child)}function i_(t,e,n,r,s){if($t(n)){var i=!0;Gc(e)}else i=!1;if(wo(e,s),e.stateNode===null)wc(t,e),nx(e,n,r),Up(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=$t(n)?Ei:Et.current,c=Bo(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Z0(e,o,r,c),Br=!1;var p=e.memoizedState;o.state=p,Zc(e,r,o,s),u=e.memoizedState,a!==r||p!==u||zt.current||Br?(typeof h=="function"&&(Fp(e,n,h,r),u=e.memoizedState),(a=Br||J0(e,n,a,r,p,u,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,M1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=dn(u):(u=$t(n)?Ei:Et.current,u=Bo(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==u)&&Z0(e,o,r,u),Br=!1,p=e.memoizedState,o.state=p,Zc(e,r,o,s);var C=e.memoizedState;a!==d||p!==C||zt.current||Br?(typeof y=="function"&&(Fp(e,n,y,r),C=e.memoizedState),(c=Br||J0(e,n,c,r,p,C,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return $p(t,e,n,r,i,s)}function $p(t,e,n,r,s,i){ax(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&H0(e,n,!1),_r(t,e,i);r=e.stateNode,PR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$o(e,t.child,null,i),e.child=$o(e,null,a,i)):bt(t,e,a,i),e.memoizedState=r.state,s&&H0(e,n,!0),e.child}function lx(t){var e=t.stateNode;e.pendingContext?$0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$0(t,e.context,!1),Ag(t,e.containerInfo)}function o_(t,e,n,r,s){return zo(),Eg(s),e.flags|=256,bt(t,e,n,r),e.child}var Hp={dehydrated:null,treeContext:null,retryLane:0};function qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ux(t,e,n){var r=e.pendingProps,s=be.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),we(be,s&1),t===null)return Lp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xh(o,r,0,null),t=vi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qp(n),e.memoizedState=Hp,t):Mg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=gs(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=gs(a,i):(i=vi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Hp,r}return i=t.child,t=i.sibling,r=gs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mg(t,e){return e=Xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yu(t,e,n,r){return r!==null&&Eg(r),$o(e,t.child,null,n),t=Mg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Df(Error(B(422))),Yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Xh({mode:"visible",children:r.children},s,0,null),i=vi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$o(e,t.child,null,o),e.child.memoizedState=qp(o),e.memoizedState=Hp,i);if(!(e.mode&1))return Yu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Df(i,r,void 0),Yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vr(t,s),Cn(r,t,s,-1))}return Bg(),r=Df(Error(B(421))),Yu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qt=ds(s.nextSibling),Xt=e,Ae=!0,Tn=null,t!==null&&(an[ln++]=or,an[ln++]=ar,an[ln++]=Ti,or=t.id,ar=t.overflow,Ti=e),e=Mg(e,r.children),e.flags|=4096,e)}function a_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jp(t.return,e,n)}function Vf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(bt(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,n,e);else if(t.tag===19)a_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&eh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Vf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&eh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Vf(e,!0,n,null,i);break;case"together":Vf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=gs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RR(t,e,n){switch(e.tag){case 3:lx(e),zo();break;case 5:O1(e);break;case 1:$t(e.type)&&Gc(e);break;case 4:Ag(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;we(Xc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?ux(t,e,n):(we(be,be.current&1),t=_r(t,e,n),t!==null?t.sibling:null);we(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,ox(t,e,n)}return _r(t,e,n)}var hx,Wp,dx,fx;hx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wp=function(){};dx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,si($n.current);var i=null;switch(n){case"input":s=pp(t,s),r=pp(t,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=yp(t,s),r=yp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wc)}_p(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&xe("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};fx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fa(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kR(t,e,n){var r=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return $t(e.type)&&Kc(),pt(e),null;case 3:return r=e.stateNode,Ho(),Ce(zt),Ce(Et),bg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(em(Tn),Tn=null))),Wp(t,e),pt(e),null;case 5:Pg(e);var s=si(Vl.current);if(n=e.type,t!==null&&e.stateNode!=null)dx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return pt(e),null}if(t=si($n.current),Gu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Bn]=e,r[Nl]=i,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<Ka.length;s++)xe(Ka[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":g0(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":v0(r,i),xe("invalid",r)}_p(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ku(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ku(r.textContent,a,t),s=["children",""+a]):Tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":Fu(r),y0(r,i,!0);break;case"textarea":Fu(r),_0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bn]=e,t[Nl]=r,hx(t,e,!1,!1),e.stateNode=t;e:{switch(o=wp(n,r),n){case"dialog":xe("cancel",t),xe("close",t),s=r;break;case"iframe":case"object":case"embed":xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ka.length;s++)xe(Ka[s],t);s=r;break;case"source":xe("error",t),s=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),s=r;break;case"details":xe("toggle",t),s=r;break;case"input":g0(t,r),s=pp(t,r),xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),xe("invalid",t);break;case"textarea":v0(t,r),s=yp(t,r),xe("invalid",t);break;default:s=r}_p(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?HT(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&zT(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xl(t,u):typeof u=="number"&&xl(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&xe("scroll",t):u!=null&&ig(t,i,u,o))}switch(n){case"input":Fu(t),y0(t,r,!1);break;case"textarea":Fu(t),_0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Is(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?go(t,!!r.multiple,i,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)fx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=si(Vl.current),si($n.current),Gu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bn]=e,(i=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Ku(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ku(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bn]=e,e.stateNode=r}return pt(e),null;case 13:if(Ce(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Qt!==null&&e.mode&1&&!(e.flags&128))k1(),zo(),e.flags|=98560,i=!1;else if(i=Gu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Bn]=e}else zo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),i=!1}else Tn!==null&&(em(Tn),Tn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Qe===0&&(Qe=3):Bg())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return Ho(),Wp(t,e),t===null&&Rl(e.stateNode.containerInfo),pt(e),null;case 10:return Sg(e.type._context),pt(e),null;case 17:return $t(e.type)&&Kc(),pt(e),null;case 19:if(Ce(be),i=e.memoizedState,i===null)return pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Fa(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=eh(t),o!==null){for(e.flags|=128,Fa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(be,be.current&1|2),e.child}t=t.sibling}i.tail!==null&&Fe()>Wo&&(e.flags|=128,r=!0,Fa(i,!1),e.lanes=4194304)}else{if(!r)if(t=eh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ae)return pt(e),null}else 2*Fe()-i.renderingStartTime>Wo&&n!==1073741824&&(e.flags|=128,r=!0,Fa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fe(),e.sibling=null,n=be.current,we(be,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return Ug(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function NR(t,e){switch(wg(e),e.tag){case 1:return $t(e.type)&&Kc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ho(),Ce(zt),Ce(Et),bg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pg(e),null;case 13:if(Ce(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));zo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(be),null;case 4:return Ho(),null;case 10:return Sg(e.type._context),null;case 22:case 23:return Ug(),null;case 24:return null;default:return null}}var Xu=!1,_t=!1,DR=typeof WeakSet=="function"?WeakSet:Set,W=null;function lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function Kp(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var l_=!1;function VR(t,e){if(Rp=$c,t=v1(),vg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(u=o),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kp={focusedElem:t,selectionRange:n},$c=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var I=C.memoizedProps,k=C.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?I:vn(e.type,I),k);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(V){Oe(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return C=l_,l_=!1,C}function ll(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kp(e,n,i)}s=s.next}while(s!==r)}}function Qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function px(t){var e=t.alternate;e!==null&&(t.alternate=null,px(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[Nl],delete e[Vp],delete e[gR],delete e[yR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mx(t){return t.tag===5||t.tag===3||t.tag===4}function u_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wc));else if(r!==4&&(t=t.child,t!==null))for(Qp(t,e,n),t=t.sibling;t!==null;)Qp(t,e,n),t=t.sibling}function Yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yp(t,e,n),t=t.sibling;t!==null;)Yp(t,e,n),t=t.sibling}var rt=null,En=!1;function Or(t,e,n){for(n=n.child;n!==null;)gx(t,e,n),n=n.sibling}function gx(t,e,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Bh,n)}catch{}switch(n.tag){case 5:_t||lo(n,e);case 6:var r=rt,s=En;rt=null,Or(t,e,n),rt=r,En=s,rt!==null&&(En?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(En?(t=rt,n=n.stateNode,t.nodeType===8?Af(t.parentNode,n):t.nodeType===1&&Af(t,n),Al(t)):Af(rt,n.stateNode));break;case 4:r=rt,s=En,rt=n.stateNode.containerInfo,En=!0,Or(t,e,n),rt=r,En=s;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kp(n,e,o),s=s.next}while(s!==r)}Or(t,e,n);break;case 1:if(!_t&&(lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,e,a)}Or(t,e,n);break;case 21:Or(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Or(t,e,n),_t=r):Or(t,e,n);break;default:Or(t,e,n)}}function c_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DR),e.forEach(function(r){var s=$R.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,En=!1;break e;case 3:rt=a.stateNode.containerInfo,En=!0;break e;case 4:rt=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(rt===null)throw Error(B(160));gx(i,o,s),rt=null,En=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Oe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yx(e,t),e=e.sibling}function yx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Mn(t),r&4){try{ll(3,t,t.return),Qh(3,t)}catch(I){Oe(t,t.return,I)}try{ll(5,t,t.return)}catch(I){Oe(t,t.return,I)}}break;case 1:yn(e,t),Mn(t),r&512&&n!==null&&lo(n,n.return);break;case 5:if(yn(e,t),Mn(t),r&512&&n!==null&&lo(n,n.return),t.flags&32){var s=t.stateNode;try{xl(s,"")}catch(I){Oe(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&FT(s,i),wp(a,o);var c=wp(a,i);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];h==="style"?HT(s,d):h==="dangerouslySetInnerHTML"?zT(s,d):h==="children"?xl(s,d):ig(s,h,d,c)}switch(a){case"input":mp(s,i);break;case"textarea":UT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?go(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?go(s,!!i.multiple,i.defaultValue,!0):go(s,!!i.multiple,i.multiple?[]:"",!1))}s[Nl]=i}catch(I){Oe(t,t.return,I)}}break;case 6:if(yn(e,t),Mn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){Oe(t,t.return,I)}}break;case 3:if(yn(e,t),Mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(e.containerInfo)}catch(I){Oe(t,t.return,I)}break;case 4:yn(e,t),Mn(t);break;case 13:yn(e,t),Mn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jg=Fe())),r&4&&c_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(c=_t)||h,yn(e,t),_t=c):yn(e,t),Mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(d=W=h;W!==null;){switch(p=W,y=p.child,p.tag){case 0:case 11:case 14:case 15:ll(4,p,p.return);break;case 1:lo(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(I){Oe(r,n,I)}}break;case 5:lo(p,p.return);break;case 22:if(p.memoizedState!==null){d_(d);continue}}y!==null?(y.return=p,W=y):d_(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=$T("display",o))}catch(I){Oe(t,t.return,I)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(I){Oe(t,t.return,I)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yn(e,t),Mn(t),r&4&&c_(t);break;case 21:break;default:yn(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mx(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(xl(s,""),r.flags&=-33);var i=u_(t);Yp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=u_(t);Qp(t,a,o);break;default:throw Error(B(161))}}catch(u){Oe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MR(t,e,n){W=t,vx(t)}function vx(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Xu;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||_t;a=Xu;var c=_t;if(Xu=o,(_t=u)&&!c)for(W=s;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?f_(s):u!==null?(u.return=o,W=u):f_(s);for(;i!==null;)W=i,vx(i),i=i.sibling;W=s,Xu=a,_t=c}h_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):h_(t)}}function h_(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||Qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Q0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Al(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}_t||e.flags&512&&Gp(e)}catch(p){Oe(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function d_(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function f_(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qh(4,e)}catch(u){Oe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Oe(e,s,u)}}var i=e.return;try{Gp(e)}catch(u){Oe(e,i,u)}break;case 5:var o=e.return;try{Gp(e)}catch(u){Oe(e,o,u)}}}catch(u){Oe(e,e.return,u)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var OR=Math.ceil,rh=Ar.ReactCurrentDispatcher,Og=Ar.ReactCurrentOwner,hn=Ar.ReactCurrentBatchConfig,fe=0,tt=null,$e=null,ot=0,Gt=0,uo=Os(0),Qe=0,jl=null,Si=0,Yh=0,Lg=0,ul=null,jt=null,jg=0,Wo=1/0,nr=null,sh=!1,Xp=null,ps=null,Ju=!1,as=null,ih=0,cl=0,Jp=null,Ec=-1,Tc=0;function kt(){return fe&6?Fe():Ec!==-1?Ec:Ec=Fe()}function ms(t){return t.mode&1?fe&2&&ot!==0?ot&-ot:_R.transition!==null?(Tc===0&&(Tc=n1()),Tc):(t=ye,t!==0||(t=window.event,t=t===void 0?16:u1(t.type)),t):1}function Cn(t,e,n,r){if(50<cl)throw cl=0,Jp=null,Error(B(185));iu(t,n,r),(!(fe&2)||t!==tt)&&(t===tt&&(!(fe&2)&&(Yh|=n),Qe===4&&Hr(t,ot)),Ht(t,r),n===1&&fe===0&&!(e.mode&1)&&(Wo=Fe()+500,Wh&&Ls()))}function Ht(t,e){var n=t.callbackNode;_b(t,e);var r=zc(t,t===tt?ot:0);if(r===0)n!==null&&T0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&T0(n),e===1)t.tag===0?vR(p_.bind(null,t)):P1(p_.bind(null,t)),pR(function(){!(fe&6)&&Ls()}),n=null;else{switch(r1(r)){case 1:n=cg;break;case 4:n=e1;break;case 16:n=Bc;break;case 536870912:n=t1;break;default:n=Bc}n=Cx(n,_x.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _x(t,e){if(Ec=-1,Tc=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=zc(t,t===tt?ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oh(t,r);else{e=r;var s=fe;fe|=2;var i=Ex();(tt!==t||ot!==e)&&(nr=null,Wo=Fe()+500,yi(t,e));do try{FR();break}catch(a){wx(t,a)}while(!0);xg(),rh.current=i,fe=s,$e!==null?e=0:(tt=null,ot=0,e=Qe)}if(e!==0){if(e===2&&(s=Ip(t),s!==0&&(r=s,e=Zp(t,s))),e===1)throw n=jl,yi(t,0),Hr(t,r),Ht(t,Fe()),n;if(e===6)Hr(t,r);else{if(s=t.current.alternate,!(r&30)&&!LR(s)&&(e=oh(t,r),e===2&&(i=Ip(t),i!==0&&(r=i,e=Zp(t,i))),e===1))throw n=jl,yi(t,0),Hr(t,r),Ht(t,Fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Xs(t,jt,nr);break;case 3:if(Hr(t,r),(r&130023424)===r&&(e=jg+500-Fe(),10<e)){if(zc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Dp(Xs.bind(null,t,jt,nr),e);break}Xs(t,jt,nr);break;case 4:if(Hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-In(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OR(r/1960))-r,10<r){t.timeoutHandle=Dp(Xs.bind(null,t,jt,nr),r);break}Xs(t,jt,nr);break;case 5:Xs(t,jt,nr);break;default:throw Error(B(329))}}}return Ht(t,Fe()),t.callbackNode===n?_x.bind(null,t):null}function Zp(t,e){var n=ul;return t.current.memoizedState.isDehydrated&&(yi(t,e).flags|=256),t=oh(t,e),t!==2&&(e=jt,jt=n,e!==null&&em(e)),t}function em(t){jt===null?jt=t:jt.push.apply(jt,t)}function LR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~Lg,e&=~Yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function p_(t){if(fe&6)throw Error(B(327));Eo();var e=zc(t,0);if(!(e&1))return Ht(t,Fe()),null;var n=oh(t,e);if(t.tag!==0&&n===2){var r=Ip(t);r!==0&&(e=r,n=Zp(t,r))}if(n===1)throw n=jl,yi(t,0),Hr(t,e),Ht(t,Fe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xs(t,jt,nr),Ht(t,Fe()),null}function Fg(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Wo=Fe()+500,Wh&&Ls())}}function Ii(t){as!==null&&as.tag===0&&!(fe&6)&&Eo();var e=fe;fe|=1;var n=hn.transition,r=ye;try{if(hn.transition=null,ye=1,t)return t()}finally{ye=r,hn.transition=n,fe=e,!(fe&6)&&Ls()}}function Ug(){Gt=uo.current,Ce(uo)}function yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fR(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(wg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kc();break;case 3:Ho(),Ce(zt),Ce(Et),bg();break;case 5:Pg(r);break;case 4:Ho();break;case 13:Ce(be);break;case 19:Ce(be);break;case 10:Sg(r.type._context);break;case 22:case 23:Ug()}n=n.return}if(tt=t,$e=t=gs(t.current,null),ot=Gt=e,Qe=0,jl=null,Lg=Yh=Si=0,jt=ul=null,ri!==null){for(e=0;e<ri.length;e++)if(n=ri[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ri=null}return t}function wx(t,e){do{var n=$e;try{if(xg(),vc.current=nh,th){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}th=!1}if(xi=0,et=We=ke=null,al=!1,Ml=0,Og.current=null,n===null||n.return===null){Qe=1,jl=e,$e=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=ot,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=t_(o);if(y!==null){y.flags&=-257,n_(y,o,a,i,e),y.mode&1&&e_(i,c,e),e=y,u=c;var C=e.updateQueue;if(C===null){var I=new Set;I.add(u),e.updateQueue=I}else C.add(u);break e}else{if(!(e&1)){e_(i,c,e),Bg();break e}u=Error(B(426))}}else if(Ae&&a.mode&1){var k=t_(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),n_(k,o,a,i,e),Eg(qo(u,a));break e}}i=u=qo(u,a),Qe!==4&&(Qe=2),ul===null?ul=[i]:ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=rx(i,u,e);G0(i,w);break e;case 1:a=u;var E=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ps===null||!ps.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var V=sx(i,a,e);G0(i,V);break e}}i=i.return}while(i!==null)}xx(n)}catch(N){e=N,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function Ex(){var t=rh.current;return rh.current=nh,t===null?nh:t}function Bg(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),tt===null||!(Si&268435455)&&!(Yh&268435455)||Hr(tt,ot)}function oh(t,e){var n=fe;fe|=2;var r=Ex();(tt!==t||ot!==e)&&(nr=null,yi(t,e));do try{jR();break}catch(s){wx(t,s)}while(!0);if(xg(),fe=n,rh.current=r,$e!==null)throw Error(B(261));return tt=null,ot=0,Qe}function jR(){for(;$e!==null;)Tx($e)}function FR(){for(;$e!==null&&!cb();)Tx($e)}function Tx(t){var e=Ix(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?xx(t):$e=e,Og.current=null}function xx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NR(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,$e=null;return}}else if(n=kR(n,e,Gt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Qe===0&&(Qe=5)}function Xs(t,e,n){var r=ye,s=hn.transition;try{hn.transition=null,ye=1,UR(t,e,n,r)}finally{hn.transition=s,ye=r}return null}function UR(t,e,n,r){do Eo();while(as!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wb(t,i),t===tt&&($e=tt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ju||(Ju=!0,Cx(Bc,function(){return Eo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hn.transition,hn.transition=null;var o=ye;ye=1;var a=fe;fe|=4,Og.current=null,VR(t,n),yx(n,t),oR(kp),$c=!!Rp,kp=Rp=null,t.current=n,MR(n),hb(),fe=a,ye=o,hn.transition=i}else t.current=n;if(Ju&&(Ju=!1,as=t,ih=s),i=t.pendingLanes,i===0&&(ps=null),pb(n.stateNode),Ht(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sh)throw sh=!1,t=Xp,Xp=null,t;return ih&1&&t.tag!==0&&Eo(),i=t.pendingLanes,i&1?t===Jp?cl++:(cl=0,Jp=t):cl=0,Ls(),null}function Eo(){if(as!==null){var t=r1(ih),e=hn.transition,n=ye;try{if(hn.transition=null,ye=16>t?16:t,as===null)var r=!1;else{if(t=as,as=null,ih=0,fe&6)throw Error(B(331));var s=fe;for(fe|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(W=c;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:ll(8,h,i)}var d=h.child;if(d!==null)d.return=h,W=d;else for(;W!==null;){h=W;var p=h.sibling,y=h.return;if(px(h),h===c){W=null;break}if(p!==null){p.return=y,W=p;break}W=y}}}var C=i.alternate;if(C!==null){var I=C.child;if(I!==null){C.child=null;do{var k=I.sibling;I.sibling=null,I=k}while(I!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ll(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,W=w;break e}W=i.return}}var E=t.current;for(W=E;W!==null;){o=W;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,W=T;else e:for(o=E;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qh(9,a)}}catch(N){Oe(a,a.return,N)}if(a===o){W=null;break e}var V=a.sibling;if(V!==null){V.return=a.return,W=V;break e}W=a.return}}if(fe=s,Ls(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Bh,t)}catch{}r=!0}return r}finally{ye=n,hn.transition=e}}return!1}function m_(t,e,n){e=qo(n,e),e=rx(t,e,1),t=fs(t,e,1),e=kt(),t!==null&&(iu(t,1,e),Ht(t,e))}function Oe(t,e,n){if(t.tag===3)m_(t,t,n);else for(;e!==null;){if(e.tag===3){m_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ps===null||!ps.has(r))){t=qo(n,t),t=sx(e,t,1),e=fs(e,t,1),t=kt(),e!==null&&(iu(e,1,t),Ht(e,t));break}}e=e.return}}function BR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(ot&n)===n&&(Qe===4||Qe===3&&(ot&130023424)===ot&&500>Fe()-jg?yi(t,0):Lg|=n),Ht(t,e)}function Sx(t,e){e===0&&(t.mode&1?(e=zu,zu<<=1,!(zu&130023424)&&(zu=4194304)):e=1);var n=kt();t=vr(t,e),t!==null&&(iu(t,e,n),Ht(t,n))}function zR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sx(t,n)}function $R(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Sx(t,n)}var Ix;Ix=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,RR(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Ae&&e.flags&1048576&&b1(e,Yc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wc(t,e),t=e.pendingProps;var s=Bo(e,Et.current);wo(e,n),s=kg(null,e,r,t,s,n);var i=Ng();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(i=!0,Gc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cg(e),s.updater=Gh,e.stateNode=s,s._reactInternals=e,Up(e,r,t,n),e=$p(null,e,r,!0,i,n)):(e.tag=0,Ae&&i&&_g(e),bt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=qR(r),t=vn(r,t),s){case 0:e=zp(null,e,r,t,n);break e;case 1:e=i_(null,e,r,t,n);break e;case 11:e=r_(null,e,r,t,n);break e;case 14:e=s_(null,e,r,vn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),zp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),i_(t,e,r,s,n);case 3:e:{if(lx(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,M1(t,e),Zc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=qo(Error(B(423)),e),e=o_(t,e,r,n,s);break e}else if(r!==s){s=qo(Error(B(424)),e),e=o_(t,e,r,n,s);break e}else for(Qt=ds(e.stateNode.containerInfo.firstChild),Xt=e,Ae=!0,Tn=null,n=D1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zo(),r===s){e=_r(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return O1(e),t===null&&Lp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Np(r,s)?o=null:i!==null&&Np(r,i)&&(e.flags|=32),ax(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&Lp(e),null;case 13:return ux(t,e,n);case 4:return Ag(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$o(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),r_(t,e,r,s,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,we(Xc,r._currentValue),r._currentValue=o,i!==null)if(bn(i.value,o)){if(i.children===s.children&&!zt.current){e=_r(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=hr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),jp(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,wo(e,n),s=dn(s),r=r(s),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,s=vn(r,e.pendingProps),s=vn(r.type,s),s_(t,e,r,s,n);case 15:return ix(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),wc(t,e),e.tag=1,$t(r)?(t=!0,Gc(e)):t=!1,wo(e,n),nx(e,r,s),Up(e,r,s,n),$p(null,e,r,!0,t,n);case 19:return cx(t,e,n);case 22:return ox(t,e,n)}throw Error(B(156,e.tag))};function Cx(t,e){return ZT(t,e)}function HR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new HR(t,e,n,r)}function zg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qR(t){if(typeof t=="function")return zg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ag)return 11;if(t===lg)return 14}return 2}function gs(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zi:return vi(n.children,s,i,e);case og:o=8,s|=8;break;case cp:return t=cn(12,n,e,s|2),t.elementType=cp,t.lanes=i,t;case hp:return t=cn(13,n,e,s),t.elementType=hp,t.lanes=i,t;case dp:return t=cn(19,n,e,s),t.elementType=dp,t.lanes=i,t;case OT:return Xh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VT:o=10;break e;case MT:o=9;break e;case ag:o=11;break e;case lg:o=14;break e;case Ur:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=cn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Xh(t,e,n,r){return t=cn(22,t,r,e),t.elementType=OT,t.lanes=n,t.stateNode={isHidden:!1},t}function Mf(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Of(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $g(t,e,n,r,s,i,o,a,u){return t=new WR(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cg(i),t}function KR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ax(t){if(!t)return Cs;t=t._reactInternals;e:{if(Mi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if($t(n))return A1(t,n,e)}return e}function Px(t,e,n,r,s,i,o,a,u){return t=$g(n,r,!0,t,s,i,o,a,u),t.context=Ax(null),n=t.current,r=kt(),s=ms(n),i=hr(r,s),i.callback=e??null,fs(n,i,s),t.current.lanes=s,iu(t,s,r),Ht(t,r),t}function Jh(t,e,n,r){var s=e.current,i=kt(),o=ms(s);return n=Ax(n),e.context===null?e.context=n:e.pendingContext=n,e=hr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fs(s,e,o),t!==null&&(Cn(t,s,o,i),yc(t,s,o)),o}function ah(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hg(t,e){g_(t,e),(t=t.alternate)&&g_(t,e)}function GR(){return null}var bx=typeof reportError=="function"?reportError:function(t){console.error(t)};function qg(t){this._internalRoot=t}Zh.prototype.render=qg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Jh(t,e,null,null)};Zh.prototype.unmount=qg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ii(function(){Jh(null,t,null,null)}),e[yr]=null}};function Zh(t){this._internalRoot=t}Zh.prototype.unstable_scheduleHydration=function(t){if(t){var e=o1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$r.length&&e!==0&&e<$r[n].priority;n++);$r.splice(n,0,t),n===0&&l1(t)}};function Wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y_(){}function QR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ah(o);i.call(c)}}var o=Px(e,r,t,0,null,!1,!1,"",y_);return t._reactRootContainer=o,t[yr]=o.current,Rl(t.nodeType===8?t.parentNode:t),Ii(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ah(u);a.call(c)}}var u=$g(t,0,!1,null,null,!1,!1,"",y_);return t._reactRootContainer=u,t[yr]=u.current,Rl(t.nodeType===8?t.parentNode:t),Ii(function(){Jh(e,u,n,r)}),u}function td(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=ah(o);a.call(u)}}Jh(e,o,t,s)}else o=QR(n,e,t,s,r);return ah(o)}s1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wa(e.pendingLanes);n!==0&&(hg(e,n|1),Ht(e,Fe()),!(fe&6)&&(Wo=Fe()+500,Ls()))}break;case 13:Ii(function(){var r=vr(t,1);if(r!==null){var s=kt();Cn(r,t,1,s)}}),Hg(t,1)}};dg=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=kt();Cn(e,t,134217728,n)}Hg(t,134217728)}};i1=function(t){if(t.tag===13){var e=ms(t),n=vr(t,e);if(n!==null){var r=kt();Cn(n,t,e,r)}Hg(t,e)}};o1=function(){return ye};a1=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Tp=function(t,e,n){switch(e){case"input":if(mp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=qh(r);if(!s)throw Error(B(90));jT(r),mp(r,s)}}}break;case"textarea":UT(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};KT=Fg;GT=Ii;var YR={usingClientEntryPoint:!1,Events:[au,ro,qh,qT,WT,Fg]},Ua={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XR={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||GR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{Bh=Zu.inject(XR),zn=Zu}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YR;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wg(e))throw Error(B(200));return KR(t,e,null,n)};en.createRoot=function(t,e){if(!Wg(t))throw Error(B(299));var n=!1,r="",s=bx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$g(t,1,!1,null,null,n,!1,r,s),t[yr]=e.current,Rl(t.nodeType===8?t.parentNode:t),new qg(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=XT(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return Ii(t)};en.hydrate=function(t,e,n){if(!ed(e))throw Error(B(200));return td(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!Wg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Px(e,null,t,1,n??null,s,!1,i,o),t[yr]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Zh(e)};en.render=function(t,e,n){if(!ed(e))throw Error(B(200));return td(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!ed(t))throw Error(B(40));return t._reactRootContainer?(Ii(function(){td(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};en.unstable_batchedUpdates=Fg;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ed(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return td(t,e,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function Rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rx)}catch(t){console.error(t)}}Rx(),RT.exports=en;var JR=RT.exports,kx,v_=JR;kx=v_.createRoot,v_.hydrateRoot;let ZR={data:""},ek=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ZR,tk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nk=/\/\*[^]*?\*\/|  +/g,__=/\n+/g,qr=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?qr(o,i):i+"{"+qr(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=qr(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=qr.p?qr.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},er={},Nx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Nx(t[n]);return e}return t},rk=(t,e,n,r,s)=>{let i=Nx(t),o=er[i]||(er[i]=(u=>{let c=0,h=11;for(;c<u.length;)h=101*h+u.charCodeAt(c++)>>>0;return"go"+h})(i));if(!er[o]){let u=i!==t?t:(c=>{let h,d,p=[{}];for(;h=tk.exec(c.replace(nk,""));)h[4]?p.shift():h[3]?(d=h[3].replace(__," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][h[1]]=h[2].replace(__," ").trim();return p[0]})(t);er[o]=qr(s?{["@keyframes "+o]:u}:u,n?"":"."+o)}let a=n&&er.g?er.g:null;return n&&(er.g=er[o]),((u,c,h,d)=>{d?c.data=c.data.replace(d,u):c.data.indexOf(u)===-1&&(c.data=h?u+c.data:c.data+u)})(er[o],e,r,a),o},sk=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=u?"."+u:a&&typeof a=="object"?a.props?"":qr(a,""):a===!1?"":a}return r+s+(o??"")},"");function nd(t){let e=this||{},n=t.call?t(e.p):t;return rk(n.unshift?n.raw?sk(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,ek(e.target),e.g,e.o,e.k)}let Dx,tm,nm;nd.bind({g:1});let wr=nd.bind({k:1});function ik(t,e,n,r){qr.p=e,Dx=t,tm=n,nm=r}function js(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),u=a.className||s.className;n.p=Object.assign({theme:tm&&tm()},a),n.o=/ *go\d+/.test(u),a.className=nd.apply(n,r)+(u?" "+u:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),nm&&c[0]&&nm(a),Dx(c,a)}return s}}var ok=t=>typeof t=="function",lh=(t,e)=>ok(t)?t(e):t,ak=(()=>{let t=0;return()=>(++t).toString()})(),Vx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),lk=20,Mx=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,lk)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return Mx(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Sc=[],ii={toasts:[],pausedAt:void 0},Oi=t=>{ii=Mx(ii,t),Sc.forEach(e=>{e(ii)})},uk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ck=(t={})=>{let[e,n]=O.useState(ii),r=O.useRef(ii);O.useEffect(()=>(r.current!==ii&&n(ii),Sc.push(n),()=>{let i=Sc.indexOf(n);i>-1&&Sc.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,u;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||uk[i.type],style:{...t.style,...(u=t[i.type])==null?void 0:u.style,...i.style}}});return{...e,toasts:s}},hk=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||ak()}),uu=t=>(e,n)=>{let r=hk(e,t,n);return Oi({type:2,toast:r}),r.id},Ft=(t,e)=>uu("blank")(t,e);Ft.error=uu("error");Ft.success=uu("success");Ft.loading=uu("loading");Ft.custom=uu("custom");Ft.dismiss=t=>{Oi({type:3,toastId:t})};Ft.remove=t=>Oi({type:4,toastId:t});Ft.promise=(t,e,n)=>{let r=Ft.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?lh(e.success,s):void 0;return i?Ft.success(i,{id:r,...n,...n==null?void 0:n.success}):Ft.dismiss(r),s}).catch(s=>{let i=e.error?lh(e.error,s):void 0;i?Ft.error(i,{id:r,...n,...n==null?void 0:n.error}):Ft.dismiss(r)}),t};var dk=(t,e)=>{Oi({type:1,toast:{id:t,height:e}})},fk=()=>{Oi({type:5,time:Date.now()})},hl=new Map,pk=1e3,mk=(t,e=pk)=>{if(hl.has(t))return;let n=setTimeout(()=>{hl.delete(t),Oi({type:4,toastId:t})},e);hl.set(t,n)},gk=t=>{let{toasts:e,pausedAt:n}=ck(t);O.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(u<0){a.visible&&Ft.dismiss(a.id);return}return setTimeout(()=>Ft.dismiss(a.id),u)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=O.useCallback(()=>{n&&Oi({type:6,time:Date.now()})},[n]),s=O.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:c}=o||{},h=e.filter(y=>(y.position||c)===(i.position||c)&&y.height),d=h.findIndex(y=>y.id===i.id),p=h.filter((y,C)=>C<d&&y.visible).length;return h.filter(y=>y.visible).slice(...a?[p+1]:[0,p]).reduce((y,C)=>y+(C.height||0)+u,0)},[e]);return O.useEffect(()=>{e.forEach(i=>{if(i.dismissed)mk(i.id,i.removeDelay);else{let o=hl.get(i.id);o&&(clearTimeout(o),hl.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:dk,startPause:fk,endPause:r,calculateOffset:s}}},yk=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vk=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_k=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wk=js("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_k} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ek=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Tk=js("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Ek} 1s linear infinite;
`,xk=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Sk=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ik=js("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Sk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ck=js("div")`
  position: absolute;
`,Ak=js("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Pk=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bk=js("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Pk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Rk=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?O.createElement(bk,null,e):e:n==="blank"?null:O.createElement(Ak,null,O.createElement(Tk,{...r}),n!=="loading"&&O.createElement(Ck,null,n==="error"?O.createElement(wk,{...r}):O.createElement(Ik,{...r})))},kk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Nk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Dk="0%{opacity:0;} 100%{opacity:1;}",Vk="0%{opacity:1;} 100%{opacity:0;}",Mk=js("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ok=js("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Lk=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Vx()?[Dk,Vk]:[kk(n),Nk(n)];return{animation:e?`${wr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jk=O.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?Lk(t.position||e||"top-center",t.visible):{opacity:0},i=O.createElement(Rk,{toast:t}),o=O.createElement(Ok,{...t.ariaProps},lh(t.message,t));return O.createElement(Mk,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):O.createElement(O.Fragment,null,i,o))});ik(O.createElement);var Fk=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=O.useCallback(o=>{if(o){let a=()=>{let u=o.getBoundingClientRect().height;r(t,u)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return O.createElement("div",{ref:i,className:e,style:n},s)},Uk=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},Bk=nd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ec=16,zk=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:u}=gk(n);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ec,left:ec,right:ec,bottom:ec,pointerEvents:"none",...i},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(c=>{let h=c.position||e,d=u.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),p=Uk(h,d);return O.createElement(Fk,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?Bk:"",style:p},c.type==="custom"?lh(c.message,c):s?s(c):O.createElement(jk,{toast:c,position:h}))}))},oa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ci=typeof window>"u"||"Deno"in globalThis;function Rt(){}function $k(t,e){return typeof t=="function"?t(e):t}function rm(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ox(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ys(t,e){return typeof t=="function"?t(e):t}function on(t,e){return typeof t=="function"?t(e):t}function w_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Kg(o,e.options))return!1}else if(!Fl(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function E_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ai(e.options.mutationKey)!==Ai(i))return!1}else if(!Fl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Kg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ai)(t)}function Ai(t){return JSON.stringify(t,(e,n)=>sm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Fl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Fl(t[n],e[n])):!1}function Lx(t,e){if(t===e)return t;const n=T_(t)&&T_(e);if(n||sm(t)&&sm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},u=new Set(r);let c=0;for(let h=0;h<o;h++){const d=n?h:i[h];(!n&&u.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=Lx(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function uh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function T_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sm(t){if(!x_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!x_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function x_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hk(t){return new Promise(e=>{setTimeout(e,t)})}function im(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Lx(t,e):e}function qk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Wk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Gg=Symbol();function jx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Gg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Fx(t,e){return typeof t=="function"?t(...e):!!t}var li,Yr,Po,lT,Kk=(lT=class extends oa{constructor(){super();Q(this,li);Q(this,Yr);Q(this,Po);H(this,Po,e=>{if(!Ci&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,Yr)||this.setEventListener(R(this,Po))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Yr))==null||e.call(this),H(this,Yr,void 0))}setEventListener(e){var n;H(this,Po,e),(n=R(this,Yr))==null||n.call(this),H(this,Yr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){R(this,li)!==e&&(H(this,li,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof R(this,li)=="boolean"?R(this,li):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},li=new WeakMap,Yr=new WeakMap,Po=new WeakMap,lT),Qg=new Kk,bo,Xr,Ro,uT,Gk=(uT=class extends oa{constructor(){super();Q(this,bo,!0);Q(this,Xr);Q(this,Ro);H(this,Ro,e=>{if(!Ci&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,Xr)||this.setEventListener(R(this,Ro))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Xr))==null||e.call(this),H(this,Xr,void 0))}setEventListener(e){var n;H(this,Ro,e),(n=R(this,Xr))==null||n.call(this),H(this,Xr,e(this.setOnline.bind(this)))}setOnline(e){R(this,bo)!==e&&(H(this,bo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return R(this,bo)}},bo=new WeakMap,Xr=new WeakMap,Ro=new WeakMap,uT),ch=new Gk;function om(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Qk(t){return Math.min(1e3*2**t,3e4)}function Ux(t){return(t??"online")==="online"?ch.isOnline():!0}var Bx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lf(t){return t instanceof Bx}function zx(t){let e=!1,n=0,r=!1,s;const i=om(),o=I=>{var k;r||(p(new Bx(I)),(k=t.abort)==null||k.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>Qg.isFocused()&&(t.networkMode==="always"||ch.isOnline())&&t.canRun(),h=()=>Ux(t.networkMode)&&t.canRun(),d=I=>{var k;r||(r=!0,(k=t.onSuccess)==null||k.call(t,I),s==null||s(),i.resolve(I))},p=I=>{var k;r||(r=!0,(k=t.onError)==null||k.call(t,I),s==null||s(),i.reject(I))},y=()=>new Promise(I=>{var k;s=w=>{(r||c())&&I(w)},(k=t.onPause)==null||k.call(t)}).then(()=>{var I;s=void 0,r||(I=t.onContinue)==null||I.call(t)}),C=()=>{if(r)return;let I;const k=n===0?t.initialPromise:void 0;try{I=k??t.fn()}catch(w){I=Promise.reject(w)}Promise.resolve(I).then(d).catch(w=>{var j;if(r)return;const E=t.retry??(Ci?0:3),T=t.retryDelay??Qk,V=typeof T=="function"?T(n,w):T,N=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,w);if(e||!N){p(w);return}n++,(j=t.onFail)==null||j.call(t,n,w),Hk(V).then(()=>c()?void 0:y()).then(()=>{e?p(w):C()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?C():y().then(C),i)}}var Yk=t=>setTimeout(t,0);function Xk(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=Yk;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ke=Xk(),ui,cT,$x=(cT=class{constructor(){Q(this,ui)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rm(this.gcTime)&&H(this,ui,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ci?1/0:5*60*1e3))}clearGcTimeout(){R(this,ui)&&(clearTimeout(R(this,ui)),H(this,ui,void 0))}},ui=new WeakMap,cT),ko,ci,sn,hi,gt,eu,di,_n,tr,hT,Jk=(hT=class extends $x{constructor(n){super();Q(this,_n);Q(this,ko);Q(this,ci);Q(this,sn);Q(this,hi);Q(this,gt);Q(this,eu);Q(this,di);H(this,di,!1),H(this,eu,n.defaultOptions),this.setOptions(n.options),this.observers=[],H(this,hi,n.client),H(this,sn,R(this,hi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,H(this,ko,Zk(this.options)),this.state=n.state??R(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=R(this,gt))==null?void 0:n.promise}setOptions(n){this.options={...R(this,eu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,sn).remove(this)}setData(n,r){const s=im(this.state.data,n,this.options);return ie(this,_n,tr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){ie(this,_n,tr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=R(this,gt))==null?void 0:s.promise;return(i=R(this,gt))==null||i.cancel(n),r?r.then(Rt).catch(Rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,ko))}isActive(){return this.observers.some(n=>on(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ys(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Ox(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=R(this,gt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=R(this,gt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),R(this,sn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(R(this,gt)&&(R(this,di)?R(this,gt).cancel({revert:!0}):R(this,gt).cancelRetry()),this.scheduleGc()),R(this,sn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ie(this,_n,tr).call(this,{type:"invalidate"})}fetch(n,r){var h,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,gt))return R(this,gt).continueRetry(),R(this,gt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const y=this.observers.find(C=>C.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(H(this,di,!0),s.signal)})},o=()=>{const y=jx(this.options,r),I=(()=>{const k={client:R(this,hi),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return H(this,di,!1),this.options.persister?this.options.persister(y,I,this):y(I)},u=(()=>{const y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,hi),state:this.state,fetchFn:o};return i(y),y})();(h=this.options.behavior)==null||h.onFetch(u,this),H(this,ci,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=u.fetchOptions)==null?void 0:d.meta))&&ie(this,_n,tr).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const c=y=>{var C,I,k,w;Lf(y)&&y.silent||ie(this,_n,tr).call(this,{type:"error",error:y}),Lf(y)||((I=(C=R(this,sn).config).onError)==null||I.call(C,y,this),(w=(k=R(this,sn).config).onSettled)==null||w.call(k,this.state.data,y,this)),this.scheduleGc()};return H(this,gt,zx({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:y=>{var C,I,k,w;if(y===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(E){c(E);return}(I=(C=R(this,sn).config).onSuccess)==null||I.call(C,y,this),(w=(k=R(this,sn).config).onSettled)==null||w.call(k,y,this.state.error,this),this.scheduleGc()},onError:c,onFail:(y,C)=>{ie(this,_n,tr).call(this,{type:"failed",failureCount:y,error:C})},onPause:()=>{ie(this,_n,tr).call(this,{type:"pause"})},onContinue:()=>{ie(this,_n,tr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),R(this,gt).start()}},ko=new WeakMap,ci=new WeakMap,sn=new WeakMap,hi=new WeakMap,gt=new WeakMap,eu=new WeakMap,di=new WeakMap,_n=new WeakSet,tr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Hx(s.data,this.options),fetchMeta:n.meta??null};case"success":return H(this,ci,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Lf(i)&&i.revert&&R(this,ci)?{...R(this,ci),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ke.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),R(this,sn).notify({query:this,type:"updated",action:n})})},hT);function Hx(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ux(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Zk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var jn,dT,e2=(dT=class extends oa{constructor(e={}){super();Q(this,jn);this.config=e,H(this,jn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Kg(s,n);let o=this.get(i);return o||(o=new Jk({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){R(this,jn).has(e.queryHash)||(R(this,jn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=R(this,jn).get(e.queryHash);n&&(e.destroy(),n===e&&R(this,jn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ke.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,jn).get(e)}getAll(){return[...R(this,jn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>w_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>w_(e,r)):n}notify(e){Ke.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ke.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ke.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},jn=new WeakMap,dT),Fn,Ct,fi,Un,jr,fT,t2=(fT=class extends $x{constructor(n){super();Q(this,Un);Q(this,Fn);Q(this,Ct);Q(this,fi);this.mutationId=n.mutationId,H(this,Ct,n.mutationCache),H(this,Fn,[]),this.state=n.state||qx(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){R(this,Fn).includes(n)||(R(this,Fn).push(n),this.clearGcTimeout(),R(this,Ct).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){H(this,Fn,R(this,Fn).filter(r=>r!==n)),this.scheduleGc(),R(this,Ct).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){R(this,Fn).length||(this.state.status==="pending"?this.scheduleGc():R(this,Ct).remove(this))}continue(){var n;return((n=R(this,fi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,u,c,h,d,p,y,C,I,k,w,E,T,V,N,j,v,_,A;const r=()=>{ie(this,Un,jr).call(this,{type:"continue"})};H(this,fi,zx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,b)=>{ie(this,Un,jr).call(this,{type:"failed",failureCount:S,error:b})},onPause:()=>{ie(this,Un,jr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Ct).canRun(this)}));const s=this.state.status==="pending",i=!R(this,fi).canStart();try{if(s)r();else{ie(this,Un,jr).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=R(this,Ct).config).onMutate)==null?void 0:a.call(o,n,this));const b=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));b!==this.state.context&&ie(this,Un,jr).call(this,{type:"pending",context:b,variables:n,isPaused:i})}const S=await R(this,fi).start();return await((d=(h=R(this,Ct).config).onSuccess)==null?void 0:d.call(h,S,n,this.state.context,this)),await((y=(p=this.options).onSuccess)==null?void 0:y.call(p,S,n,this.state.context)),await((I=(C=R(this,Ct).config).onSettled)==null?void 0:I.call(C,S,null,this.state.variables,this.state.context,this)),await((w=(k=this.options).onSettled)==null?void 0:w.call(k,S,null,n,this.state.context)),ie(this,Un,jr).call(this,{type:"success",data:S}),S}catch(S){try{throw await((T=(E=R(this,Ct).config).onError)==null?void 0:T.call(E,S,n,this.state.context,this)),await((N=(V=this.options).onError)==null?void 0:N.call(V,S,n,this.state.context)),await((v=(j=R(this,Ct).config).onSettled)==null?void 0:v.call(j,void 0,S,this.state.variables,this.state.context,this)),await((A=(_=this.options).onSettled)==null?void 0:A.call(_,void 0,S,n,this.state.context)),S}finally{ie(this,Un,jr).call(this,{type:"error",error:S})}}finally{R(this,Ct).runNext(this)}}},Fn=new WeakMap,Ct=new WeakMap,fi=new WeakMap,Un=new WeakSet,jr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ke.batch(()=>{R(this,Fn).forEach(s=>{s.onMutationUpdate(n)}),R(this,Ct).notify({mutation:this,type:"updated",action:n})})},fT);function qx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sr,wn,tu,pT,n2=(pT=class extends oa{constructor(e={}){super();Q(this,sr);Q(this,wn);Q(this,tu);this.config=e,H(this,sr,new Set),H(this,wn,new Map),H(this,tu,0)}build(e,n,r){const s=new t2({mutationCache:this,mutationId:++Ou(this,tu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){R(this,sr).add(e);const n=tc(e);if(typeof n=="string"){const r=R(this,wn).get(n);r?r.push(e):R(this,wn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,sr).delete(e)){const n=tc(e);if(typeof n=="string"){const r=R(this,wn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&R(this,wn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=tc(e);if(typeof n=="string"){const r=R(this,wn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=tc(e);if(typeof n=="string"){const s=(r=R(this,wn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ke.batch(()=>{R(this,sr).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,sr).clear(),R(this,wn).clear()})}getAll(){return Array.from(R(this,sr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>E_(n,r))}findAll(e={}){return this.getAll().filter(n=>E_(e,n))}notify(e){Ke.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ke.batch(()=>Promise.all(e.map(n=>n.continue().catch(Rt))))}},sr=new WeakMap,wn=new WeakMap,tu=new WeakMap,pT);function tc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function S_(t){return{onFetch:(e,n)=>{var h,d,p,y,C;const r=e.options,s=(p=(d=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((C=e.state.data)==null?void 0:C.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let I=!1;const k=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?I=!0:e.signal.addEventListener("abort",()=>{I=!0}),e.signal)})},w=jx(e.options,e.fetchOptions),E=async(T,V,N)=>{if(I)return Promise.reject();if(V==null&&T.pages.length)return Promise.resolve(T);const v=(()=>{const b={client:e.client,queryKey:e.queryKey,pageParam:V,direction:N?"backward":"forward",meta:e.options.meta};return k(b),b})(),_=await w(v),{maxPages:A}=e.options,S=N?Wk:qk;return{pages:S(T.pages,_,A),pageParams:S(T.pageParams,V,A)}};if(s&&i.length){const T=s==="backward",V=T?r2:I_,N={pages:i,pageParams:o},j=V(r,N);a=await E(N,j,T)}else{const T=t??i.length;do{const V=u===0?o[0]??r.initialPageParam:I_(r,a);if(u>0&&V==null)break;a=await E(a,V),u++}while(u<T)}return a};e.options.persister?e.fetchFn=()=>{var I,k;return(k=(I=e.options).persister)==null?void 0:k.call(I,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function I_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function r2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Me,Jr,Zr,No,Do,es,Vo,Mo,mT,s2=(mT=class{constructor(t={}){Q(this,Me);Q(this,Jr);Q(this,Zr);Q(this,No);Q(this,Do);Q(this,es);Q(this,Vo);Q(this,Mo);H(this,Me,t.queryCache||new e2),H(this,Jr,t.mutationCache||new n2),H(this,Zr,t.defaultOptions||{}),H(this,No,new Map),H(this,Do,new Map),H(this,es,0)}mount(){Ou(this,es)._++,R(this,es)===1&&(H(this,Vo,Qg.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Me).onFocus())})),H(this,Mo,ch.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Me).onOnline())})))}unmount(){var t,e;Ou(this,es)._--,R(this,es)===0&&((t=R(this,Vo))==null||t.call(this),H(this,Vo,void 0),(e=R(this,Mo))==null||e.call(this),H(this,Mo,void 0))}isFetching(t){return R(this,Me).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Jr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,Me).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=R(this,Me).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ys(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return R(this,Me).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=R(this,Me).get(r.queryHash),i=s==null?void 0:s.state.data,o=$k(e,i);if(o!==void 0)return R(this,Me).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ke.batch(()=>R(this,Me).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,Me).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=R(this,Me);Ke.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=R(this,Me);return Ke.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ke.batch(()=>R(this,Me).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Rt).catch(Rt)}invalidateQueries(t,e={}){return Ke.batch(()=>(R(this,Me).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ke.batch(()=>R(this,Me).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Rt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Rt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=R(this,Me).build(this,e);return n.isStaleByTime(ys(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rt).catch(Rt)}fetchInfiniteQuery(t){return t.behavior=S_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rt).catch(Rt)}ensureInfiniteQueryData(t){return t.behavior=S_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ch.isOnline()?R(this,Jr).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Me)}getMutationCache(){return R(this,Jr)}getDefaultOptions(){return R(this,Zr)}setDefaultOptions(t){H(this,Zr,t)}setQueryDefaults(t,e){R(this,No).set(Ai(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,No).values()],n={};return e.forEach(r=>{Fl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){R(this,Do).set(Ai(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Do).values()],n={};return e.forEach(r=>{Fl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Zr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Kg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Gg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Zr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Me).clear(),R(this,Jr).clear()}},Me=new WeakMap,Jr=new WeakMap,Zr=new WeakMap,No=new WeakMap,Do=new WeakMap,es=new WeakMap,Vo=new WeakMap,Mo=new WeakMap,mT),Mt,ce,nu,At,pi,Oo,ts,ns,ru,Lo,jo,mi,gi,rs,Fo,pe,Ga,am,lm,um,cm,hm,dm,fm,Wx,gT,i2=(gT=class extends oa{constructor(e,n){super();Q(this,pe);Q(this,Mt);Q(this,ce);Q(this,nu);Q(this,At);Q(this,pi);Q(this,Oo);Q(this,ts);Q(this,ns);Q(this,ru);Q(this,Lo);Q(this,jo);Q(this,mi);Q(this,gi);Q(this,rs);Q(this,Fo,new Set);this.options=n,H(this,Mt,e),H(this,ns,null),H(this,ts,om()),this.options.experimental_prefetchInRender||R(this,ts).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,ce).addObserver(this),C_(R(this,ce),this.options)?ie(this,pe,Ga).call(this):this.updateResult(),ie(this,pe,cm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pm(R(this,ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pm(R(this,ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ie(this,pe,hm).call(this),ie(this,pe,dm).call(this),R(this,ce).removeObserver(this)}setOptions(e){const n=this.options,r=R(this,ce);if(this.options=R(this,Mt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof on(this.options.enabled,R(this,ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ie(this,pe,fm).call(this),R(this,ce).setOptions(this.options),n._defaulted&&!uh(this.options,n)&&R(this,Mt).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,ce),observer:this});const s=this.hasListeners();s&&A_(R(this,ce),r,this.options,n)&&ie(this,pe,Ga).call(this),this.updateResult(),s&&(R(this,ce)!==r||on(this.options.enabled,R(this,ce))!==on(n.enabled,R(this,ce))||ys(this.options.staleTime,R(this,ce))!==ys(n.staleTime,R(this,ce)))&&ie(this,pe,am).call(this);const i=ie(this,pe,lm).call(this);s&&(R(this,ce)!==r||on(this.options.enabled,R(this,ce))!==on(n.enabled,R(this,ce))||i!==R(this,rs))&&ie(this,pe,um).call(this,i)}getOptimisticResult(e){const n=R(this,Mt).getQueryCache().build(R(this,Mt),e),r=this.createResult(n,e);return a2(this,r)&&(H(this,At,r),H(this,Oo,this.options),H(this,pi,R(this,ce).state)),r}getCurrentResult(){return R(this,At)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){R(this,Fo).add(e)}getCurrentQuery(){return R(this,ce)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=R(this,Mt).defaultQueryOptions(e),r=R(this,Mt).getQueryCache().build(R(this,Mt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ie(this,pe,Ga).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,At)))}createResult(e,n){var A;const r=R(this,ce),s=this.options,i=R(this,At),o=R(this,pi),a=R(this,Oo),c=e!==r?e.state:R(this,nu),{state:h}=e;let d={...h},p=!1,y;if(n._optimisticResults){const S=this.hasListeners(),b=!S&&C_(e,n),D=S&&A_(e,r,n,s);(b||D)&&(d={...d,...Hx(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:C,errorUpdatedAt:I,status:k}=d;y=d.data;let w=!1;if(n.placeholderData!==void 0&&y===void 0&&k==="pending"){let S;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(S=i.data,w=!0):S=typeof n.placeholderData=="function"?n.placeholderData((A=R(this,jo))==null?void 0:A.state.data,R(this,jo)):n.placeholderData,S!==void 0&&(k="success",y=im(i==null?void 0:i.data,S,n),p=!0)}if(n.select&&y!==void 0&&!w)if(i&&y===(o==null?void 0:o.data)&&n.select===R(this,ru))y=R(this,Lo);else try{H(this,ru,n.select),y=n.select(y),y=im(i==null?void 0:i.data,y,n),H(this,Lo,y),H(this,ns,null)}catch(S){H(this,ns,S)}R(this,ns)&&(C=R(this,ns),y=R(this,Lo),I=Date.now(),k="error");const E=d.fetchStatus==="fetching",T=k==="pending",V=k==="error",N=T&&E,j=y!==void 0,_={status:k,fetchStatus:d.fetchStatus,isPending:T,isSuccess:k==="success",isError:V,isInitialLoading:N,isLoading:N,data:y,dataUpdatedAt:d.dataUpdatedAt,error:C,errorUpdatedAt:I,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:E,isRefetching:E&&!T,isLoadingError:V&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:V&&j,isStale:Yg(e,n),refetch:this.refetch,promise:R(this,ts),isEnabled:on(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const S=P=>{_.status==="error"?P.reject(_.error):_.data!==void 0&&P.resolve(_.data)},b=()=>{const P=H(this,ts,_.promise=om());S(P)},D=R(this,ts);switch(D.status){case"pending":e.queryHash===r.queryHash&&S(D);break;case"fulfilled":(_.status==="error"||_.data!==D.value)&&b();break;case"rejected":(_.status!=="error"||_.error!==D.reason)&&b();break}}return _}updateResult(){const e=R(this,At),n=this.createResult(R(this,ce),this.options);if(H(this,pi,R(this,ce).state),H(this,Oo,this.options),R(this,pi).data!==void 0&&H(this,jo,R(this,ce)),uh(n,e))return;H(this,At,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!R(this,Fo).size)return!0;const o=new Set(i??R(this,Fo));return this.options.throwOnError&&o.add("error"),Object.keys(R(this,At)).some(a=>{const u=a;return R(this,At)[u]!==e[u]&&o.has(u)})};ie(this,pe,Wx).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ie(this,pe,cm).call(this)}},Mt=new WeakMap,ce=new WeakMap,nu=new WeakMap,At=new WeakMap,pi=new WeakMap,Oo=new WeakMap,ts=new WeakMap,ns=new WeakMap,ru=new WeakMap,Lo=new WeakMap,jo=new WeakMap,mi=new WeakMap,gi=new WeakMap,rs=new WeakMap,Fo=new WeakMap,pe=new WeakSet,Ga=function(e){ie(this,pe,fm).call(this);let n=R(this,ce).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Rt)),n},am=function(){ie(this,pe,hm).call(this);const e=ys(this.options.staleTime,R(this,ce));if(Ci||R(this,At).isStale||!rm(e))return;const r=Ox(R(this,At).dataUpdatedAt,e)+1;H(this,mi,setTimeout(()=>{R(this,At).isStale||this.updateResult()},r))},lm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,ce)):this.options.refetchInterval)??!1},um=function(e){ie(this,pe,dm).call(this),H(this,rs,e),!(Ci||on(this.options.enabled,R(this,ce))===!1||!rm(R(this,rs))||R(this,rs)===0)&&H(this,gi,setInterval(()=>{(this.options.refetchIntervalInBackground||Qg.isFocused())&&ie(this,pe,Ga).call(this)},R(this,rs)))},cm=function(){ie(this,pe,am).call(this),ie(this,pe,um).call(this,ie(this,pe,lm).call(this))},hm=function(){R(this,mi)&&(clearTimeout(R(this,mi)),H(this,mi,void 0))},dm=function(){R(this,gi)&&(clearInterval(R(this,gi)),H(this,gi,void 0))},fm=function(){const e=R(this,Mt).getQueryCache().build(R(this,Mt),this.options);if(e===R(this,ce))return;const n=R(this,ce);H(this,ce,e),H(this,nu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Wx=function(e){Ke.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(R(this,At))}),R(this,Mt).getQueryCache().notify({query:R(this,ce),type:"observerResultsUpdated"})})},gT);function o2(t,e){return on(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function C_(t,e){return o2(t,e)||t.state.data!==void 0&&pm(t,e,e.refetchOnMount)}function pm(t,e,n){if(on(e.enabled,t)!==!1&&ys(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Yg(t,e)}return!1}function A_(t,e,n,r){return(t!==e||on(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Yg(t,n)}function Yg(t,e){return on(e.enabled,t)!==!1&&t.isStaleByTime(ys(e.staleTime,t))}function a2(t,e){return!uh(t.getCurrentResult(),e)}var ss,is,Ot,ir,mr,Ic,mm,yT,l2=(yT=class extends oa{constructor(n,r){super();Q(this,mr);Q(this,ss);Q(this,is);Q(this,Ot);Q(this,ir);H(this,ss,n),this.setOptions(r),this.bindMethods(),ie(this,mr,Ic).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=R(this,ss).defaultMutationOptions(n),uh(this.options,r)||R(this,ss).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Ot),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ai(r.mutationKey)!==Ai(this.options.mutationKey)?this.reset():((s=R(this,Ot))==null?void 0:s.state.status)==="pending"&&R(this,Ot).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=R(this,Ot))==null||n.removeObserver(this)}onMutationUpdate(n){ie(this,mr,Ic).call(this),ie(this,mr,mm).call(this,n)}getCurrentResult(){return R(this,is)}reset(){var n;(n=R(this,Ot))==null||n.removeObserver(this),H(this,Ot,void 0),ie(this,mr,Ic).call(this),ie(this,mr,mm).call(this)}mutate(n,r){var s;return H(this,ir,r),(s=R(this,Ot))==null||s.removeObserver(this),H(this,Ot,R(this,ss).getMutationCache().build(R(this,ss),this.options)),R(this,Ot).addObserver(this),R(this,Ot).execute(n)}},ss=new WeakMap,is=new WeakMap,Ot=new WeakMap,ir=new WeakMap,mr=new WeakSet,Ic=function(){var r;const n=((r=R(this,Ot))==null?void 0:r.state)??qx();H(this,is,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},mm=function(n){Ke.batch(()=>{var r,s,i,o,a,u,c,h;if(R(this,ir)&&this.hasListeners()){const d=R(this,is).variables,p=R(this,is).context;(n==null?void 0:n.type)==="success"?((s=(r=R(this,ir)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=R(this,ir)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((u=(a=R(this,ir)).onError)==null||u.call(a,n.error,d,p),(h=(c=R(this,ir)).onSettled)==null||h.call(c,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(R(this,is))})})},yT),Kx=O.createContext(void 0),Wt=t=>{const e=O.useContext(Kx);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},u2=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(Kx.Provider,{value:t,children:e})),Gx=O.createContext(!1),c2=()=>O.useContext(Gx);Gx.Provider;function h2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var d2=O.createContext(h2()),f2=()=>O.useContext(d2),p2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},m2=t=>{O.useEffect(()=>{t.clearReset()},[t])},g2=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Fx(n,[t.error,r])),y2=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},v2=(t,e)=>t.isLoading&&t.isFetching&&!e,_2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,P_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function w2(t,e,n){var d,p,y,C,I;const r=c2(),s=f2(),i=Wt(),o=i.defaultQueryOptions(t);(p=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",y2(o),p2(o,s),m2(s);const a=!i.getQueryCache().get(o.queryHash),[u]=O.useState(()=>new e(i,o)),c=u.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(k=>{const w=h?u.subscribe(Ke.batchCalls(k)):Rt;return u.updateResult(),w},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),O.useEffect(()=>{u.setOptions(o)},[o,u]),_2(o,c))throw P_(o,u,s);if(g2({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((C=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||C.call(y,o,c),o.experimental_prefetchInRender&&!Ci&&v2(c,r)){const k=a?P_(o,u,s):(I=i.getQueryCache().get(o.queryHash))==null?void 0:I.promise;k==null||k.catch(Rt).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function rd(t,e){return w2(t,i2)}function mn(t,e){const n=Wt(),[r]=O.useState(()=>new l2(n,t));O.useEffect(()=>{r.setOptions(t)},[r,t]);const s=O.useSyncExternalStore(O.useCallback(o=>r.subscribe(Ke.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=O.useCallback((o,a)=>{r.mutate(o,a).catch(Rt)},[r]);if(s.error&&Fx(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Qx=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),sd=O.createContext({}),id=O.createContext(null),od=typeof document<"u",Xg=od?O.useLayoutEffect:O.useEffect,Yx=O.createContext({strict:!1}),Jg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),E2="framerAppearId",Xx="data-"+Jg(E2);function T2(t,e,n,r){const{visualElement:s}=O.useContext(sd),i=O.useContext(Yx),o=O.useContext(id),a=O.useContext(Qx).reducedMotion,u=O.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=u.current;O.useInsertionEffect(()=>{c&&c.update(n,o)});const h=O.useRef(!!(n[Xx]&&!window.HandoffComplete));return Xg(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),O.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function co(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function x2(t,e,n){return O.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):co(n)&&(n.current=r))},[e])}function Ul(t){return typeof t=="string"||Array.isArray(t)}function ad(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Zg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ey=["initial",...Zg];function ld(t){return ad(t.animate)||ey.some(e=>Ul(t[e]))}function Jx(t){return!!(ld(t)||t.variants)}function S2(t,e){if(ld(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ul(n)?n:void 0,animate:Ul(r)?r:void 0}}return t.inherit!==!1?e:{}}function I2(t){const{initial:e,animate:n}=S2(t,O.useContext(sd));return O.useMemo(()=>({initial:e,animate:n}),[b_(e),b_(n)])}function b_(t){return Array.isArray(t)?t.join(" "):t}const R_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bl={};for(const t in R_)Bl[t]={isEnabled:e=>R_[t].some(n=>!!e[n])};function C2(t){for(const e in t)Bl[e]={...Bl[e],...t[e]}}const ty=O.createContext({}),Zx=O.createContext({}),A2=Symbol.for("motionComponentSymbol");function P2({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&C2(t);function i(a,u){let c;const h={...O.useContext(Qx),...a,layoutId:b2(a)},{isStatic:d}=h,p=I2(a),y=r(a,d);if(!d&&od){p.visualElement=T2(s,y,h,e);const C=O.useContext(Zx),I=O.useContext(Yx).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,I,t,C))}return O.createElement(sd.Provider,{value:p},c&&p.visualElement?O.createElement(c,{visualElement:p.visualElement,...h}):null,n(s,a,x2(y,p.visualElement,u),y,d,p.visualElement))}const o=O.forwardRef(i);return o[A2]=s,o}function b2({layoutId:t}){const e=O.useContext(ty).id;return e&&t!==void 0?e+"-"+t:t}function R2(t){function e(r,s={}){return P2(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const k2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ny(t){return typeof t!="string"||t.includes("-")?!1:!!(k2.indexOf(t)>-1||/[A-Z]/.test(t))}const hh={};function N2(t){Object.assign(hh,t)}const cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Li=new Set(cu);function eS(t,{layout:e,layoutId:n}){return Li.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hh[t]||t==="opacity")}const qt=t=>!!(t&&t.getVelocity),D2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V2=cu.length;function M2(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<V2;o++){const a=cu[o];if(t[a]!==void 0){const u=D2[a]||a;i+=`${u}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const tS=t=>e=>typeof e=="string"&&e.startsWith(t),nS=tS("--"),gm=tS("var(--"),O2=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,L2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,As=(t,e,n)=>Math.min(Math.max(n,t),e),ji={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dl={...ji,transform:t=>As(0,1,t)},nc={...ji,default:1},fl=t=>Math.round(t*1e5)/1e5,ud=/(-)?([\d]*\.?[\d])+/g,rS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,j2=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hu(t){return typeof t=="string"}const du=t=>({test:e=>hu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fr=du("deg"),Hn=du("%"),X=du("px"),F2=du("vh"),U2=du("vw"),k_={...Hn,parse:t=>Hn.parse(t)/100,transform:t=>Hn.transform(t*100)},N_={...ji,transform:Math.round},sS={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,size:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,rotate:Fr,rotateX:Fr,rotateY:Fr,rotateZ:Fr,scale:nc,scaleX:nc,scaleY:nc,scaleZ:nc,skew:Fr,skewX:Fr,skewY:Fr,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:dl,originX:k_,originY:k_,originZ:X,zIndex:N_,fillOpacity:dl,strokeOpacity:dl,numOctaves:N_};function ry(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let u=!1,c=!1,h=!0;for(const d in e){const p=e[d];if(nS(d)){i[d]=p;continue}const y=sS[d],C=L2(p,y);if(Li.has(d)){if(u=!0,o[d]=C,!h)continue;p!==(y.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=C):s[d]=C}if(e.transform||(u||r?s.transform=M2(t.transform,n,h,r):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:y=0}=a;s.transformOrigin=`${d} ${p} ${y}`}}const sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iS(t,e,n){for(const r in e)!qt(e[r])&&!eS(r,n)&&(t[r]=e[r])}function B2({transformTemplate:t},e,n){return O.useMemo(()=>{const r=sy();return ry(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function z2(t,e,n){const r=t.style||{},s={};return iS(s,r,t),Object.assign(s,B2(t,e,n)),t.transformValues?t.transformValues(s):s}function $2(t,e,n){const r={},s=z2(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const H2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||H2.has(t)}let oS=t=>!dh(t);function q2(t){t&&(oS=e=>e.startsWith("on")?!dh(e):t(e))}try{q2(require("@emotion/is-prop-valid").default)}catch{}function W2(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(oS(s)||n===!0&&dh(s)||!e&&!dh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function D_(t,e,n){return typeof t=="string"?t:X.transform(e+n*t)}function K2(t,e,n){const r=D_(e,t.x,t.width),s=D_(n,t.y,t.height);return`${r} ${s}`}const G2={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q2={offset:"strokeDashoffset",array:"strokeDasharray"};function Y2(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?G2:Q2;t[i.offset]=X.transform(-r);const o=X.transform(e),a=X.transform(n);t[i.array]=`${o} ${a}`}function iy(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,d,p){if(ry(t,c,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:C,dimensions:I}=t;y.transform&&(I&&(C.transform=y.transform),delete y.transform),I&&(s!==void 0||i!==void 0||C.transform)&&(C.transformOrigin=K2(I,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&Y2(y,o,a,u,!1)}const aS=()=>({...sy(),attrs:{}}),oy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function X2(t,e,n,r){const s=O.useMemo(()=>{const i=aS();return iy(i,e,{enableHardwareAcceleration:!1},oy(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};iS(i,t.style,t),s.style={...i,...s.style}}return s}function J2(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(ny(n)?X2:$2)(r,i,o,n),h={...W2(r,typeof n=="string",t),...u,ref:s},{children:d}=r,p=O.useMemo(()=>qt(d)?d.get():d,[d]);return O.createElement(n,{...h,children:p})}}function lS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const uS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cS(t,e,n,r){lS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(uS.has(s)?s:Jg(s),e.attrs[s])}function ay(t,e){const{style:n}=t,r={};for(const s in n)(qt(n[s])||e.style&&qt(e.style[s])||eS(s,t))&&(r[s]=n[s]);return r}function hS(t,e){const n=ay(t,e);for(const r in t)if(qt(t[r])||qt(e[r])){const s=cu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function ly(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function dS(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const fh=t=>Array.isArray(t),Z2=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),eN=t=>fh(t)?t[t.length-1]||0:t;function Cc(t){const e=qt(t)?t.get():t;return Z2(e)?e.toValue():e}function tN({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:nN(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const fS=t=>(e,n)=>{const r=O.useContext(sd),s=O.useContext(id),i=()=>tN(t,e,r,s);return n?i():dS(i)};function nN(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Cc(i[p]);let{initial:o,animate:a}=t;const u=ld(t),c=Jx(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!ad(d)&&(Array.isArray(d)?d:[d]).forEach(y=>{const C=ly(t,y);if(!C)return;const{transitionEnd:I,transition:k,...w}=C;for(const E in w){let T=w[E];if(Array.isArray(T)){const V=h?T.length-1:0;T=T[V]}T!==null&&(s[E]=T)}for(const E in I)s[E]=I[E]}),s}const Ue=t=>t;class V_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function rN(t){let e=new V_,n=new V_,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(u,c=!1,h=!1)=>{const d=h&&s,p=d?e:n;return c&&o.add(u),p.add(u)&&d&&s&&(r=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(u),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(u))}};return a}const rc=["prepare","read","update","preRender","render","postRender"],sN=40;function iN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=rc.reduce((d,p)=>(d[p]=rN(()=>n=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,sN),1),s.timestamp=d,s.isProcessing=!0,rc.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},u=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:rc.reduce((d,p)=>{const y=i[p];return d[p]=(C,I=!1,k=!1)=>(n||u(),y.schedule(C,I,k)),d},{}),cancel:d=>rc.forEach(p=>i[p].cancel(d)),state:s,steps:i}}const{schedule:Ee,cancel:Er,state:yt,steps:jf}=iN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ue,!0),oN={useVisualState:fS({scrapeMotionValuesFromProps:hS,createRenderState:aS,onMount:(t,e,{renderState:n,latestValues:r})=>{Ee.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ee.render(()=>{iy(n,r,{enableHardwareAcceleration:!1},oy(e.tagName),t.transformTemplate),cS(e,n)})}})},aN={useVisualState:fS({scrapeMotionValuesFromProps:ay,createRenderState:sy})};function lN(t,{forwardMotionProps:e=!1},n,r){return{...ny(t)?oN:aN,preloadedFeatures:n,useRender:J2(e),createVisualElement:r,Component:t}}function lr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const pS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function cd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const uN=t=>e=>pS(e)&&t(e,cd(e));function dr(t,e,n,r){return lr(t,e,uN(n),r)}const cN=(t,e)=>n=>e(t(n)),vs=(...t)=>t.reduce(cN);function mS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const M_=mS("dragHorizontal"),O_=mS("dragVertical");function gS(t){let e=!1;if(t==="y")e=O_();else if(t==="x")e=M_();else{const n=M_(),r=O_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function yS(){const t=gS(!0);return t?(t(),!1):!0}class Fs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function L_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||yS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ee.update(()=>a[r](i,o))};return dr(t.current,n,s,{passive:!t.getProps()[r]})}class hN extends Fs{mount(){this.unmount=vs(L_(this.node,!0),L_(this.node,!1))}unmount(){}}class dN extends Fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vs(lr(this.node.current,"focus",()=>this.onFocus()),lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const vS=(t,e)=>e?t===e?!0:vS(t,e.parentElement):!1;function Ff(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,cd(n))}class fN extends Fs{constructor(){super(...arguments),this.removeStartListeners=Ue,this.removeEndListeners=Ue,this.removeAccessibleListeners=Ue,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=dr(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps();Ee.update(()=>{!d&&!vS(this.node.current,a.target)?h&&h(a,u):c&&c(a,u)})},{passive:!(r.onTap||r.onPointerUp)}),o=dr(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=vs(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ff("up",(u,c)=>{const{onTap:h}=this.node.getProps();h&&Ee.update(()=>h(u,c))})};this.removeEndListeners(),this.removeEndListeners=lr(this.node.current,"keyup",o),Ff("down",(a,u)=>{this.startPress(a,u)})},n=lr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ff("cancel",(i,o)=>this.cancelPress(i,o))},s=lr(this.node.current,"blur",r);this.removeAccessibleListeners=vs(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ee.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ee.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=dr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=lr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=vs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ym=new WeakMap,Uf=new WeakMap,pN=t=>{const e=ym.get(t.target);e&&e(t)},mN=t=>{t.forEach(pN)};function gN({root:t,...e}){const n=t||document;Uf.has(n)||Uf.set(n,{});const r=Uf.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(mN,{root:t,...e})),r[s]}function yN(t,e,n){const r=gN(e);return ym.set(t,n),r.observe(t),()=>{ym.delete(t),r.unobserve(t)}}const vN={some:0,all:1};class _N extends Fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:vN[s]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(u)};return yN(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(wN(e,n))&&this.startObserver()}unmount(){}}function wN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const EN={inView:{Feature:_N},tap:{Feature:fN},focus:{Feature:dN},hover:{Feature:hN}};function _S(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function TN(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function xN(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function hd(t,e,n){const r=t.getProps();return ly(r,e,n!==void 0?n:r.custom,TN(t),xN(t))}let uy=Ue;const _i=t=>t*1e3,fr=t=>t/1e3,SN={current:!1},wS=t=>Array.isArray(t)&&typeof t[0]=="number";function ES(t){return!!(!t||typeof t=="string"&&TS[t]||wS(t)||Array.isArray(t)&&t.every(ES))}const Qa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,TS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qa([0,.65,.55,1]),circOut:Qa([.55,0,1,.45]),backIn:Qa([.31,.01,.66,-.59]),backOut:Qa([.33,1.53,.69,.99])};function xS(t){if(t)return wS(t)?Qa(t):Array.isArray(t)?t.map(xS):TS[t]}function IN(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=xS(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function CN(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const SS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,AN=1e-7,PN=12;function bN(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=SS(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>AN&&++a<PN);return o}function fu(t,e,n,r){if(t===e&&n===r)return Ue;const s=i=>bN(i,0,1,t,n);return i=>i===0||i===1?i:SS(s(i),e,r)}const RN=fu(.42,0,1,1),kN=fu(0,0,.58,1),IS=fu(.42,0,.58,1),NN=t=>Array.isArray(t)&&typeof t[0]!="number",CS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AS=t=>e=>1-t(1-e),cy=t=>1-Math.sin(Math.acos(t)),PS=AS(cy),DN=CS(cy),bS=fu(.33,1.53,.69,.99),hy=AS(bS),VN=CS(hy),MN=t=>(t*=2)<1?.5*hy(t):.5*(2-Math.pow(2,-10*(t-1))),ON={linear:Ue,easeIn:RN,easeInOut:IS,easeOut:kN,circIn:cy,circInOut:DN,circOut:PS,backIn:hy,backInOut:VN,backOut:bS,anticipate:MN},j_=t=>{if(Array.isArray(t)){uy(t.length===4);const[e,n,r,s]=t;return fu(e,n,r,s)}else if(typeof t=="string")return ON[t];return t},dy=(t,e)=>n=>!!(hu(n)&&j2.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),RS=(t,e,n)=>r=>{if(!hu(r))return r;const[s,i,o,a]=r.match(ud);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},LN=t=>As(0,255,t),Bf={...ji,transform:t=>Math.round(LN(t))},oi={test:dy("rgb","red"),parse:RS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bf.transform(t)+", "+Bf.transform(e)+", "+Bf.transform(n)+", "+fl(dl.transform(r))+")"};function jN(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const vm={test:dy("#"),parse:jN,transform:oi.transform},ho={test:dy("hsl","hue"),parse:RS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hn.transform(fl(e))+", "+Hn.transform(fl(n))+", "+fl(dl.transform(r))+")"},Pt={test:t=>oi.test(t)||vm.test(t)||ho.test(t),parse:t=>oi.test(t)?oi.parse(t):ho.test(t)?ho.parse(t):vm.parse(t),transform:t=>hu(t)?t:t.hasOwnProperty("red")?oi.transform(t):ho.transform(t)},Re=(t,e,n)=>-n*t+n*e+t;function zf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FN({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;s=zf(u,a,t+1/3),i=zf(u,a,t),o=zf(u,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const $f=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},UN=[vm,oi,ho],BN=t=>UN.find(e=>e.test(t));function F_(t){const e=BN(t);let n=e.parse(t);return e===ho&&(n=FN(n)),n}const kS=(t,e)=>{const n=F_(t),r=F_(e),s={...n};return i=>(s.red=$f(n.red,r.red,i),s.green=$f(n.green,r.green,i),s.blue=$f(n.blue,r.blue,i),s.alpha=Re(n.alpha,r.alpha,i),oi.transform(s))};function zN(t){var e,n;return isNaN(t)&&hu(t)&&(((e=t.match(ud))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(rS))===null||n===void 0?void 0:n.length)||0)>0}const NS={regex:O2,countKey:"Vars",token:"${v}",parse:Ue},DS={regex:rS,countKey:"Colors",token:"${c}",parse:Pt.parse},VS={regex:ud,countKey:"Numbers",token:"${n}",parse:ji.parse};function Hf(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function ph(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Hf(n,NS),Hf(n,DS),Hf(n,VS),n}function MS(t){return ph(t).values}function OS(t){const{values:e,numColors:n,numVars:r,tokenised:s}=ph(t),i=e.length;return o=>{let a=s;for(let u=0;u<i;u++)u<r?a=a.replace(NS.token,o[u]):u<r+n?a=a.replace(DS.token,Pt.transform(o[u])):a=a.replace(VS.token,fl(o[u]));return a}}const $N=t=>typeof t=="number"?0:t;function HN(t){const e=MS(t);return OS(t)(e.map($N))}const Ps={test:zN,parse:MS,createTransformer:OS,getAnimatableNone:HN},LS=(t,e)=>n=>`${n>0?e:t}`;function jS(t,e){return typeof t=="number"?n=>Re(t,e,n):Pt.test(t)?kS(t,e):t.startsWith("var(")?LS(t,e):US(t,e)}const FS=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>jS(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},qN=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=jS(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},US=(t,e)=>{const n=Ps.createTransformer(e),r=ph(t),s=ph(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?vs(FS(r.values,s.values),n):LS(t,e)},zl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},U_=(t,e)=>n=>Re(t,e,n);function WN(t){return typeof t=="number"?U_:typeof t=="string"?Pt.test(t)?kS:US:Array.isArray(t)?FS:typeof t=="object"?qN:U_}function KN(t,e,n){const r=[],s=n||WN(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Ue:e;a=vs(u,a)}r.push(a)}return r}function BS(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(uy(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=KN(e,r,s),a=o.length,u=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=zl(t[h],t[h+1],c);return o[h](d)};return n?c=>u(As(t[0],t[i-1],c)):u}function GN(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=zl(0,e,r);t.push(Re(n,1,s))}}function QN(t){const e=[0];return GN(e,t.length-1),e}function YN(t,e){return t.map(n=>n*e)}function XN(t,e){return t.map(()=>e||IS).splice(0,t.length-1)}function mh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=NN(r)?r.map(j_):j_(r),i={done:!1,value:e[0]},o=YN(n&&n.length===e.length?n:QN(e),t),a=BS(o,e,{ease:Array.isArray(s)?s:XN(e,s)});return{calculatedDuration:t,next:u=>(i.value=a(u),i.done=u>=t,i)}}function zS(t,e){return e?t*(1e3/e):0}const JN=5;function $S(t,e,n){const r=Math.max(e-JN,0);return zS(n-t(r),e-r)}const qf=.001,ZN=.01,eD=10,tD=.05,nD=1;function rD({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=As(tD,nD,o),t=As(ZN,eD,fr(t)),o<1?(s=c=>{const h=c*o,d=h*t,p=h-n,y=_m(c,o),C=Math.exp(-d);return qf-p/y*C},i=c=>{const d=c*o*t,p=d*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,C=Math.exp(-d),I=_m(Math.pow(c,2),o);return(-s(c)+qf>0?-1:1)*((p-y)*C)/I}):(s=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-qf+h*d},i=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,u=iD(s,i,a);if(t=_i(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const sD=12;function iD(t,e,n){let r=n;for(let s=1;s<sD;s++)r=r-t(r)/e(r);return r}function _m(t,e){return t*Math.sqrt(1-e*e)}const oD=["duration","bounce"],aD=["stiffness","damping","mass"];function B_(t,e){return e.some(n=>t[n]!==void 0)}function lD(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!B_(t,aD)&&B_(t,oD)){const n=rD(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function HS({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=lD({...r,velocity:-fr(r.velocity||0)}),y=d||0,C=u/(2*Math.sqrt(a*c)),I=i-s,k=fr(Math.sqrt(a/c)),w=Math.abs(I)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let E;if(C<1){const T=_m(k,C);E=V=>{const N=Math.exp(-C*k*V);return i-N*((y+C*k*I)/T*Math.sin(T*V)+I*Math.cos(T*V))}}else if(C===1)E=T=>i-Math.exp(-k*T)*(I+(y+k*I)*T);else{const T=k*Math.sqrt(C*C-1);E=V=>{const N=Math.exp(-C*k*V),j=Math.min(T*V,300);return i-N*((y+C*k*I)*Math.sinh(j)+T*I*Math.cosh(j))/T}}return{calculatedDuration:p&&h||null,next:T=>{const V=E(T);if(p)o.done=T>=h;else{let N=y;T!==0&&(C<1?N=$S(E,T,V):N=0);const j=Math.abs(N)<=n,v=Math.abs(i-V)<=e;o.done=j&&v}return o.value=o.done?i:V,o}}}function z_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},y=_=>a!==void 0&&_<a||u!==void 0&&_>u,C=_=>a===void 0?u:u===void 0||Math.abs(a-_)<Math.abs(u-_)?a:u;let I=n*e;const k=d+I,w=o===void 0?k:o(k);w!==k&&(I=w-d);const E=_=>-I*Math.exp(-_/r),T=_=>w+E(_),V=_=>{const A=E(_),S=T(_);p.done=Math.abs(A)<=c,p.value=p.done?w:S};let N,j;const v=_=>{y(p.value)&&(N=_,j=HS({keyframes:[p.value,C(p.value)],velocity:$S(T,_,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return v(0),{calculatedDuration:null,next:_=>{let A=!1;return!j&&N===void 0&&(A=!0,V(_),v(_)),N!==void 0&&_>N?j.next(_-N):(!A&&V(_),p)}}}const uD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ee.update(e,!0),stop:()=>Er(e),now:()=>yt.isProcessing?yt.timestamp:performance.now()}},$_=2e4;function H_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$_;)e+=n,r=t.next(e);return e>=$_?1/0:e}const cD={decay:z_,inertia:z_,tween:mh,keyframes:mh,spring:HS};function gh({autoplay:t=!0,delay:e=0,driver:n=uD,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:u,onStop:c,onComplete:h,onUpdate:d,...p}){let y=1,C=!1,I,k;const w=()=>{k=new Promise(ee=>{I=ee})};w();let E;const T=cD[s]||mh;let V;T!==mh&&typeof r[0]!="number"&&(V=BS([0,100],r,{clamp:!1}),r=[0,100]);const N=T({...p,keyframes:r});let j;a==="mirror"&&(j=T({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let v="idle",_=null,A=null,S=null;N.calculatedDuration===null&&i&&(N.calculatedDuration=H_(N));const{calculatedDuration:b}=N;let D=1/0,P=1/0;b!==null&&(D=b+o,P=D*(i+1)-o);let de=0;const ht=ee=>{if(A===null)return;y>0&&(A=Math.min(A,ee)),y<0&&(A=Math.min(ee-P/y,A)),_!==null?de=_:de=Math.round(ee-A)*y;const ve=de-e*(y>=0?1:-1),kn=y>=0?ve<0:ve>P;de=Math.max(ve,0),v==="finished"&&_===null&&(de=P);let xt=de,Nn=N;if(i){const zi=Math.min(de,P)/D;let $i=Math.floor(zi),Zn=zi%1;!Zn&&zi>=1&&(Zn=1),Zn===1&&$i--,$i=Math.min($i,i+1),!!($i%2)&&(a==="reverse"?(Zn=1-Zn,o&&(Zn-=o/D)):a==="mirror"&&(Nn=j)),xt=As(0,1,Zn)*D}const nt=kn?{done:!1,value:r[0]}:Nn.next(xt);V&&(nt.value=V(nt.value));let{done:gn}=nt;!kn&&b!==null&&(gn=y>=0?de>=P:de<=0);const ga=_===null&&(v==="finished"||v==="running"&&gn);return d&&d(nt.value),ga&&$(),nt},Pe=()=>{E&&E.stop(),E=void 0},Vt=()=>{v="idle",Pe(),I(),w(),A=S=null},$=()=>{v="finished",h&&h(),Pe(),I()},G=()=>{if(C)return;E||(E=n(ht));const ee=E.now();u&&u(),_!==null?A=ee-_:(!A||v==="finished")&&(A=ee),v==="finished"&&w(),S=A,_=null,v="running",E.start()};t&&G();const re={then(ee,ve){return k.then(ee,ve)},get time(){return fr(de)},set time(ee){ee=_i(ee),de=ee,_!==null||!E||y===0?_=ee:A=E.now()-ee/y},get duration(){const ee=N.calculatedDuration===null?H_(N):N.calculatedDuration;return fr(ee)},get speed(){return y},set speed(ee){ee===y||!E||(y=ee,re.time=fr(de))},get state(){return v},play:G,pause:()=>{v="paused",_=de},stop:()=>{C=!0,v!=="idle"&&(v="idle",c&&c(),Vt())},cancel:()=>{S!==null&&ht(S),Vt()},complete:()=>{v="finished"},sample:ee=>(A=0,ht(ee))};return re}function hD(t){let e;return()=>(e===void 0&&(e=t()),e)}const dD=hD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fD=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sc=10,pD=2e4,mD=(t,e)=>e.type==="spring"||t==="backgroundColor"||!ES(e.ease);function gD(t,e,{onUpdate:n,onComplete:r,...s}){if(!(dD()&&fD.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,u,c=!1;const h=()=>{u=new Promise(T=>{a=T})};h();let{keyframes:d,duration:p=300,ease:y,times:C}=s;if(mD(e,s)){const T=gh({...s,repeat:0,delay:0});let V={done:!1,value:d[0]};const N=[];let j=0;for(;!V.done&&j<pD;)V=T.sample(j),N.push(V.value),j+=sc;C=void 0,d=N,p=j-sc,y="linear"}const I=IN(t.owner.current,e,d,{...s,duration:p,ease:y,times:C}),k=()=>{c=!1,I.cancel()},w=()=>{c=!0,Ee.update(k),a(),h()};return I.onfinish=()=>{c||(t.set(CN(d,s)),r&&r(),w())},{then(T,V){return u.then(T,V)},attachTimeline(T){return I.timeline=T,I.onfinish=null,Ue},get time(){return fr(I.currentTime||0)},set time(T){I.currentTime=_i(T)},get speed(){return I.playbackRate},set speed(T){I.playbackRate=T},get duration(){return fr(p)},play:()=>{o||(I.play(),Er(k))},pause:()=>I.pause(),stop:()=>{if(o=!0,I.playState==="idle")return;const{currentTime:T}=I;if(T){const V=gh({...s,autoplay:!1});t.setWithVelocity(V.sample(T-sc).value,V.sample(T).value,sc)}w()},complete:()=>{c||I.finish()},cancel:w}}function yD({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ue,pause:Ue,stop:Ue,then:i=>(i(),Promise.resolve()),cancel:Ue,complete:Ue});return e?gh({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const vD={type:"spring",stiffness:500,damping:25,restSpeed:10},_D=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wD={type:"keyframes",duration:.8},ED={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TD=(t,{keyframes:e})=>e.length>2?wD:Li.has(t)?t.startsWith("scale")?_D(e[1]):vD:ED,wm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ps.test(e)||e==="0")&&!e.startsWith("url(")),xD=new Set(["brightness","contrast","saturate","opacity"]);function SD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ud)||[];if(!r)return t;const s=n.replace(r,"");let i=xD.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const ID=/([a-z-]*)\(.*?\)/g,Em={...Ps,getAnimatableNone:t=>{const e=t.match(ID);return e?e.map(SD).join(" "):t}},CD={...sS,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:Em,WebkitFilter:Em},fy=t=>CD[t];function qS(t,e){let n=fy(t);return n!==Em&&(n=Ps),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WS=t=>/^0[^.\s]+$/.test(t);function AD(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||WS(t)}function PD(t,e,n,r){const s=wm(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const u=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),AD(i[c])&&u.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&u.length&&a)for(let c=0;c<u.length;c++){const h=u[c];i[h]=qS(e,a)}return i}function bD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}function py(t,e){return t[e]||t.default||t}const RD={skipAnimations:!1},my=(t,e,n,r={})=>s=>{const i=py(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-_i(o);const u=PD(e,t,n,i),c=u[0],h=u[u.length-1],d=wm(t,c),p=wm(t,h);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:C=>{e.set(C),i.onUpdate&&i.onUpdate(C)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(bD(i)||(y={...y,...TD(t,y)}),y.duration&&(y.duration=_i(y.duration)),y.repeatDelay&&(y.repeatDelay=_i(y.repeatDelay)),!d||!p||SN.current||i.type===!1||RD.skipAnimations)return yD(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const C=gD(e,t,y);if(C)return C}return gh(y)};function yh(t){return!!(qt(t)&&t.add)}const KS=t=>/^\-?\d*\.?\d+$/.test(t);function gy(t,e){t.indexOf(e)===-1&&t.push(e)}function yy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vy{constructor(){this.subscriptions=[]}add(e){return gy(this.subscriptions,e),()=>yy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kD=t=>!isNaN(parseFloat(t));class ND{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=yt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Ee.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ee.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=kD(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?zS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(t,e){return new ND(t,e)}const GS=t=>e=>e.test(t),DD={test:t=>t==="auto",parse:t=>t},QS=[ji,X,Hn,Fr,U2,F2,DD],Ba=t=>QS.find(GS(t)),VD=[...QS,Pt,Ps],MD=t=>VD.find(GS(t));function OD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ko(n))}function LD(t,e){const n=hd(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=eN(i[o]);OD(t,o,a)}}function jD(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const u=i[a],c=e[u];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(s=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&s!==void 0?s:e[u]),h!=null&&(typeof h=="string"&&(KS(h)||WS(h))?h=parseFloat(h):!MD(h)&&Ps.test(c)&&(h=qS(u,c)),t.addValue(u,Ko(h,{owner:t})),n[u]===void 0&&(n[u]=h),h!==null&&t.setBaseTarget(u,h))}}function FD(t,e){return e?(e[t]||e.default||e).from:void 0}function UD(t,e,n){const r={};for(const s in t){const i=FD(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function BD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zD(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function YS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const p=t.getValue(d),y=a[d];if(!p||y===void 0||h&&BD(h,d))continue;const C={delay:n,elapsed:0,...py(i||{},d)};if(window.HandoffAppearAnimations){const w=t.getProps()[Xx];if(w){const E=window.HandoffAppearAnimations(w,d,p,Ee);E!==null&&(C.elapsed=E,C.isHandoff=!0)}}let I=!C.isHandoff&&!zD(p,y);if(C.type==="spring"&&(p.getVelocity()||C.velocity)&&(I=!1),p.animation&&(I=!1),I)continue;p.start(my(d,p,y,t.shouldReduceMotion&&Li.has(d)?{type:!1}:C));const k=p.animation;yh(u)&&(u.add(d),k.then(()=>u.remove(d))),c.push(k)}return o&&Promise.all(c).then(()=>{o&&LD(t,o)}),c}function Tm(t,e,n={}){const r=hd(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(YS(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=s;return $D(t,e,c+u,h,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function $D(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,u=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(HD).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Tm(c,e,{...i,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function HD(t,e){return t.sortNodePosition(e)}function qD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Tm(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Tm(t,e,n);else{const s=typeof e=="function"?hd(t,e,n.custom):e;r=Promise.all(YS(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const WD=[...Zg].reverse(),KD=Zg.length;function GD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>qD(t,n,r)))}function QD(t){let e=GD(t);const n=XD();let r=!0;const s=(u,c)=>{const h=hd(t,c);if(h){const{transition:d,transitionEnd:p,...y}=h;u={...u,...y,...p}}return u};function i(u){e=u(t)}function o(u,c){const h=t.getProps(),d=t.getVariantContext(!0)||{},p=[],y=new Set;let C={},I=1/0;for(let w=0;w<KD;w++){const E=WD[w],T=n[E],V=h[E]!==void 0?h[E]:d[E],N=Ul(V),j=E===c?T.isActive:null;j===!1&&(I=w);let v=V===d[E]&&V!==h[E]&&N;if(v&&r&&t.manuallyAnimateOnMount&&(v=!1),T.protectedKeys={...C},!T.isActive&&j===null||!V&&!T.prevProp||ad(V)||typeof V=="boolean")continue;let A=YD(T.prevProp,V)||E===c&&T.isActive&&!v&&N||w>I&&N,S=!1;const b=Array.isArray(V)?V:[V];let D=b.reduce(s,{});j===!1&&(D={});const{prevResolvedValues:P={}}=T,de={...P,...D},ht=Pe=>{A=!0,y.has(Pe)&&(S=!0,y.delete(Pe)),T.needsAnimating[Pe]=!0};for(const Pe in de){const Vt=D[Pe],$=P[Pe];if(C.hasOwnProperty(Pe))continue;let G=!1;fh(Vt)&&fh($)?G=!_S(Vt,$):G=Vt!==$,G?Vt!==void 0?ht(Pe):y.add(Pe):Vt!==void 0&&y.has(Pe)?ht(Pe):T.protectedKeys[Pe]=!0}T.prevProp=V,T.prevResolvedValues=D,T.isActive&&(C={...C,...D}),r&&t.blockInitialAnimation&&(A=!1),A&&(!v||S)&&p.push(...b.map(Pe=>({animation:Pe,options:{type:E,...u}})))}if(y.size){const w={};y.forEach(E=>{const T=t.getBaseTarget(E);T!==void 0&&(w[E]=T)}),p.push({animation:w})}let k=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(p):Promise.resolve()}function a(u,c,h){var d;if(n[u].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(y=>{var C;return(C=y.animationState)===null||C===void 0?void 0:C.setActive(u,c)}),n[u].isActive=c;const p=o(h,u);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function YD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_S(e,t):!1}function Qs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XD(){return{animate:Qs(!0),whileInView:Qs(),whileHover:Qs(),whileTap:Qs(),whileDrag:Qs(),whileFocus:Qs(),exit:Qs()}}class JD extends Fs{constructor(e){super(e),e.animationState||(e.animationState=QD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ad(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let ZD=0;class eV extends Fs{constructor(){super(...arguments),this.id=ZD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const tV={animation:{Feature:JD},exit:{Feature:eV}},q_=(t,e)=>Math.abs(t-e);function nV(t,e){const n=q_(t.x,e.x),r=q_(t.y,e.y);return Math.sqrt(n**2+r**2)}class XS{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Kf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=nV(d.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:C}=d,{timestamp:I}=yt;this.history.push({...C,timestamp:I});const{onStart:k,onMove:w}=this.handlers;p||(k&&k(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Wf(p,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:y,onSessionEnd:C,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Kf(d.type==="pointercancel"?this.lastMoveEventInfo:Wf(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,k),C&&C(d,k)},!pS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=cd(e),a=Wf(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=yt;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Kf(a,this.history)),this.removeListeners=vs(dr(this.contextWindow,"pointermove",this.handlePointerMove),dr(this.contextWindow,"pointerup",this.handlePointerUp),dr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Er(this.updatePoint)}}function Wf(t,e){return e?{point:e(t.point)}:t}function W_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kf({point:t},e){return{point:t,delta:W_(t,JS(e)),offset:W_(t,rV(e)),velocity:sV(e,.1)}}function rV(t){return t[0]}function JS(t){return t[t.length-1]}function sV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=JS(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>_i(e)));)n--;if(!r)return{x:0,y:0};const i=fr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zt(t){return t.max-t.min}function xm(t,e=0,n=.01){return Math.abs(t-e)<=n}function K_(t,e,n,r=.5){t.origin=r,t.originPoint=Re(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),(xm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Re(n.min,n.max,t.origin)-t.originPoint,(xm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function pl(t,e,n,r){K_(t.x,e.x,n.x,r?r.originX:void 0),K_(t.y,e.y,n.y,r?r.originY:void 0)}function G_(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function iV(t,e,n){G_(t.x,e.x,n.x),G_(t.y,e.y,n.y)}function Q_(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function ml(t,e,n){Q_(t.x,e.x,n.x),Q_(t.y,e.y,n.y)}function oV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Re(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Re(n,t,r.max):Math.min(t,n)),t}function Y_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aV(t,{top:e,left:n,bottom:r,right:s}){return{x:Y_(t.x,n,s),y:Y_(t.y,e,r)}}function X_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function lV(t,e){return{x:X_(t.x,e.x),y:X_(t.y,e.y)}}function uV(t,e){let n=.5;const r=Zt(t),s=Zt(e);return s>r?n=zl(e.min,e.max-r,t.min):r>s&&(n=zl(t.min,t.max-s,e.min)),As(0,1,n)}function cV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sm=.35;function hV(t=Sm){return t===!1?t=0:t===!0&&(t=Sm),{x:J_(t,"left","right"),y:J_(t,"top","bottom")}}function J_(t,e,n){return{min:Z_(t,e),max:Z_(t,n)}}function Z_(t,e){return typeof t=="number"?t:t[e]||0}const ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),fo=()=>({x:ew(),y:ew()}),tw=()=>({min:0,max:0}),ze=()=>({x:tw(),y:tw()});function rn(t){return[t("x"),t("y")]}function ZS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gf(t){return t===void 0||t===1}function Im({scale:t,scaleX:e,scaleY:n}){return!Gf(t)||!Gf(e)||!Gf(n)}function Js(t){return Im(t)||eI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function eI(t){return nw(t.x)||nw(t.y)}function nw(t){return t&&t!=="0%"}function vh(t,e,n){const r=t-n,s=e*r;return n+s}function rw(t,e,n,r,s){return s!==void 0&&(t=vh(t,s,r)),vh(t,n,r)+e}function Cm(t,e=0,n=1,r,s){t.min=rw(t.min,e,n,r,s),t.max=rw(t.max,e,n,r,s)}function tI(t,{x:e,y:n}){Cm(t.x,e.translate,e.scale,e.originPoint),Cm(t.y,n.translate,n.scale,n.originPoint)}function pV(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&po(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,tI(t,o)),r&&Js(i.latestValues)&&po(t,i.latestValues))}e.x=sw(e.x),e.y=sw(e.y)}function sw(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function zr(t,e){t.min=t.min+e,t.max=t.max+e}function iw(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Re(t.min,t.max,i);Cm(t,e[n],e[r],o,e.scale)}const mV=["x","scaleX","originX"],gV=["y","scaleY","originY"];function po(t,e){iw(t.x,e,mV),iw(t.y,e,gV)}function nI(t,e){return ZS(fV(t.getBoundingClientRect(),e))}function yV(t,e,n){const r=nI(t,n),{scroll:s}=e;return s&&(zr(r.x,s.offset.x),zr(r.y,s.offset.y)),r}const rI=({current:t})=>t?t.ownerDocument.defaultView:null,vV=new WeakMap;class _V{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cd(h,"page").point)},i=(h,d)=>{const{drag:p,dragPropagation:y,onDragStart:C}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gS(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(k=>{let w=this.getAxisMotionValue(k).get()||0;if(Hn.test(w)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[k];T&&(w=Zt(T)*(parseFloat(w)/100))}}this.originPoint[k]=w}),C&&Ee.update(()=>C(h,d),!1,!0);const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:C,onDrag:I}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:k}=d;if(y&&this.currentDirection===null){this.currentDirection=wV(k),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",d.point,k),this.updateAxis("y",d.point,k),this.visualElement.render(),I&&I(h,d)},a=(h,d)=>this.stop(h,d),u=()=>rn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new XS(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:rI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ee.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ic(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=oV(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&co(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=aV(s.layoutBox,n):this.constraints=!1,this.elastic=hV(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=cV(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!co(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=yV(r,s.root,this.visualElement.getTransformPagePoint());let o=lV(s.layout.layoutBox,i);if(n){const a=n(dV(o));this.hasMutatedConstraints=!!a,a&&(o=ZS(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=rn(h=>{if(!ic(h,n,this.currentDirection))return;let d=u&&u[h]||{};o&&(d={min:0,max:0});const p=s?200:1e6,y=s?40:1e7,C={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,C)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(my(e,r,0,n))}stopAnimation(){rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rn(n=>{const{drag:r}=this.getProps();if(!ic(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Re(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!co(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rn(o=>{const a=this.getAxisMotionValue(o);if(a){const u=a.get();s[o]=uV({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rn(o=>{if(!ic(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(Re(u,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;vV.set(this.visualElement,this);const e=this.visualElement.current,n=dr(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();co(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=lr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(rn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=u[h].translate,d.set(d.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Sm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function ic(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class EV extends Fs{constructor(e){super(e),this.removeGroupControls=Ue,this.removeListeners=Ue,this.controls=new _V(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ue}unmount(){this.removeGroupControls(),this.removeListeners()}}const ow=t=>(e,n)=>{t&&Ee.update(()=>t(e,n))};class TV extends Fs{constructor(){super(...arguments),this.removePointerDownListener=Ue}onPointerDown(e){this.session=new XS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ow(e),onStart:ow(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ee.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=dr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function xV(){const t=O.useContext(id);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=O.useId();return O.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const za={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=aw(t,e.target.x),r=aw(t,e.target.y);return`${n}% ${r}%`}},SV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ps.parse(t);if(s.length>5)return r;const i=Ps.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=u;const c=Re(a,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class IV extends PT.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;N2(CV),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ee.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sI(t){const[e,n]=xV(),r=O.useContext(ty);return PT.createElement(IV,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(Zx),isPresent:e,safeToRemove:n})}const CV={borderRadius:{...za,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:za,borderTopRightRadius:za,borderBottomLeftRadius:za,borderBottomRightRadius:za,boxShadow:SV},iI=["TopLeft","TopRight","BottomLeft","BottomRight"],AV=iI.length,lw=t=>typeof t=="string"?parseFloat(t):t,uw=t=>typeof t=="number"||X.test(t);function PV(t,e,n,r,s,i){s?(t.opacity=Re(0,n.opacity!==void 0?n.opacity:1,bV(r)),t.opacityExit=Re(e.opacity!==void 0?e.opacity:1,0,RV(r))):i&&(t.opacity=Re(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<AV;o++){const a=`border${iI[o]}Radius`;let u=cw(e,a),c=cw(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||uw(u)===uw(c)?(t[a]=Math.max(Re(lw(u),lw(c),r),0),(Hn.test(c)||Hn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Re(e.rotate||0,n.rotate||0,r))}function cw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bV=oI(0,.5,PS),RV=oI(.5,.95,Ue);function oI(t,e,n){return r=>r<t?0:r>e?1:n(zl(t,e,r))}function hw(t,e){t.min=e.min,t.max=e.max}function nn(t,e){hw(t.x,e.x),hw(t.y,e.y)}function dw(t,e,n,r,s){return t-=e,t=vh(t,1/n,r),s!==void 0&&(t=vh(t,1/s,r)),t}function kV(t,e=0,n=1,r=.5,s,i=t,o=t){if(Hn.test(e)&&(e=parseFloat(e),e=Re(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Re(i.min,i.max,r);t===i&&(a-=e),t.min=dw(t.min,e,n,a,s),t.max=dw(t.max,e,n,a,s)}function fw(t,e,[n,r,s],i,o){kV(t,e[n],e[r],e[s],e.scale,i,o)}const NV=["x","scaleX","originX"],DV=["y","scaleY","originY"];function pw(t,e,n,r){fw(t.x,e,NV,n?n.x:void 0,r?r.x:void 0),fw(t.y,e,DV,n?n.y:void 0,r?r.y:void 0)}function mw(t){return t.translate===0&&t.scale===1}function aI(t){return mw(t.x)&&mw(t.y)}function VV(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function lI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function gw(t){return Zt(t.x)/Zt(t.y)}class MV{constructor(){this.members=[]}add(e){gy(this.members,e),e.scheduleRender()}remove(e){if(yy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yw(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:c,rotateY:h}=n;u&&(r+=`rotate(${u}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const OV=(t,e)=>t.depth-e.depth;class LV{constructor(){this.children=[],this.isDirty=!1}add(e){gy(this.children,e),this.isDirty=!0}remove(e){yy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OV),this.isDirty=!1,this.children.forEach(e)}}function jV(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Er(r),t(i-e))};return Ee.read(r,!0),()=>Er(r)}function FV(t){window.MotionDebug&&window.MotionDebug.record(t)}function UV(t){return t instanceof SVGElement&&t.tagName!=="svg"}function BV(t,e,n){const r=qt(t)?t:Ko(t);return r.start(my("",r,e,n)),r.animation}const vw=["","X","Y","Z"],zV={visibility:"hidden"},_w=1e3;let $V=0;const Zs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function uI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=$V++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zs.totalNodes=Zs.resolvedTargetDeltas=Zs.recalculatedProjection=0,this.nodes.forEach(WV),this.nodes.forEach(XV),this.nodes.forEach(JV),this.nodes.forEach(KV),FV(Zs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new LV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UV(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=jV(p,250),Ac.hasAnimatedSinceResize&&(Ac.hasAnimatedSinceResize=!1,this.nodes.forEach(Ew))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||h.getDefaultTransition()||rM,{onLayoutAnimationStart:k,onLayoutAnimationComplete:w}=h.getProps(),E=!this.targetLayout||!lI(this.targetLayout,C)||y,T=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,T);const V={...py(I,"layout"),onPlay:k,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else p||Ew(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ww);return}this.isUpdating||this.nodes.forEach(QV),this.isUpdating=!1,this.nodes.forEach(YV),this.nodes.forEach(HV),this.nodes.forEach(qV),this.clearAllSnapshots();const a=performance.now();yt.delta=As(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,jf.update.process(yt),jf.preRender.process(yt),jf.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(GV),this.sharedNodes.forEach(eM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!aI(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Js(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),sM(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ze();const a=o.measureViewportBox(),{scroll:u}=this.root;return u&&(zr(a.x,u.offset.x),zr(a.y,u.offset.y)),a}removeElementScroll(o){const a=ze();nn(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){nn(a,o);const{scroll:p}=this.root;p&&(zr(a.x,-p.offset.x),zr(a.y,-p.offset.y))}zr(a.x,h.offset.x),zr(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const u=ze();nn(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&po(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Js(h.latestValues)&&po(u,h.latestValues)}return Js(this.latestValues)&&po(u,this.latestValues),u}removeTransform(o){const a=ze();nn(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Js(c.latestValues))continue;Im(c.latestValues)&&c.updateSnapshot();const h=ze(),d=c.measurePageBox();nn(h,d),pw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Js(this.latestValues)&&pw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),ml(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nn(this.target,this.layout.layoutBox),tI(this.target,this.targetDelta)):nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),ml(this.relativeTargetOrigin,this.target,y.target),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Im(this.parent.latestValues)||eI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;nn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;pV(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:C}=a;if(!C){this.projectionTransform&&(this.projectionDelta=fo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=fo(),this.projectionDeltaWithTransform=fo());const I=this.projectionTransform;pl(this.projectionDelta,this.layoutCorrected,C,this.latestValues),this.projectionTransform=yw(this.projectionDelta,this.treeScale),(this.projectionTransform!==I||this.treeScale.x!==p||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Zs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},d=fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ze(),y=u?u.source:void 0,C=this.layout?this.layout.source:void 0,I=y!==C,k=this.getStack(),w=!k||k.members.length<=1,E=!!(I&&!w&&this.options.crossfade===!0&&!this.path.some(nM));this.animationProgress=0;let T;this.mixTargetDelta=V=>{const N=V/1e3;Tw(d.x,o.x,N),Tw(d.y,o.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ml(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tM(this.relativeTarget,this.relativeTargetOrigin,p,N),T&&VV(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=ze()),nn(T,this.relativeTarget)),I&&(this.animationValues=h,PV(h,c,this.latestValues,N,E,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{Ac.hasAnimatedSinceResize=!0,this.currentAnimation=BV(0,_w,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_w),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&cI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||ze();const d=Zt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+d;const p=Zt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}nn(a,u),po(a,h),pl(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new MV),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<vw.length;h++){const d="rotate"+vw[h];u[d]&&(c[d]=u[d],o.setStaticValue(d,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zV;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Cc(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Cc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Js(this.latestValues)&&(I.transform=h?h({},""):"none",this.hasProjected=!1),I}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=yw(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:C}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${C.origin*100}% 0`,d.animationValues?c.opacity=d===this?(u=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const I in hh){if(p[I]===void 0)continue;const{correct:k,applyTo:w}=hh[I],E=c.transform==="none"?p[I]:k(p[I],d);if(w){const T=w.length;for(let V=0;V<T;V++)c[w[V]]=E}else c[I]=E}return this.options.layoutId&&(c.pointerEvents=d===this?Cc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ww),this.root.sharedNodes.clear()}}}function HV(t){t.updateLayout()}function qV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?rn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],y=Zt(p);p.min=r[d].min,p.max=p.min+y}):cI(i,n.layoutBox,r)&&rn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],y=Zt(r[d]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const a=fo();pl(a,r,n.layoutBox);const u=fo();o?pl(u,t.applyTransform(s,!0),n.measuredBox):pl(u,r,n.layoutBox);const c=!aI(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:y}=d;if(p&&y){const C=ze();ml(C,n.layoutBox,p.layoutBox);const I=ze();ml(I,r,y.layoutBox),lI(C,I)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=C,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function WV(t){Zs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function KV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GV(t){t.clearSnapshot()}function ww(t){t.clearMeasurements()}function QV(t){t.isLayoutDirty=!1}function YV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ew(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XV(t){t.resolveTargetDelta()}function JV(t){t.calcProjection()}function ZV(t){t.resetRotation()}function eM(t){t.removeLeadSnapshot()}function Tw(t,e,n){t.translate=Re(e.translate,0,n),t.scale=Re(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xw(t,e,n,r){t.min=Re(e.min,n.min,r),t.max=Re(e.max,n.max,r)}function tM(t,e,n,r){xw(t.x,e.x,n.x,r),xw(t.y,e.y,n.y,r)}function nM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rM={duration:.45,ease:[.4,0,.1,1]},Sw=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Iw=Sw("applewebkit/")&&!Sw("chrome/")?Math.round:Ue;function Cw(t){t.min=Iw(t.min),t.max=Iw(t.max)}function sM(t){Cw(t.x),Cw(t.y)}function cI(t,e,n){return t==="position"||t==="preserve-aspect"&&!xm(gw(e),gw(n),.2)}const iM=uI({attachResizeListener:(t,e)=>lr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qf={current:void 0},hI=uI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qf.current){const t=new iM({});t.mount(window),t.setOptions({layoutScroll:!0}),Qf.current=t}return Qf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),oM={pan:{Feature:TV},drag:{Feature:EV,ProjectionNode:hI,MeasureLayout:sI}},aM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function lM(t){const e=aM.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Am(t,e,n=1){const[r,s]=lM(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return KS(o)?parseFloat(o):o}else return gm(s)?Am(s,e,n+1):s}function uM(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!gm(i))return;const o=Am(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!gm(i))continue;const o=Am(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const cM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),dI=t=>cM.has(t),hM=t=>Object.keys(t).some(dI),Aw=t=>t===ji||t===X,Pw=(t,e)=>parseFloat(t.split(", ")[e]),bw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Pw(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Pw(i[1],t):0}},dM=new Set(["x","y","z"]),fM=cu.filter(t=>!dM.has(t));function pM(t){const e=[];return fM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Go={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bw(4,13),y:bw(5,14)};Go.translateX=Go.x;Go.translateY=Go.y;const mM=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Go[c](r,i)}),e.render();const u=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=Go[c](u,i)}),t},gM=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(dI);let i=[],o=!1;const a=[];if(s.forEach(u=>{const c=t.getValue(u);if(!t.hasValue(u))return;let h=n[u],d=Ba(h);const p=e[u];let y;if(fh(p)){const C=p.length,I=p[0]===null?1:0;h=p[I],d=Ba(h);for(let k=I;k<C&&p[k]!==null;k++)y?uy(Ba(p[k])===y):y=Ba(p[k])}else y=Ba(p);if(d!==y)if(Aw(d)&&Aw(y)){const C=c.get();typeof C=="string"&&c.set(parseFloat(C)),typeof p=="string"?e[u]=parseFloat(p):Array.isArray(p)&&y===X&&(e[u]=p.map(parseFloat))}else d!=null&&d.transform&&(y!=null&&y.transform)&&(h===0||p===0)?h===0?c.set(y.transform(h)):e[u]=d.transform(p):(o||(i=pM(t),o=!0),a.push(u),r[u]=r[u]!==void 0?r[u]:e[u],c.jump(p))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,c=mM(e,t,a);return i.length&&i.forEach(([h,d])=>{t.getValue(h).set(d)}),t.render(),od&&u!==null&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function yM(t,e,n,r){return hM(e)?gM(t,e,n,r):{target:e,transitionEnd:r}}const vM=(t,e,n,r)=>{const s=uM(t,e,r);return e=s.target,r=s.transitionEnd,yM(t,e,n,r)},Pm={current:null},fI={current:!1};function _M(){if(fI.current=!0,!!od)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pm.current=t.matches;t.addListener(e),e()}else Pm.current=!1}function wM(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(qt(i))t.addValue(s,i),yh(r)&&r.add(s);else if(qt(o))t.addValue(s,Ko(i,{owner:t})),yh(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Ko(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Rw=new WeakMap,pI=Object.keys(Bl),EM=pI.length,kw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],TM=ey.length;class xM{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ee.render(this.render,!1,!0);const{latestValues:a,renderState:u}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=ld(n),this.isVariantNode=Jx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const d in h){const p=h[d];a[d]!==void 0&&qt(p)&&(p.set(a[d],!1),yh(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Rw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),fI.current||_M(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Rw.delete(this.current),this.projection&&this.projection.unmount(),Er(this.notifyUpdate),Er(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Li.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ee.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let u=0;u<EM;u++){const c=pI[u],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:y}=Bl[c];p&&(o=p),h(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||d&&co(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<kw.length;r++){const s=kw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=wM(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<TM;r++){const s=ey[r],i=this.props[s];(Ul(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ko(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=ly(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!qt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class mI extends xM{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=UD(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){jD(this,r,o);const a=vM(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function SM(t){return window.getComputedStyle(t)}class IM extends mI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Li.has(n)){const r=fy(n);return r&&r.default||0}else{const r=SM(e),s=(nS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nI(e,n)}build(e,n,r,s){ry(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ay(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){lS(e,n,r,s)}}class CM extends mI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Li.has(n)){const r=fy(n);return r&&r.default||0}return n=uS.has(n)?n:Jg(n),e.getAttribute(n)}measureInstanceViewportBox(){return ze()}scrapeMotionValuesFromProps(e,n){return hS(e,n)}build(e,n,r,s){iy(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){cS(e,n,r,s)}mount(e){this.isSVGTag=oy(e.tagName),super.mount(e)}}const AM=(t,e)=>ny(t)?new CM(e,{enableHardwareAcceleration:!1}):new IM(e,{enableHardwareAcceleration:!0}),PM={layout:{ProjectionNode:hI,MeasureLayout:sI}},bM={...tV,...EN,...oM,...PM},Le=R2((t,e)=>lN(t,e,bM,AM));function gI(){const t=O.useRef(!1);return Xg(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function RM(){const t=gI(),[e,n]=O.useState(0),r=O.useCallback(()=>{t.current&&n(e+1)},[e]);return[O.useCallback(()=>Ee.postRender(r),[r]),e]}class kM extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function NM({children:t,isPresent:e}){const n=O.useId(),r=O.useRef(null),s=O.useRef({width:0,height:0,top:0,left:0});return O.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:u}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),O.createElement(kM,{isPresent:e,childRef:r,sizeRef:s},O.cloneElement(t,{ref:r}))}const Yf=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=dS(DM),u=O.useId(),c=O.useMemo(()=>({id:u,initial:e,isPresent:n,custom:s,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),i?void 0:[n]);return O.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),O.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=O.createElement(NM,{isPresent:n},t)),O.createElement(id.Provider,{value:c},t)};function DM(){return new Map}function VM(t){return O.useEffect(()=>()=>t(),[])}const ei=t=>t.key||"";function MM(t,e){t.forEach(n=>{const r=ei(n);e.set(r,n)})}function OM(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const LM=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=O.useContext(ty).forceRender||RM()[0],u=gI(),c=OM(t);let h=c;const d=O.useRef(new Map).current,p=O.useRef(h),y=O.useRef(new Map).current,C=O.useRef(!0);if(Xg(()=>{C.current=!1,MM(c,y),p.current=h}),VM(()=>{C.current=!0,y.clear(),d.clear()}),C.current)return O.createElement(O.Fragment,null,h.map(E=>O.createElement(Yf,{key:ei(E),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},E)));h=[...h];const I=p.current.map(ei),k=c.map(ei),w=I.length;for(let E=0;E<w;E++){const T=I[E];k.indexOf(T)===-1&&!d.has(T)&&d.set(T,void 0)}return o==="wait"&&d.size&&(h=[]),d.forEach((E,T)=>{if(k.indexOf(T)!==-1)return;const V=y.get(T);if(!V)return;const N=I.indexOf(T);let j=E;if(!j){const v=()=>{d.delete(T);const _=Array.from(y.keys()).filter(A=>!k.includes(A));if(_.forEach(A=>y.delete(A)),p.current=c.filter(A=>{const S=ei(A);return S===T||_.includes(S)}),!d.size){if(u.current===!1)return;a(),r&&r()}};j=O.createElement(Yf,{key:ei(V),isPresent:!1,onExitComplete:v,custom:e,presenceAffectsLayout:i,mode:o},V),d.set(T,j)}h.splice(N,0,j)}),h=h.map(E=>{const T=E.key;return d.has(T)?E:O.createElement(Yf,{key:ei(E),isPresent:!0,presenceAffectsLayout:i,mode:o},E)}),O.createElement(O.Fragment,null,d.size?h:h.map(E=>O.cloneElement(E)))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ge=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},h)=>O.createElement("svg",{ref:h,...jM,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${FM(t)}`,a].join(" "),...c},[...e.map(([d,p])=>O.createElement(d,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=ge("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=ge("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=ge("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=ge("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=ge("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=ge("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=ge("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=()=>{};var Vw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},EI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(p=64)),r.push(n[h],n[d],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new iO;const p=i<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),d!==64){const C=c<<6&192|d;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oO=function(t){const e=wI(t);return EI.encodeByteArray(e,!0)},Eh=function(t){return oO(t).replace(/\./g,"")},TI=function(t){try{return EI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=()=>aO().__FIREBASE_DEFAULTS__,uO=()=>{if(typeof process>"u"||typeof Vw>"u")return;const t=Vw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TI(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return rO()||lO()||uO()||cO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xI=t=>{var e,n;return(n=(e=gd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},hO=t=>{const e=xI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SI=()=>{var t;return(t=gd())==null?void 0:t.config},II=t=>{var e;return(e=gd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(o)),""].join(".")}const gl={};function pO(){const t={prod:[],emulator:[]};for(const e of Object.keys(gl))gl[e]?t.emulator.push(e):t.prod.push(e);return t}function mO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Mw=!1;function AI(t,e){if(typeof window>"u"||typeof document>"u"||!aa(window.location.host)||gl[t]===e||gl[t]||Mw)return;gl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=pO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Mw=!0,o()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=mO(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),I=n("learnmore"),k=document.getElementById(I)||document.createElement("a"),w=n("preprendIcon"),E=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),h(k,I);const V=c();u(E,w),T.append(E,C,k,V),document.body.appendChild(T)}i?(C.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function yO(){var e;const t=(e=gd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _O(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EO(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TO(){return!yO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xO(){try{return typeof indexedDB=="object"}catch{return!1}}function SO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IO,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?CO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pr(s,a,r)}}function CO(t,e){return t.replace(AO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const AO=/\{\$([^}]+)}/g;function PO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ow(i)&&Ow(o)){if(!Pi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ow(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ya(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bO(t,e){const n=new RO(t,e);return n.subscribe.bind(n)}class RO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Xf),s.error===void 0&&(s.error=Xf),s.complete===void 0&&(s.complete=Xf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VO(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DO(t){return t===ti?void 0:t}function VO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const OO={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},LO=ae.INFO,jO={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},FO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ey{constructor(e){this.name=e,this._logLevel=LO,this._logHandler=FO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const UO=(t,e)=>e.some(n=>t instanceof n);let Lw,jw;function BO(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zO(){return jw||(jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PI=new WeakMap,bm=new WeakMap,bI=new WeakMap,Jf=new WeakMap,Ty=new WeakMap;function $O(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(_s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PI.set(n,t)}).catch(()=>{}),Ty.set(e,t),e}function HO(t){if(bm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bm.set(t,e)}let Rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qO(t){Rm=t(Rm)}function WO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zf(this),e,...n);return bI.set(r,e.sort?e.sort():[e]),_s(r)}:zO().includes(t)?function(...e){return t.apply(Zf(this),e),_s(PI.get(this))}:function(...e){return _s(t.apply(Zf(this),e))}}function KO(t){return typeof t=="function"?WO(t):(t instanceof IDBTransaction&&HO(t),UO(t,BO())?new Proxy(t,Rm):t)}function _s(t){if(t instanceof IDBRequest)return $O(t);if(Jf.has(t))return Jf.get(t);const e=KO(t);return e!==t&&(Jf.set(t,e),Ty.set(e,t)),e}const Zf=t=>Ty.get(t);function GO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=_s(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_s(o.result),u.oldVersion,u.newVersion,_s(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const QO=["get","getKey","getAll","getAllKeys","count"],YO=["put","add","delete","clear"],ep=new Map;function Fw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=YO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||QO.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return ep.set(e,i),i}qO(t=>({...t,get:(e,n,r)=>Fw(e,n)||t.get(e,n,r),has:(e,n)=>!!Fw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const km="@firebase/app",Uw="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Ey("@firebase/app"),ZO="@firebase/app-compat",eL="@firebase/analytics-compat",tL="@firebase/analytics",nL="@firebase/app-check-compat",rL="@firebase/app-check",sL="@firebase/auth",iL="@firebase/auth-compat",oL="@firebase/database",aL="@firebase/data-connect",lL="@firebase/database-compat",uL="@firebase/functions",cL="@firebase/functions-compat",hL="@firebase/installations",dL="@firebase/installations-compat",fL="@firebase/messaging",pL="@firebase/messaging-compat",mL="@firebase/performance",gL="@firebase/performance-compat",yL="@firebase/remote-config",vL="@firebase/remote-config-compat",_L="@firebase/storage",wL="@firebase/storage-compat",EL="@firebase/firestore",TL="@firebase/ai",xL="@firebase/firestore-compat",SL="firebase",IL="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",CL={[km]:"fire-core",[ZO]:"fire-core-compat",[tL]:"fire-analytics",[eL]:"fire-analytics-compat",[rL]:"fire-app-check",[nL]:"fire-app-check-compat",[sL]:"fire-auth",[iL]:"fire-auth-compat",[oL]:"fire-rtdb",[aL]:"fire-data-connect",[lL]:"fire-rtdb-compat",[uL]:"fire-fn",[cL]:"fire-fn-compat",[hL]:"fire-iid",[dL]:"fire-iid-compat",[fL]:"fire-fcm",[pL]:"fire-fcm-compat",[mL]:"fire-perf",[gL]:"fire-perf-compat",[yL]:"fire-rc",[vL]:"fire-rc-compat",[_L]:"fire-gcs",[wL]:"fire-gcs-compat",[EL]:"fire-fst",[xL]:"fire-fst-compat",[TL]:"fire-vertex","fire-js":"fire-js",[SL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,AL=new Map,Dm=new Map;function Bw(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qo(t){const e=t.name;if(Dm.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,t);for(const n of Th.values())Bw(n,t);for(const n of AL.values())Bw(n,t);return!0}function xy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new pu("app","Firebase",PL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=IL;function RI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Nm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ws.create("bad-app-name",{appName:String(s)});if(n||(n=SI()),!n)throw ws.create("no-options");const i=Th.get(s);if(i){if(Pi(n,i.options)&&Pi(r,i.config))return i;throw ws.create("duplicate-app",{appName:s})}const o=new MO(s);for(const u of Dm.values())o.addComponent(u);const a=new bL(n,r,o);return Th.set(s,a),a}function kI(t=Nm){const e=Th.get(t);if(!e&&t===Nm&&SI())return RI();if(!e)throw ws.create("no-app",{appName:t});return e}function Es(t,e,n){let r=CL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(o.join(" "));return}Qo(new bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebase-heartbeat-database",kL=1,$l="firebase-heartbeat-store";let tp=null;function NI(){return tp||(tp=GO(RL,kL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(t=>{throw ws.create("idb-open",{originalErrorMessage:t.message})})),tp}async function NL(t){try{const n=(await NI()).transaction($l),r=await n.objectStore($l).get(DI(t));return await n.done,r}catch(e){if(e instanceof Pr)Tr.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function zw(t,e){try{const r=(await NI()).transaction($l,"readwrite");await r.objectStore($l).put(e,DI(t)),await r.done}catch(n){if(n instanceof Pr)Tr.warn(n.message);else{const r=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(r.message)}}}function DI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=1024,VL=30;class ML{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$w();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>VL){const o=jL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$w(),{heartbeatsToSend:r,unsentEntries:s}=OL(this._heartbeatsCache.heartbeats),i=Eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Tr.warn(n),""}}}function $w(){return new Date().toISOString().substring(0,10)}function OL(t,e=DL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Hw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Hw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xO()?SO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hw(t){return Eh(JSON.stringify({version:2,heartbeats:t})).length}function jL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){Qo(new bi("platform-logger",e=>new XO(e),"PRIVATE")),Qo(new bi("heartbeat",e=>new ML(e),"PRIVATE")),Es(km,Uw,t),Es(km,Uw,"esm2020"),Es("fire-js","")}FL("");function VI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UL=VI,MI=new pu("auth","Firebase",VI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Ey("@firebase/auth");function BL(t,...e){xh.logLevel<=ae.WARN&&xh.warn(`Auth (${la}): ${t}`,...e)}function Pc(t,...e){xh.logLevel<=ae.ERROR&&xh.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw Sy(t,...e)}function qn(t,...e){return Sy(t,...e)}function OI(t,e,n){const r={...UL(),[e]:n};return new pu("auth","Firebase",r).create(e,{appName:t.name})}function Ts(t){return OI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MI.create(t,...e)}function J(t,e,...n){if(!t)throw Sy(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pc(e),new Error(e)}function xr(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zL(){return qw()==="http:"||qw()==="https:"}function qw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zL()||_O()||"connection"in navigator)?navigator.onLine:!0}function HL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=gO()||wO()}get(){return $L()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KL=new gu(3e4,6e4);function Fi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Us(t,e,n,r,s={}){return jI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=mu({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...i};return vO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&aa(t.emulatorConfig.host)&&(c.credentials="include"),LI.fetch()(await FI(t,t.config.apiHost,n,a),c)})}async function jI(t,e,n){t._canInitEmulator=!1;const r={...qL,...e};try{const s=new QL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw oc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw oc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw oc(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw OI(t,h,c);Rn(t,h)}}catch(s){if(s instanceof Pr)throw s;Rn(t,"network-request-failed",{message:String(s)})}}async function yd(t,e,n,r,s={}){const i=await Us(t,e,n,r,s);return"mfaPendingCredential"in i&&Rn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function FI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Iy(t.config,s):`${t.config.apiScheme}://${s}`;return WL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function GL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qn(this.auth,"network-request-failed")),KL.get())})}}function oc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=qn(t,e,r);return s.customData._tokenResponse=n,s}function Ww(t){return t!==void 0&&t.enterprise!==void 0}class YL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XL(t,e){return Us(t,"GET","/v2/recaptchaConfig",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){return Us(t,"POST","/v1/accounts:delete",e)}async function Sh(t,e){return Us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZL(t,e=!1){const n=lt(t),r=await n.getIdToken(e),s=Cy(r);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yl(np(s.auth_time)),issuedAtTime:yl(np(s.iat)),expirationTime:yl(np(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function np(t){return Number(t)*1e3}function Cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const s=TI(n);return s?JSON.parse(s):(Pc("Failed to decode base64 JWT payload"),null)}catch(s){return Pc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Kw(t){const e=Cy(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&e4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Hl(t,Sh(e,{idToken:n}));J(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?UI(s.providerUserInfo):[],o=r4(t.providerData,i),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Mm(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function n4(t){const e=lt(t);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function UI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e){const n=await jI(t,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await FI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&aa(t.emulatorConfig.host)&&(u.credentials="include"),LI.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i4(t,e){return Us(t,"POST","/v2/accounts:revokeToken",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=Kw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await s4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new To;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(J(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(J(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZL(this,e)}reload(){return n4(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await Hl(this,JL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:y,providerData:C,stsTokenManager:I}=n;J(d&&I,e,"internal-error");const k=To.fromJSON(this.name,I);J(typeof d=="string",e,"internal-error"),Lr(r,e.name),Lr(s,e.name),J(typeof p=="boolean",e,"internal-error"),J(typeof y=="boolean",e,"internal-error"),Lr(i,e.name),Lr(o,e.name),Lr(a,e.name),Lr(u,e.name),Lr(c,e.name),Lr(h,e.name);const w=new Sn({uid:d,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:k,createdAt:c,lastLoginAt:h});return C&&Array.isArray(C)&&(w.providerData=C.map(E=>({...E}))),u&&(w._redirectEventId=u),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new To;s.updateFromServerResponse(n);const i=new Sn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ih(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];J(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?UI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new To;a.updateFromIdToken(r);const u=new Sn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Mm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;function cr(t){xr(t instanceof Function,"Expected a class definition");let e=Gw.get(t);return e?(xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BI.type="NONE";const Qw=BI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e,n){return`firebase:${t}:${e}:${n}`}class xo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=bc(this.userKey,s.apiKey,i),this.fullPersistenceKey=bc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?Sn._fromGetAccountInfoResponse(this.auth,n,e):null}return Sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xo(cr(Qw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||cr(Qw);const o=bc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const p=await Sh(e,{idToken:h}).catch(()=>{});if(!p)break;d=await Sn._fromGetAccountInfoResponse(e,p,h)}else d=Sn._fromJSON(e,h);c!==i&&(a=d),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new xo(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new xo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KI(e))return"Blackberry";if(GI(e))return"Webos";if($I(e))return"Safari";if((e.includes("chrome/")||HI(e))&&!e.includes("edge/"))return"Chrome";if(WI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zI(t=Tt()){return/firefox\//i.test(t)}function $I(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HI(t=Tt()){return/crios\//i.test(t)}function qI(t=Tt()){return/iemobile/i.test(t)}function WI(t=Tt()){return/android/i.test(t)}function KI(t=Tt()){return/blackberry/i.test(t)}function GI(t=Tt()){return/webos/i.test(t)}function Ay(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o4(t=Tt()){var e;return Ay(t)&&!!((e=window.navigator)!=null&&e.standalone)}function a4(){return EO()&&document.documentMode===10}function QI(t=Tt()){return Ay(t)||WI(t)||GI(t)||KI(t)||/windows phone/i.test(t)||qI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t,e=[]){let n;switch(t){case"Browser":n=Yw(Tt());break;case"Worker":n=`${Yw(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e={}){return Us(t,"GET","/v2/passwordPolicy",Fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=6;class h4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??c4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xw(this),this.idTokenSubscription=new Xw(this),this.beforeStateQueue=new l4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),r=await Sn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Ts(this));const n=e?lt(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u4(this),n=new h4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&BL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ua(t){return lt(t)}class Xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=bO(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f4(t){vd=t}function XI(t){return vd.loadJS(t)}function p4(){return vd.recaptchaEnterpriseScript}function m4(){return vd.gapiScript}function g4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y4{constructor(){this.enterprise=new v4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _4="recaptcha-enterprise",JI="NO_RECAPTCHA";class w4{constructor(e){this.type=_4,this.auth=ua(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{XL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new YL(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;Ww(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(JI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ww(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=p4();u.length!==0&&(u+=a),XI(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Jw(t,e,n,r=!1,s=!1){const i=new w4(t);let o;if(s)o=JI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Zw(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Jw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Jw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t,e){const n=xy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Pi(i,e??{}))return s;Rn(s,"already-initialized")}return n.initialize({options:e})}function T4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x4(t,e,n){const r=ua(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=ZI(e),{host:o,port:a}=S4(e),u=a===null?"":`:${a}`,c={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(Pi(c,r.config.emulator)&&Pi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,aa(o)?(CI(`${i}//${o}${u}`),AI("Auth",!0)):I4()}function ZI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S4(t){const e=ZI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:eE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:eE(o)}}}function eE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function C4(t,e){return Us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){return yd(t,"POST","/v1/accounts:signInWithPassword",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){return yd(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}async function b4(t,e){return yd(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Py{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zw(e,n,"signInWithPassword",A4);case"emailLink":return P4(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zw(e,r,"signUpPassword",C4);case"emailLink":return b4(e,{idToken:n,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return yd(t,"POST","/v1/accounts:signInWithIdp",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="http://localhost";class Ri extends Py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ri(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:R4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N4(t){const e=Ya(Xa(t)).link,n=e?Ya(Xa(e)).deep_link_id:null,r=Ya(Xa(t)).deep_link_id;return(r?Ya(Xa(r)).link:null)||r||n||e||t}class by{constructor(e){const n=Ya(Xa(e)),r=n.apiKey??null,s=n.oobCode??null,i=k4(n.mode??null);J(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=N4(e);try{return new by(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,n){return ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=by.parseLink(n);return J(r,"argument-error"),ql._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends eC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends yu{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ri._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends yu{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends yu{constructor(){super("twitter.com")}static credential(e,n){return Ri._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Sn._fromIdTokenResponse(e,r,s),o=tE(r);return new Yo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=tE(r);return new Yo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function tE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Pr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ch(e,n,r,s)}}function tC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(t,i,e,r):i})}async function D4(t,e,n=!1){const r=await Hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(Ts(r));const s="reauthenticate";try{const i=await Hl(t,tC(r,s,e,t),n);J(i.idToken,r,"internal-error");const o=Cy(i.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Yo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(t,e,n=!1){if(xn(t.app))return Promise.reject(Ts(t));const r="signIn",s=await tC(t,r,e),i=await Yo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function M4(t,e){return nC(ua(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t){const e=ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function L4(t,e,n){return xn(t.app)?Promise.reject(Ts(t)):M4(lt(t),ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&O4(t),r})}function j4(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function F4(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function U4(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function B4(t){return lt(t).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=1e3,$4=10;class sC extends rC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);a4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sC.type="LOCAL";const H4=sC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends rC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iC.type="SESSION";const oC=iC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new _d(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await q4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Ry("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function K4(t){Wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function G4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Y4(){return aC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebaseLocalStorageDb",X4=1,Ph="firebaseLocalStorage",uC="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wd(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function J4(){const t=indexedDB.deleteDatabase(lC);return new vu(t).toPromise()}function Om(){const t=indexedDB.open(lC,X4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ph,{keyPath:uC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),await J4(),e(await Om()))})})}async function nE(t,e,n){const r=wd(t,!0).put({[uC]:e,value:n});return new vu(r).toPromise()}async function Z4(t,e){const n=wd(t,!1).get(e),r=await new vu(n).toPromise();return r===void 0?null:r.value}function rE(t,e){const n=wd(t,!0).delete(e);return new vu(n).toPromise()}const ej=800,tj=3;class cC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_d._getInstance(Y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await G4(),!this.activeServiceWorker)return;this.sender=new W4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await nE(e,Ah,"1"),await rE(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Z4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wd(s,!1).getAll();return new vu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cC.type="LOCAL";const nj=cC;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e){return e?cr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends Py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sj(t){return nC(t.auth,new ky(t),t.bypassAuthState)}function ij(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),V4(n,new ky(t),t.bypassAuthState)}async function oj(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),D4(n,new ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sj;case"linkViaPopup":case"linkViaRedirect":return oj;case"reauthViaPopup":case"reauthViaRedirect":return ij;default:Rn(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=new gu(2e3,1e4);class mo extends hC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aj.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="pendingRedirect",Rc=new Map;class uj extends hC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const r=await cj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cj(t,e){const n=fj(e),r=dj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function hj(t,e){Rc.set(t._key(),e)}function dj(t){return cr(t._redirectPersistence)}function fj(t){return bc(lj,t.config.apiKey,t.name)}async function pj(t,e,n=!1){if(xn(t.app))return Promise.reject(Ts(t));const r=ua(t),s=rj(r,e),o=await new uj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=10*60*1e3;class gj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mj&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e={}){return Us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wj=/^https?/;async function Ej(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vj(t);for(const n of e)try{if(Tj(n))return}catch{}Rn(t,"unauthorized-domain")}function Tj(t){const e=Vm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wj.test(n))return!1;if(_j.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=new gu(3e4,6e4);function iE(){const t=Wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sj(t){return new Promise((e,n)=>{var s,i,o;function r(){iE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iE(),n(qn(t,"network-request-failed"))},timeout:xj.get()})}if((i=(s=Wn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Wn().gapi)!=null&&o.load)r();else{const a=g4("iframefcb");return Wn()[a]=()=>{gapi.load?r():n(qn(t,"network-request-failed"))},XI(`${m4()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw kc=null,e})}let kc=null;function Ij(t){return kc=kc||Sj(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new gu(5e3,15e3),Aj="__/auth/iframe",Pj="emulator/auth/iframe",bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kj(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iy(e,Pj):`https://${t.config.authDomain}/${Aj}`,r={apiKey:e.apiKey,appName:t.name,v:la},s=Rj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${mu(r).slice(1)}`}async function Nj(t){const e=await Ij(t),n=Wn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:kj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=qn(t,"network-request-failed"),a=Wn().setTimeout(()=>{i(o)},Cj.get());function u(){Wn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vj=500,Mj=600,Oj="_blank",Lj="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jj(t,e,n,r=Vj,s=Mj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...Dj,width:r.toString(),height:s.toString(),top:i,left:o},c=Tt().toLowerCase();n&&(a=HI(c)?Oj:n),zI(c)&&(e=e||Lj,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[y,C])=>`${p}${y}=${C},`,"");if(o4(c)&&a!=="_self")return Fj(e||"",a),new oE(null);const d=window.open(e||"",a,h);J(d,t,"popup-blocked");try{d.focus()}catch{}return new oE(d)}function Fj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="__/auth/handler",Bj="emulator/auth/handler",zj=encodeURIComponent("fac");async function aE(t,e,n,r,s,i){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:s};if(e instanceof eC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof yu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${zj}=${encodeURIComponent(u)}`:"";return`${$j(t)}?${mu(a).slice(1)}${c}`}function $j({config:t}){return t.emulator?Iy(t,Bj):`https://${t.authDomain}/${Uj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class Hj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oC,this._completeRedirectFn=pj,this._overrideRedirectResult=hj}async _openPopup(e,n,r,s){var o;xr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await aE(e,n,r,Vm(),s);return jj(e,i,Ry())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await aE(e,n,r,Vm(),s);return K4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(xr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nj(e),r=new gj(e);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rp,{type:rp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[rp];i!==void 0&&n(!!i),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ej(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QI()||$I()||Ay()}}const qj=Hj;var lE="@firebase/auth",uE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gj(t){Qo(new bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YI(t)},c=new d4(r,s,i,u);return T4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qo(new bi("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new Wj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(lE,uE,Kj(t)),Es(lE,uE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=5*60,Yj=II("authIdTokenMaxAge")||Qj;let cE=null;const Xj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Yj)return;const s=n==null?void 0:n.token;cE!==s&&(cE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Jj(t=kI()){const e=xy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E4(t,{popupRedirectResolver:qj,persistence:[nj,H4,oC]}),r=II("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Xj(i.toString());F4(n,o,()=>o(n.currentUser)),j4(n,a=>o(a))}}const s=xI("auth");return s&&x4(n,`http://${s}`),n}function Zj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}f4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=qn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Zj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gj("Browser");var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,fC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,_){function A(){}A.prototype=_.prototype,v.F=_.prototype,v.prototype=new A,v.prototype.constructor=v,v.D=function(S,b,D){for(var P=Array(arguments.length-2),de=2;de<arguments.length;de++)P[de-2]=arguments[de];return _.prototype[b].apply(S,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(v,_,A){A||(A=0);const S=Array(16);if(typeof _=="string")for(var b=0;b<16;++b)S[b]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(b=0;b<16;++b)S[b]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=v.g[0],A=v.g[1],b=v.g[2];let D=v.g[3],P;P=_+(D^A&(b^D))+S[0]+3614090360&4294967295,_=A+(P<<7&4294967295|P>>>25),P=D+(b^_&(A^b))+S[1]+3905402710&4294967295,D=_+(P<<12&4294967295|P>>>20),P=b+(A^D&(_^A))+S[2]+606105819&4294967295,b=D+(P<<17&4294967295|P>>>15),P=A+(_^b&(D^_))+S[3]+3250441966&4294967295,A=b+(P<<22&4294967295|P>>>10),P=_+(D^A&(b^D))+S[4]+4118548399&4294967295,_=A+(P<<7&4294967295|P>>>25),P=D+(b^_&(A^b))+S[5]+1200080426&4294967295,D=_+(P<<12&4294967295|P>>>20),P=b+(A^D&(_^A))+S[6]+2821735955&4294967295,b=D+(P<<17&4294967295|P>>>15),P=A+(_^b&(D^_))+S[7]+4249261313&4294967295,A=b+(P<<22&4294967295|P>>>10),P=_+(D^A&(b^D))+S[8]+1770035416&4294967295,_=A+(P<<7&4294967295|P>>>25),P=D+(b^_&(A^b))+S[9]+2336552879&4294967295,D=_+(P<<12&4294967295|P>>>20),P=b+(A^D&(_^A))+S[10]+4294925233&4294967295,b=D+(P<<17&4294967295|P>>>15),P=A+(_^b&(D^_))+S[11]+2304563134&4294967295,A=b+(P<<22&4294967295|P>>>10),P=_+(D^A&(b^D))+S[12]+1804603682&4294967295,_=A+(P<<7&4294967295|P>>>25),P=D+(b^_&(A^b))+S[13]+4254626195&4294967295,D=_+(P<<12&4294967295|P>>>20),P=b+(A^D&(_^A))+S[14]+2792965006&4294967295,b=D+(P<<17&4294967295|P>>>15),P=A+(_^b&(D^_))+S[15]+1236535329&4294967295,A=b+(P<<22&4294967295|P>>>10),P=_+(b^D&(A^b))+S[1]+4129170786&4294967295,_=A+(P<<5&4294967295|P>>>27),P=D+(A^b&(_^A))+S[6]+3225465664&4294967295,D=_+(P<<9&4294967295|P>>>23),P=b+(_^A&(D^_))+S[11]+643717713&4294967295,b=D+(P<<14&4294967295|P>>>18),P=A+(D^_&(b^D))+S[0]+3921069994&4294967295,A=b+(P<<20&4294967295|P>>>12),P=_+(b^D&(A^b))+S[5]+3593408605&4294967295,_=A+(P<<5&4294967295|P>>>27),P=D+(A^b&(_^A))+S[10]+38016083&4294967295,D=_+(P<<9&4294967295|P>>>23),P=b+(_^A&(D^_))+S[15]+3634488961&4294967295,b=D+(P<<14&4294967295|P>>>18),P=A+(D^_&(b^D))+S[4]+3889429448&4294967295,A=b+(P<<20&4294967295|P>>>12),P=_+(b^D&(A^b))+S[9]+568446438&4294967295,_=A+(P<<5&4294967295|P>>>27),P=D+(A^b&(_^A))+S[14]+3275163606&4294967295,D=_+(P<<9&4294967295|P>>>23),P=b+(_^A&(D^_))+S[3]+4107603335&4294967295,b=D+(P<<14&4294967295|P>>>18),P=A+(D^_&(b^D))+S[8]+1163531501&4294967295,A=b+(P<<20&4294967295|P>>>12),P=_+(b^D&(A^b))+S[13]+2850285829&4294967295,_=A+(P<<5&4294967295|P>>>27),P=D+(A^b&(_^A))+S[2]+4243563512&4294967295,D=_+(P<<9&4294967295|P>>>23),P=b+(_^A&(D^_))+S[7]+1735328473&4294967295,b=D+(P<<14&4294967295|P>>>18),P=A+(D^_&(b^D))+S[12]+2368359562&4294967295,A=b+(P<<20&4294967295|P>>>12),P=_+(A^b^D)+S[5]+4294588738&4294967295,_=A+(P<<4&4294967295|P>>>28),P=D+(_^A^b)+S[8]+2272392833&4294967295,D=_+(P<<11&4294967295|P>>>21),P=b+(D^_^A)+S[11]+1839030562&4294967295,b=D+(P<<16&4294967295|P>>>16),P=A+(b^D^_)+S[14]+4259657740&4294967295,A=b+(P<<23&4294967295|P>>>9),P=_+(A^b^D)+S[1]+2763975236&4294967295,_=A+(P<<4&4294967295|P>>>28),P=D+(_^A^b)+S[4]+1272893353&4294967295,D=_+(P<<11&4294967295|P>>>21),P=b+(D^_^A)+S[7]+4139469664&4294967295,b=D+(P<<16&4294967295|P>>>16),P=A+(b^D^_)+S[10]+3200236656&4294967295,A=b+(P<<23&4294967295|P>>>9),P=_+(A^b^D)+S[13]+681279174&4294967295,_=A+(P<<4&4294967295|P>>>28),P=D+(_^A^b)+S[0]+3936430074&4294967295,D=_+(P<<11&4294967295|P>>>21),P=b+(D^_^A)+S[3]+3572445317&4294967295,b=D+(P<<16&4294967295|P>>>16),P=A+(b^D^_)+S[6]+76029189&4294967295,A=b+(P<<23&4294967295|P>>>9),P=_+(A^b^D)+S[9]+3654602809&4294967295,_=A+(P<<4&4294967295|P>>>28),P=D+(_^A^b)+S[12]+3873151461&4294967295,D=_+(P<<11&4294967295|P>>>21),P=b+(D^_^A)+S[15]+530742520&4294967295,b=D+(P<<16&4294967295|P>>>16),P=A+(b^D^_)+S[2]+3299628645&4294967295,A=b+(P<<23&4294967295|P>>>9),P=_+(b^(A|~D))+S[0]+4096336452&4294967295,_=A+(P<<6&4294967295|P>>>26),P=D+(A^(_|~b))+S[7]+1126891415&4294967295,D=_+(P<<10&4294967295|P>>>22),P=b+(_^(D|~A))+S[14]+2878612391&4294967295,b=D+(P<<15&4294967295|P>>>17),P=A+(D^(b|~_))+S[5]+4237533241&4294967295,A=b+(P<<21&4294967295|P>>>11),P=_+(b^(A|~D))+S[12]+1700485571&4294967295,_=A+(P<<6&4294967295|P>>>26),P=D+(A^(_|~b))+S[3]+2399980690&4294967295,D=_+(P<<10&4294967295|P>>>22),P=b+(_^(D|~A))+S[10]+4293915773&4294967295,b=D+(P<<15&4294967295|P>>>17),P=A+(D^(b|~_))+S[1]+2240044497&4294967295,A=b+(P<<21&4294967295|P>>>11),P=_+(b^(A|~D))+S[8]+1873313359&4294967295,_=A+(P<<6&4294967295|P>>>26),P=D+(A^(_|~b))+S[15]+4264355552&4294967295,D=_+(P<<10&4294967295|P>>>22),P=b+(_^(D|~A))+S[6]+2734768916&4294967295,b=D+(P<<15&4294967295|P>>>17),P=A+(D^(b|~_))+S[13]+1309151649&4294967295,A=b+(P<<21&4294967295|P>>>11),P=_+(b^(A|~D))+S[4]+4149444226&4294967295,_=A+(P<<6&4294967295|P>>>26),P=D+(A^(_|~b))+S[11]+3174756917&4294967295,D=_+(P<<10&4294967295|P>>>22),P=b+(_^(D|~A))+S[2]+718787259&4294967295,b=D+(P<<15&4294967295|P>>>17),P=A+(D^(b|~_))+S[9]+3951481745&4294967295,v.g[0]=v.g[0]+_&4294967295,v.g[1]=v.g[1]+(b+(P<<21&4294967295|P>>>11))&4294967295,v.g[2]=v.g[2]+b&4294967295,v.g[3]=v.g[3]+D&4294967295}r.prototype.v=function(v,_){_===void 0&&(_=v.length);const A=_-this.blockSize,S=this.C;let b=this.h,D=0;for(;D<_;){if(b==0)for(;D<=A;)s(this,v,D),D+=this.blockSize;if(typeof v=="string"){for(;D<_;)if(S[b++]=v.charCodeAt(D++),b==this.blockSize){s(this,S),b=0;break}}else for(;D<_;)if(S[b++]=v[D++],b==this.blockSize){s(this,S),b=0;break}}this.h=b,this.o+=_},r.prototype.A=function(){var v=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);v[0]=128;for(var _=1;_<v.length-8;++_)v[_]=0;_=this.o*8;for(var A=v.length-8;A<v.length;++A)v[A]=_&255,_/=256;for(this.v(v),v=Array(16),_=0,A=0;A<4;++A)for(let S=0;S<32;S+=8)v[_++]=this.g[A]>>>S&255;return v};function i(v,_){var A=a;return Object.prototype.hasOwnProperty.call(A,v)?A[v]:A[v]=_(v)}function o(v,_){this.h=_;const A=[];let S=!0;for(let b=v.length-1;b>=0;b--){const D=v[b]|0;S&&D==_||(A[b]=D,S=!1)}this.g=A}var a={};function u(v){return-128<=v&&v<128?i(v,function(_){return new o([_|0],_<0?-1:0)}):new o([v|0],v<0?-1:0)}function c(v){if(isNaN(v)||!isFinite(v))return d;if(v<0)return k(c(-v));const _=[];let A=1;for(let S=0;v>=A;S++)_[S]=v/A|0,A*=4294967296;return new o(_,0)}function h(v,_){if(v.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(v.charAt(0)=="-")return k(h(v.substring(1),_));if(v.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(_,8));let S=d;for(let D=0;D<v.length;D+=8){var b=Math.min(8,v.length-D);const P=parseInt(v.substring(D,D+b),_);b<8?(b=c(Math.pow(_,b)),S=S.j(b).add(c(P))):(S=S.j(A),S=S.add(c(P)))}return S}var d=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-k(this).m();let v=0,_=1;for(let A=0;A<this.g.length;A++){const S=this.i(A);v+=(S>=0?S:4294967296+S)*_,_*=4294967296}return v},t.toString=function(v){if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(C(this))return"0";if(I(this))return"-"+k(this).toString(v);const _=c(Math.pow(v,6));var A=this;let S="";for(;;){const b=V(A,_).g;A=w(A,b.j(_));let D=((A.g.length>0?A.g[0]:A.h)>>>0).toString(v);if(A=b,C(A))return D+S;for(;D.length<6;)D="0"+D;S=D+S}},t.i=function(v){return v<0?0:v<this.g.length?this.g[v]:this.h};function C(v){if(v.h!=0)return!1;for(let _=0;_<v.g.length;_++)if(v.g[_]!=0)return!1;return!0}function I(v){return v.h==-1}t.l=function(v){return v=w(this,v),I(v)?-1:C(v)?0:1};function k(v){const _=v.g.length,A=[];for(let S=0;S<_;S++)A[S]=~v.g[S];return new o(A,~v.h).add(p)}t.abs=function(){return I(this)?k(this):this},t.add=function(v){const _=Math.max(this.g.length,v.g.length),A=[];let S=0;for(let b=0;b<=_;b++){let D=S+(this.i(b)&65535)+(v.i(b)&65535),P=(D>>>16)+(this.i(b)>>>16)+(v.i(b)>>>16);S=P>>>16,D&=65535,P&=65535,A[b]=P<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(v,_){return v.add(k(_))}t.j=function(v){if(C(this)||C(v))return d;if(I(this))return I(v)?k(this).j(k(v)):k(k(this).j(v));if(I(v))return k(this.j(k(v)));if(this.l(y)<0&&v.l(y)<0)return c(this.m()*v.m());const _=this.g.length+v.g.length,A=[];for(var S=0;S<2*_;S++)A[S]=0;for(S=0;S<this.g.length;S++)for(let b=0;b<v.g.length;b++){const D=this.i(S)>>>16,P=this.i(S)&65535,de=v.i(b)>>>16,ht=v.i(b)&65535;A[2*S+2*b]+=P*ht,E(A,2*S+2*b),A[2*S+2*b+1]+=D*ht,E(A,2*S+2*b+1),A[2*S+2*b+1]+=P*de,E(A,2*S+2*b+1),A[2*S+2*b+2]+=D*de,E(A,2*S+2*b+2)}for(v=0;v<_;v++)A[v]=A[2*v+1]<<16|A[2*v];for(v=_;v<2*_;v++)A[v]=0;return new o(A,0)};function E(v,_){for(;(v[_]&65535)!=v[_];)v[_+1]+=v[_]>>>16,v[_]&=65535,_++}function T(v,_){this.g=v,this.h=_}function V(v,_){if(C(_))throw Error("division by zero");if(C(v))return new T(d,d);if(I(v))return _=V(k(v),_),new T(k(_.g),k(_.h));if(I(_))return _=V(v,k(_)),new T(k(_.g),_.h);if(v.g.length>30){if(I(v)||I(_))throw Error("slowDivide_ only works with positive integers.");for(var A=p,S=_;S.l(v)<=0;)A=N(A),S=N(S);var b=j(A,1),D=j(S,1);for(S=j(S,2),A=j(A,2);!C(S);){var P=D.add(S);P.l(v)<=0&&(b=b.add(A),D=P),S=j(S,1),A=j(A,1)}return _=w(v,b.j(_)),new T(b,_)}for(b=d;v.l(_)>=0;){for(A=Math.max(1,Math.floor(v.m()/_.m())),S=Math.ceil(Math.log(A)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),D=c(A),P=D.j(_);I(P)||P.l(v)>0;)A-=S,D=c(A),P=D.j(_);C(D)&&(D=p),b=b.add(D),v=w(v,P)}return new T(b,v)}t.B=function(v){return V(this,v).h},t.and=function(v){const _=Math.max(this.g.length,v.g.length),A=[];for(let S=0;S<_;S++)A[S]=this.i(S)&v.i(S);return new o(A,this.h&v.h)},t.or=function(v){const _=Math.max(this.g.length,v.g.length),A=[];for(let S=0;S<_;S++)A[S]=this.i(S)|v.i(S);return new o(A,this.h|v.h)},t.xor=function(v){const _=Math.max(this.g.length,v.g.length),A=[];for(let S=0;S<_;S++)A[S]=this.i(S)^v.i(S);return new o(A,this.h^v.h)};function N(v){const _=v.g.length+1,A=[];for(let S=0;S<_;S++)A[S]=v.i(S)<<1|v.i(S-1)>>>31;return new o(A,v.h)}function j(v,_){const A=_>>5;_%=32;const S=v.g.length-A,b=[];for(let D=0;D<S;D++)b[D]=_>0?v.i(D+A)>>>_|v.i(D+A+1)<<32-_:v.i(D+A);return new o(b,v.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,xs=o}).apply(typeof hE<"u"?hE:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pC,Ja,mC,Nc,Lm,gC,yC,vC;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var m=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var M=l[x];if(!(M in m))break e;m=m[M]}l=l[l.length-1],x=m[l],f=f(x),f!=x&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(f){var m=[],x;for(x in f)Object.prototype.hasOwnProperty.call(f,x)&&m.push([x,f[x]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function u(l,f,m){return l.call.apply(l.bind,arguments)}function c(l,f,m){return c=u,c.apply(null,arguments)}function h(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function d(l,f){function m(){}m.prototype=f.prototype,l.Z=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(x,M,L){for(var z=Array(arguments.length-2),se=2;se<arguments.length;se++)z[se-2]=arguments[se];return f.prototype[M].apply(x,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const f=l.length;if(f>0){const m=Array(f);for(let x=0;x<f;x++)m[x]=l[x];return m}return[]}function C(l,f){for(let x=1;x<arguments.length;x++){const M=arguments[x];var m=typeof M;if(m=m!="object"?m:M?Array.isArray(M)?"array":m:"null",m=="array"||m=="object"&&typeof M.length=="number"){m=l.length||0;const L=M.length||0;l.length=m+L;for(let z=0;z<L;z++)l[m+z]=M[z]}else l.push(M)}}class I{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function k(l){o.setTimeout(()=>{throw l},0)}function w(){var l=v;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class E{constructor(){this.h=this.g=null}add(f,m){const x=T.get();x.set(f,m),this.h?this.h.next=x:this.g=x,this.h=x}}var T=new I(()=>new V,l=>l.reset());class V{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let N,j=!1,v=new E,_=()=>{const l=Promise.resolve(void 0);N=()=>{l.then(A)}};function A(){for(var l;l=w();){try{l.h.call(l.g)}catch(m){k(m)}var f=T;f.j(l),f.h<100&&(f.h++,l.next=f.g,f.g=l)}j=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return l}();function P(l){return/^[\s\xa0]*$/.test(l)}function de(l,f){b.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,f)}d(de,b),de.prototype.init=function(l,f){const m=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget,f||(m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement)),this.relatedTarget=f,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),Pe=0;function Vt(l,f,m,x,M){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!x,this.ha=M,this.key=++Pe,this.da=this.fa=!1}function $(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function G(l,f,m){for(const x in l)f.call(m,l[x],x,l)}function re(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function ee(l){const f={};for(const m in l)f[m]=l[m];return f}const ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kn(l,f){let m,x;for(let M=1;M<arguments.length;M++){x=arguments[M];for(m in x)l[m]=x[m];for(let L=0;L<ve.length;L++)m=ve[L],Object.prototype.hasOwnProperty.call(x,m)&&(l[m]=x[m])}}function xt(l){this.src=l,this.g={},this.h=0}xt.prototype.add=function(l,f,m,x,M){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const z=nt(l,f,x,M);return z>-1?(f=l[z],m||(f.fa=!1)):(f=new Vt(f,this.src,L,!!x,M),f.fa=m,l.push(f)),f};function Nn(l,f){const m=f.type;if(m in l.g){var x=l.g[m],M=Array.prototype.indexOf.call(x,f,void 0),L;(L=M>=0)&&Array.prototype.splice.call(x,M,1),L&&($(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function nt(l,f,m,x){for(let M=0;M<l.length;++M){const L=l[M];if(!L.da&&L.listener==f&&L.capture==!!m&&L.ha==x)return M}return-1}var gn="closure_lm_"+(Math.random()*1e6|0),ga={};function zi(l,f,m,x,M){if(Array.isArray(f)){for(let L=0;L<f.length;L++)zi(l,f[L],m,x,M);return null}return m=pv(m),l&&l[ht]?l.J(f,m,a(x)?!!x.capture:!1,M):$i(l,f,m,!1,x,M)}function $i(l,f,m,x,M,L){if(!f)throw Error("Invalid event type");const z=a(M)?!!M.capture:!!M;let se=Hd(l);if(se||(l[gn]=se=new xt(l)),m=se.add(f,m,x,z,L),m.proxy)return m;if(x=Zn(),m.proxy=x,x.src=l,x.listener=m,l.addEventListener)D||(M=z),M===void 0&&(M=!1),l.addEventListener(f.toString(),x,M);else if(l.attachEvent)l.attachEvent(fv(f.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Zn(){function l(m){return f.call(l.src,l.listener,m)}const f=ZA;return l}function zd(l,f,m,x,M){if(Array.isArray(f))for(var L=0;L<f.length;L++)zd(l,f[L],m,x,M);else x=a(x)?!!x.capture:!!x,m=pv(m),l&&l[ht]?(l=l.i,L=String(f).toString(),L in l.g&&(f=l.g[L],m=nt(f,m,x,M),m>-1&&($(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete l.g[L],l.h--)))):l&&(l=Hd(l))&&(f=l.g[f.toString()],l=-1,f&&(l=nt(f,m,x,M)),(m=l>-1?f[l]:null)&&$d(m))}function $d(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[ht])Nn(f.i,l);else{var m=l.type,x=l.proxy;f.removeEventListener?f.removeEventListener(m,x,l.capture):f.detachEvent?f.detachEvent(fv(m),x):f.addListener&&f.removeListener&&f.removeListener(x),(m=Hd(f))?(Nn(m,l),m.h==0&&(m.src=null,f[gn]=null)):$(l)}}}function fv(l){return l in ga?ga[l]:ga[l]="on"+l}function ZA(l,f){if(l.da)l=!0;else{f=new de(f,this);const m=l.listener,x=l.ha||l.src;l.fa&&$d(l),l=m.call(x,f)}return l}function Hd(l){return l=l[gn],l instanceof xt?l:null}var qd="__closure_events_fn_"+(Math.random()*1e9>>>0);function pv(l){return typeof l=="function"?l:(l[qd]||(l[qd]=function(f){return l.handleEvent(f)}),l[qd])}function dt(){S.call(this),this.i=new xt(this),this.M=this,this.G=null}d(dt,S),dt.prototype[ht]=!0,dt.prototype.removeEventListener=function(l,f,m,x){zd(this,l,f,m,x)};function St(l,f){var m,x=l.G;if(x)for(m=[];x;x=x.G)m.push(x);if(l=l.M,x=f.type||f,typeof f=="string")f=new b(f,l);else if(f instanceof b)f.target=f.target||l;else{var M=f;f=new b(x,l),kn(f,M)}M=!0;let L,z;if(m)for(z=m.length-1;z>=0;z--)L=f.g=m[z],M=Su(L,x,!0,f)&&M;if(L=f.g=l,M=Su(L,x,!0,f)&&M,M=Su(L,x,!1,f)&&M,m)for(z=0;z<m.length;z++)L=f.g=m[z],M=Su(L,x,!1,f)&&M}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var l=this.i;for(const f in l.g){const m=l.g[f];for(let x=0;x<m.length;x++)$(m[x]);delete l.g[f],l.h--}}this.G=null},dt.prototype.J=function(l,f,m,x){return this.i.add(String(l),f,!1,m,x)},dt.prototype.K=function(l,f,m,x){return this.i.add(String(l),f,!0,m,x)};function Su(l,f,m,x){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();let M=!0;for(let L=0;L<f.length;++L){const z=f[L];if(z&&!z.da&&z.capture==m){const se=z.listener,qe=z.ha||z.src;z.fa&&Nn(l.i,z),M=se.call(qe,x)!==!1&&M}}return M&&!x.defaultPrevented}function eP(l,f){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(l,f||0)}function mv(l){l.g=eP(()=>{l.g=null,l.i&&(l.i=!1,mv(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class tP extends S{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:mv(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ya(l){S.call(this),this.h=l,this.g={}}d(ya,S);var gv=[];function yv(l){G(l.g,function(f,m){this.g.hasOwnProperty(m)&&$d(f)},l),l.g={}}ya.prototype.N=function(){ya.Z.N.call(this),yv(this)},ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wd=o.JSON.stringify,nP=o.JSON.parse,rP=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function vv(){}function _v(){}var va={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kd(){b.call(this,"d")}d(Kd,b);function Gd(){b.call(this,"c")}d(Gd,b);var Hs={},wv=null;function Iu(){return wv=wv||new dt}Hs.Ia="serverreachability";function Ev(l){b.call(this,Hs.Ia,l)}d(Ev,b);function _a(l){const f=Iu();St(f,new Ev(f))}Hs.STAT_EVENT="statevent";function Tv(l,f){b.call(this,Hs.STAT_EVENT,l),this.stat=f}d(Tv,b);function It(l){const f=Iu();St(f,new Tv(f,l))}Hs.Ja="timingevent";function xv(l,f){b.call(this,Hs.Ja,l),this.size=f}d(xv,b);function wa(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function Ea(){this.g=!0}Ea.prototype.ua=function(){this.g=!1};function sP(l,f,m,x,M,L){l.info(function(){if(l.g)if(L){var z="",se=L.split("&");for(let _e=0;_e<se.length;_e++){var qe=se[_e].split("=");if(qe.length>1){const Je=qe[0];qe=qe[1];const Vn=Je.split("_");z=Vn.length>=2&&Vn[1]=="type"?z+(Je+"="+qe+"&"):z+(Je+"=redacted&")}}}else z=null;else z=L;return"XMLHTTP REQ ("+x+") [attempt "+M+"]: "+f+`
`+m+`
`+z})}function iP(l,f,m,x,M,L,z){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+M+"]: "+f+`
`+m+`
`+L+" "+z})}function Hi(l,f,m,x){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+aP(l,m)+(x?" "+x:"")})}function oP(l,f){l.info(function(){return"TIMEOUT: "+f})}Ea.prototype.info=function(){};function aP(l,f){if(!l.g)return f;if(!f)return null;try{const L=JSON.parse(f);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var m=L[l];if(!(m.length<2)){var x=m[1];if(Array.isArray(x)&&!(x.length<1)){var M=x[0];if(M!="noop"&&M!="stop"&&M!="close")for(let z=1;z<x.length;z++)x[z]=""}}}}return Wd(L)}catch{return f}}var Cu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sv={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Iv;function Qd(){}d(Qd,vv),Qd.prototype.g=function(){return new XMLHttpRequest},Iv=new Qd;function Ta(l){return encodeURIComponent(String(l))}function lP(l){var f=1;l=l.split(":");const m=[];for(;f>0&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function Rr(l,f,m,x){this.j=l,this.i=f,this.l=m,this.S=x||1,this.V=new ya(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cv}function Cv(){this.i=null,this.g="",this.h=!1}var Av={},Yd={};function Xd(l,f,m){l.M=1,l.A=Pu(Dn(f)),l.u=m,l.R=!0,Pv(l,null)}function Pv(l,f){l.F=Date.now(),Au(l),l.B=Dn(l.A);var m=l.B,x=l.S;Array.isArray(x)||(x=[String(x)]),Bv(m.i,"t",x),l.C=0,m=l.j.L,l.h=new Cv,l.g=i0(l.j,m?f:null,!l.u),l.P>0&&(l.O=new tP(c(l.Y,l,l.g),l.P)),f=l.V,m=l.g,x=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(gv[0]=M.toString()),M=gv);for(let L=0;L<M.length;L++){const z=zi(m,M[L],x||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=l.J?ee(l.J):{},l.u?(l.v||(l.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,f)):(l.v="GET",l.g.ea(l.B,l.v,null,f)),_a(),sP(l.i,l.v,l.B,l.l,l.S,l.u)}Rr.prototype.ba=function(l){l=l.target;const f=this.O;f&&Dr(l)==3?f.j():this.Y(l)},Rr.prototype.Y=function(l){try{if(l==this.g)e:{const se=Dr(this.g),qe=this.g.ya(),_e=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||Gv(this.g)))){this.K||se!=4||qe==7||(qe==8||_e<=0?_a(3):_a(2)),Jd(this);var f=this.g.ca();this.X=f;var m=uP(this);if(this.o=f==200,iP(this.i,this.v,this.B,this.l,this.S,se,f),this.o){if(this.U&&!this.L){t:{if(this.g){var x,M=this.g;if((x=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(x)){var L=x;break t}}L=null}if(l=L)Hi(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zd(this,l);else{this.o=!1,this.m=3,It(12),qs(this),xa(this);break e}}if(this.R){l=!0;let Je;for(;!this.K&&this.C<m.length;)if(Je=cP(this,m),Je==Yd){se==4&&(this.m=4,It(14),l=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==Av){this.m=4,It(15),Hi(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else Hi(this.i,this.l,Je,null),Zd(this,Je);if(bv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||m.length!=0||this.h.h||(this.m=1,It(16),l=!1),this.o=this.o&&l,!l)Hi(this.i,this.l,m,"[Invalid Chunked Response]"),qs(this),xa(this);else if(m.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),lf(z),z.P=!0,It(11))}}else Hi(this.i,this.l,m,null),Zd(this,m);se==4&&qs(this),this.o&&!this.K&&(se==4?t0(this.j,this):(this.o=!1,Au(this)))}else SP(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),qs(this),xa(this)}}}catch{}finally{}};function uP(l){if(!bv(l))return l.g.la();const f=Gv(l.g);if(f==="")return"";let m="";const x=f.length,M=Dr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return qs(l),xa(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<x;L++)l.h.h=!0,m+=l.h.i.decode(f[L],{stream:!(M&&L==x-1)});return f.length=0,l.h.g+=m,l.C=0,l.h.g}function bv(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function cP(l,f){var m=l.C,x=f.indexOf(`
`,m);return x==-1?Yd:(m=Number(f.substring(m,x)),isNaN(m)?Av:(x+=1,x+m>f.length?Yd:(f=f.slice(x,x+m),l.C=x+m,f)))}Rr.prototype.cancel=function(){this.K=!0,qs(this)};function Au(l){l.T=Date.now()+l.H,Rv(l,l.H)}function Rv(l,f){if(l.D!=null)throw Error("WatchDog timer not null");l.D=wa(c(l.aa,l),f)}function Jd(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Rr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(oP(this.i,this.B),this.M!=2&&(_a(),It(17)),qs(this),this.m=2,xa(this)):Rv(this,this.T-l)};function xa(l){l.j.I==0||l.K||t0(l.j,l)}function qs(l){Jd(l);var f=l.O;f&&typeof f.dispose=="function"&&f.dispose(),l.O=null,yv(l.V),l.g&&(f=l.g,l.g=null,f.abort(),f.dispose())}function Zd(l,f){try{var m=l.j;if(m.I!=0&&(m.g==l||ef(m.h,l))){if(!l.L&&ef(m.h,l)&&m.I==3){try{var x=m.Ba.g.parse(f)}catch{x=null}if(Array.isArray(x)&&x.length==3){var M=x;if(M[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)Du(m),ku(m);else break e;af(m),It(18)}}else m.xa=M[1],0<m.xa-m.K&&M[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=wa(c(m.Va,m),6e3));Dv(m.h)<=1&&m.ta&&(m.ta=void 0)}else Ks(m,11)}else if((l.L||m.g==l)&&Du(m),!P(f))for(M=m.Ba.g.parse(f),f=0;f<M.length;f++){let _e=M[f];const Je=_e[0];if(!(Je<=m.K))if(m.K=Je,_e=_e[1],m.I==2)if(_e[0]=="c"){m.M=_e[1],m.ba=_e[2];const Vn=_e[3];Vn!=null&&(m.ka=Vn,m.j.info("VER="+m.ka));const Gs=_e[4];Gs!=null&&(m.za=Gs,m.j.info("SVER="+m.za));const Vr=_e[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(x=1.5*Vr,m.O=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const Mr=l.g;if(Mr){const Mu=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mu){var L=x.h;L.g||Mu.indexOf("spdy")==-1&&Mu.indexOf("quic")==-1&&Mu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(tf(L,L.h),L.h=null))}if(x.G){const uf=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;uf&&(x.wa=uf,Te(x.J,x.G,uf))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),x=m;var z=l;if(x.na=s0(x,x.L?x.ba:null,x.W),z.L){Vv(x.h,z);var se=z,qe=x.O;qe&&(se.H=qe),se.D&&(Jd(se),Au(se)),x.g=z}else Zv(x);m.i.length>0&&Nu(m)}else _e[0]!="stop"&&_e[0]!="close"||Ks(m,7);else m.I==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Ks(m,7):of(m):_e[0]!="noop"&&m.l&&m.l.qa(_e),m.A=0)}}_a(4)}catch{}}var hP=class{constructor(l,f){this.g=l,this.map=f}};function kv(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Dv(l){return l.h?1:l.g?l.g.size:0}function ef(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function tf(l,f){l.g?l.g.add(f):l.h=f}function Vv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}kv.prototype.cancel=function(){if(this.i=Mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Mv(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.G);return f}return y(l.i)}var Ov=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dP(l,f){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const x=l[m].indexOf("=");let M,L=null;x>=0?(M=l[m].substring(0,x),L=l[m].substring(x+1)):M=l[m],f(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function kr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;l instanceof kr?(this.l=l.l,Sa(this,l.j),this.o=l.o,this.g=l.g,Ia(this,l.u),this.h=l.h,nf(this,zv(l.i)),this.m=l.m):l&&(f=String(l).match(Ov))?(this.l=!1,Sa(this,f[1]||"",!0),this.o=Ca(f[2]||""),this.g=Ca(f[3]||"",!0),Ia(this,f[4]),this.h=Ca(f[5]||"",!0),nf(this,f[6]||"",!0),this.m=Ca(f[7]||"")):(this.l=!1,this.i=new Pa(null,this.l))}kr.prototype.toString=function(){const l=[];var f=this.j;f&&l.push(Aa(f,Lv,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Aa(f,Lv,!0),"@"),l.push(Ta(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Aa(m,m.charAt(0)=="/"?mP:pP,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Aa(m,yP)),l.join("")},kr.prototype.resolve=function(l){const f=Dn(this);let m=!!l.j;m?Sa(f,l.j):m=!!l.o,m?f.o=l.o:m=!!l.g,m?f.g=l.g:m=l.u!=null;var x=l.h;if(m)Ia(f,l.u);else if(m=!!l.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var M=f.h.lastIndexOf("/");M!=-1&&(x=f.h.slice(0,M+1)+x)}if(M=x,M==".."||M==".")x="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){x=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let z=0;z<M.length;){const se=M[z++];se=="."?x&&z==M.length&&L.push(""):se==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),x&&z==M.length&&L.push("")):(L.push(se),x=!0)}x=L.join("/")}else x=M}return m?f.h=x:m=l.i.toString()!=="",m?nf(f,zv(l.i)):m=!!l.m,m&&(f.m=l.m),f};function Dn(l){return new kr(l)}function Sa(l,f,m){l.j=m?Ca(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Ia(l,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);l.u=f}else l.u=null}function nf(l,f,m){f instanceof Pa?(l.i=f,vP(l.i,l.l)):(m||(f=Aa(f,gP)),l.i=new Pa(f,l.l))}function Te(l,f,m){l.i.set(f,m)}function Pu(l){return Te(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Ca(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Aa(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,fP),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function fP(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Lv=/[#\/\?@]/g,pP=/[#\?:]/g,mP=/[#\?]/g,gP=/[#\?@]/g,yP=/#/g;function Pa(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Ws(l){l.g||(l.g=new Map,l.h=0,l.i&&dP(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Pa.prototype,t.add=function(l,f){Ws(this),this.i=null,l=qi(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function jv(l,f){Ws(l),f=qi(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Fv(l,f){return Ws(l),f=qi(l,f),l.g.has(f)}t.forEach=function(l,f){Ws(this),this.g.forEach(function(m,x){m.forEach(function(M){l.call(f,M,x,this)},this)},this)};function Uv(l,f){Ws(l);let m=[];if(typeof f=="string")Fv(l,f)&&(m=m.concat(l.g.get(qi(l,f))));else for(l=Array.from(l.g.values()),f=0;f<l.length;f++)m=m.concat(l[f]);return m}t.set=function(l,f){return Ws(this),this.i=null,l=qi(this,l),Fv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=Uv(this,l),l.length>0?String(l[0]):f):f};function Bv(l,f,m){jv(l,f),m.length>0&&(l.i=null,l.g.set(qi(l,f),y(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(let x=0;x<f.length;x++){var m=f[x];const M=Ta(m);m=Uv(this,m);for(let L=0;L<m.length;L++){let z=M;m[L]!==""&&(z+="="+Ta(m[L])),l.push(z)}}return this.i=l.join("&")};function zv(l){const f=new Pa;return f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),f}function qi(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function vP(l,f){f&&!l.j&&(Ws(l),l.i=null,l.g.forEach(function(m,x){const M=x.toLowerCase();x!=M&&(jv(this,x),Bv(this,M,m))},l)),l.j=f}function _P(l,f){const m=new Ea;if(o.Image){const x=new Image;x.onload=h(Nr,m,"TestLoadImage: loaded",!0,f,x),x.onerror=h(Nr,m,"TestLoadImage: error",!1,f,x),x.onabort=h(Nr,m,"TestLoadImage: abort",!1,f,x),x.ontimeout=h(Nr,m,"TestLoadImage: timeout",!1,f,x),o.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else f(!1)}function wP(l,f){const m=new Ea,x=new AbortController,M=setTimeout(()=>{x.abort(),Nr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:x.signal}).then(L=>{clearTimeout(M),L.ok?Nr(m,"TestPingServer: ok",!0,f):Nr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Nr(m,"TestPingServer: error",!1,f)})}function Nr(l,f,m,x,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),x(m)}catch{}}function EP(){this.g=new rP}function rf(l){this.i=l.Sb||null,this.h=l.ab||!1}d(rf,vv),rf.prototype.g=function(){return new bu(this.i,this.h)};function bu(l,f){dt.call(this),this.H=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(bu,dt),t=bu.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=f,this.readyState=1,Ra(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(f.body=l),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$v(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function $v(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?ba(this):Ra(this),this.readyState==3&&$v(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,ba(this))},t.Na=function(l){this.g&&(this.response=l,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Ra(l)}t.setRequestHeader=function(l,f){this.A.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function Ra(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Hv(l){let f="";return G(l,function(m,x){f+=x,f+=":",f+=m,f+=`\r
`}),f}function sf(l,f,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=Hv(m),typeof l=="string"?m!=null&&Ta(m):Te(l,f,m))}function Ve(l){dt.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Ve,dt);var TP=/^https?$/i,xP=["POST","PUT"];t=Ve.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,f,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Iv.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(L){qv(this,L);return}if(l=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var M in x)m.set(M,x[M]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const L of x.keys())m.set(L,x.get(L));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),M=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(xP,f,void 0)>=0)||x||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of m)this.g.setRequestHeader(L,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){qv(this,L)}};function qv(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.o=5,Wv(l),Ru(l)}function Wv(l){l.A||(l.A=!0,St(l,"complete"),St(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,St(this,"complete"),St(this,"abort"),Ru(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ru(this,!0)),Ve.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Kv(this):this.Xa())},t.Xa=function(){Kv(this)};function Kv(l){if(l.h&&typeof i<"u"){if(l.v&&Dr(l)==4)setTimeout(l.Ca.bind(l),0);else if(St(l,"readystatechange"),Dr(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var x;if(x=L===0){let z=String(l.D).match(Ov)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),x=!TP.test(z?z.toLowerCase():"")}m=x}if(m)St(l,"complete"),St(l,"success");else{l.o=6;try{var M=Dr(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",Wv(l)}}finally{Ru(l)}}}}function Ru(l,f){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,f||St(l,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Dr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),nP(f)}};function Gv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function SP(l){const f={};l=(l.g&&Dr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(P(l[x]))continue;var m=lP(l[x]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=f[M]||[];f[M]=L,L.push(m)}re(f,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function Qv(l){this.za=0,this.i=[],this.j=new Ea,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ka("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ka("baseRetryDelayMs",5e3,l),this.Za=ka("retryDelaySeedMs",1e4,l),this.Ta=ka("forwardChannelMaxRetries",2,l),this.va=ka("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new kv(l&&l.concurrentRequestLimit),this.Ba=new EP,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Qv.prototype,t.ka=8,t.I=1,t.connect=function(l,f,m,x){It(0),this.W=l,this.H=f||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.J=s0(this,null,this.W),Nu(this)};function of(l){if(Yv(l),l.I==3){var f=l.V++,m=Dn(l.J);if(Te(m,"SID",l.M),Te(m,"RID",f),Te(m,"TYPE","terminate"),Na(l,m),f=new Rr(l,l.j,f),f.M=2,f.A=Pu(Dn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=i0(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Au(f)}r0(l)}function ku(l){l.g&&(lf(l),l.g.cancel(),l.g=null)}function Yv(l){ku(l),l.v&&(o.clearTimeout(l.v),l.v=null),Du(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Nu(l){if(!Nv(l.h)&&!l.m){l.m=!0;var f=l.Ea;N||_(),j||(N(),j=!0),v.add(f,l),l.D=0}}function IP(l,f){return Dv(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=f.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=wa(c(l.Ea,l,f),n0(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new Rr(this,this.j,l);let L=this.o;if(this.U&&(L?(L=ee(L),kn(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(f+=x,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Jv(this,M,f),m=Dn(this.J),Te(m,"RID",l),Te(m,"CVER",22),this.G&&Te(m,"X-HTTP-Session-Id",this.G),Na(this,m),L&&(this.R?f="headers="+Ta(Hv(L))+"&"+f:this.u&&sf(m,this.u,L)),tf(this.h,M),this.Ra&&Te(m,"TYPE","init"),this.S?(Te(m,"$req",f),Te(m,"SID","null"),M.U=!0,Xd(M,m,null)):Xd(M,m,f),this.I=2}}else this.I==3&&(l?Xv(this,l):this.i.length==0||Nv(this.h)||Xv(this))};function Xv(l,f){var m;f?m=f.l:m=l.V++;const x=Dn(l.J);Te(x,"SID",l.M),Te(x,"RID",m),Te(x,"AID",l.K),Na(l,x),l.u&&l.o&&sf(x,l.u,l.o),m=new Rr(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),f&&(l.i=f.G.concat(l.i)),f=Jv(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),tf(l.h,m),Xd(m,x,f)}function Na(l,f){l.H&&G(l.H,function(m,x){Te(f,x,m)}),l.l&&G({},function(m,x){Te(f,x,m)})}function Jv(l,f,m){m=Math.min(l.i.length,m);const x=l.l?c(l.l.Ka,l.l,l):null;e:{var M=l.i;let se=-1;for(;;){const qe=["count="+m];se==-1?m>0?(se=M[0].g,qe.push("ofs="+se)):se=0:qe.push("ofs="+se);let _e=!0;for(let Je=0;Je<m;Je++){var L=M[Je].g;const Vn=M[Je].map;if(L-=se,L<0)se=Math.max(0,M[Je].g-100),_e=!1;else try{L="req"+L+"_"||"";try{var z=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Gs,Vr]of z){let Mr=Vr;a(Vr)&&(Mr=Wd(Vr)),qe.push(L+Gs+"="+encodeURIComponent(Mr))}}catch(Gs){throw qe.push(L+"type="+encodeURIComponent("_badmap")),Gs}}catch{x&&x(Vn)}}if(_e){z=qe.join("&");break e}}z=void 0}return l=l.i.splice(0,m),f.G=l,z}function Zv(l){if(!l.g&&!l.v){l.Y=1;var f=l.Da;N||_(),j||(N(),j=!0),v.add(f,l),l.A=0}}function af(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=wa(c(l.Da,l),n0(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,e0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=wa(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),ku(this),e0(this))};function lf(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function e0(l){l.g=new Rr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var f=Dn(l.na);Te(f,"RID","rpc"),Te(f,"SID",l.M),Te(f,"AID",l.K),Te(f,"CI",l.F?"0":"1"),!l.F&&l.ia&&Te(f,"TO",l.ia),Te(f,"TYPE","xmlhttp"),Na(l,f),l.u&&l.o&&sf(f,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=Pu(Dn(f)),m.u=null,m.R=!0,Pv(m,l)}t.Va=function(){this.C!=null&&(this.C=null,ku(this),af(this),It(19))};function Du(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function t0(l,f){var m=null;if(l.g==f){Du(l),lf(l),l.g=null;var x=2}else if(ef(l.h,f))m=f.G,Vv(l.h,f),x=1;else return;if(l.I!=0){if(f.o)if(x==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var M=l.D;x=Iu(),St(x,new xv(x,m)),Nu(l)}else Zv(l);else if(M=f.m,M==3||M==0&&f.X>0||!(x==1&&IP(l,f)||x==2&&af(l)))switch(m&&m.length>0&&(f=l.h,f.i=f.i.concat(m)),M){case 1:Ks(l,5);break;case 4:Ks(l,10);break;case 3:Ks(l,6);break;default:Ks(l,2)}}}function n0(l,f){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*f}function Ks(l,f){if(l.j.info("Error code "+f),f==2){var m=c(l.bb,l),x=l.Ua;const M=!x;x=new kr(x||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Sa(x,"https"),Pu(x),M?_P(x.toString(),m):wP(x.toString(),m)}else It(2);l.I=0,l.l&&l.l.pa(f),r0(l),Yv(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function r0(l){if(l.I=0,l.ja=[],l.l){const f=Mv(l.h);(f.length!=0||l.i.length!=0)&&(C(l.ja,f),C(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function s0(l,f,m){var x=m instanceof kr?Dn(m):new kr(m);if(x.g!="")f&&(x.g=f+"."+x.g),Ia(x,x.u);else{var M=o.location;x=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;const L=new kr(null);x&&Sa(L,x),f&&(L.g=f),M&&Ia(L,M),m&&(L.h=m),x=L}return m=l.G,f=l.wa,m&&f&&Te(x,m,f),Te(x,"VER",l.ka),Na(l,x),x}function i0(l,f,m){if(f&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Aa&&!l.ma?new Ve(new rf({ab:m})):new Ve(l.ma),f.Fa(l.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function o0(){}t=o0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vu(){}Vu.prototype.g=function(l,f){return new Kt(l,f)};function Kt(l,f){dt.call(this),this.g=new Qv(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(l?l["X-WebChannel-Client-Profile"]=f.sa:l={"X-WebChannel-Client-Profile":f.sa}),this.g.U=l,(l=f&&f.Qb)&&!P(l)&&(this.g.u=l),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!P(f)&&(this.g.G=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Wi(this)}d(Kt,dt),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){of(this.g)},Kt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=Wd(l),l=m);f.i.push(new hP(f.Ya++,l)),f.I==3&&Nu(f)},Kt.prototype.N=function(){this.g.l=null,delete this.j,of(this.g),delete this.g,Kt.Z.N.call(this)};function a0(l){Kd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}d(a0,Kd);function l0(){Gd.call(this),this.status=1}d(l0,Gd);function Wi(l){this.g=l}d(Wi,o0),Wi.prototype.ra=function(){St(this.g,"a")},Wi.prototype.qa=function(l){St(this.g,new a0(l))},Wi.prototype.pa=function(l){St(this.g,new l0)},Wi.prototype.oa=function(){St(this.g,"b")},Vu.prototype.createWebChannel=Vu.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,vC=function(){return new Vu},yC=function(){return Iu()},gC=Hs,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cu.NO_ERROR=0,Cu.TIMEOUT=8,Cu.HTTP_ERROR=6,Nc=Cu,Sv.COMPLETE="complete",mC=Sv,_v.EventType=va,va.OPEN="a",va.CLOSE="b",va.ERROR="c",va.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Ja=_v,Ve.prototype.listenOnce=Ve.prototype.K,Ve.prototype.getLastError=Ve.prototype.Ha,Ve.prototype.getLastErrorCode=Ve.prototype.ya,Ve.prototype.getStatus=Ve.prototype.ca,Ve.prototype.getResponseJson=Ve.prototype.La,Ve.prototype.getResponseText=Ve.prototype.la,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Fa,pC=Ve}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="12.9.0";function e3(t){ha=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Ey("@firebase/firestore");function Gi(){return ki.logLevel}function q(t,...e){if(ki.logLevel<=ae.DEBUG){const n=e.map(Ny);ki.debug(`Firestore (${ha}): ${t}`,...n)}}function Sr(t,...e){if(ki.logLevel<=ae.ERROR){const n=e.map(Ny);ki.error(`Firestore (${ha}): ${t}`,...n)}}function Ni(t,...e){if(ki.logLevel<=ae.WARN){const n=e.map(Ny);ki.warn(`Firestore (${ha}): ${t}`,...n)}}function Ny(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_C(t,r,n)}function _C(t,e,n){let r=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sr(r),new Error(r)}function me(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||_C(e,s,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class n3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r3{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new wC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new vt(e)}}class s3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class i3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new s3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=a3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function jm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return sp(s)===sp(i)?le(s,i):sp(s)?1:-1}return le(t.length,e.length)}const l3=55296,u3=57343;function sp(t){const e=t.charCodeAt(0);return e>=l3&&e<=u3}function Xo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__name__";class Ln{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ln.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ln?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ln.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return le(e.length,n.length)}static compareSegments(e,n){const r=Ln.isNumericId(e),s=Ln.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ln.extractNumericId(e).compare(Ln.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class Se extends Ln{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const c3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Ln{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return c3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new it([fE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Se.fromString(e))}static fromName(e){return new Y(Se.fromString(e).popFirst(5))}static empty(){return new Y(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e,n){if(!n)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h3(t,e,n,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pE(t){if(!Y.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mE(t){if(Y.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function TC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vy(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e){const n={typeString:t};return e&&(n.value=e),n}function _u(t,e){if(!TC(t))throw new K(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-62135596800,yE=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yE);return new Ie(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gE)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yE}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,Ie._jsonSchema))return new Ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:He("string",Ie._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Ie(0,0))}static max(){return new te(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function d3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new bs(s,Y.empty(),e)}function f3(t){return new bs(t.readTime,t.key,Wl)}class bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bs(te.min(),Y.empty(),Wl)}static max(){return new bs(te.max(),Y.empty(),Wl)}}function p3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==m3)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function y3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ed.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-1;function Td(t){return t==null}function bh(t){return t===0&&1/t==-1/0}function v3(t){return typeof t=="number"&&Number.isInteger(t)&&!bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="";function _3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vE(e)),e=w3(t.get(n),e);return vE(e)}function w3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case xC:n+="";break;default:n+=i}}return n}function vE(t){return t+xC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??st.RED,this.left=s??st.EMPTY,this.right=i??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new st(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return st.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Yt([])}unionWith(e){let n=new Xe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IC("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const E3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=E3.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="server_timestamp",AC="__type__",PC="__previous_value__",bC="__local_write_time__";function Oy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[AC])==null?void 0:r.stringValue)===CC}function xd(t){const e=t.mapValue.fields[PC];return Oy(e)?xd(e):e}function Kl(t){const e=Rs(t.mapValue.fields[bC].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,s,i,o,a,u,c,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h,this.apiKey=d}}const Rh="(default)";class Gl{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}function x3(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="__type__",S3="__max__",uc={mapValue:{}},kC="__vector__",kh="value";function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oy(t)?4:C3(t)?9007199254740991:I3(t)?10:11:Z(28295,{value:t})}function Yn(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kl(t).isEqual(Kl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Rs(s.timestampValue),a=Rs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ks(s.bytesValue).isEqual(ks(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return je(s.geoPointValue.latitude)===je(i.geoPointValue.latitude)&&je(s.geoPointValue.longitude)===je(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return je(s.integerValue)===je(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=je(s.doubleValue),a=je(i.doubleValue);return o===a?bh(o)===bh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(_E(o)!==_E(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Yn(o[u],a[u])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function Ql(t,e){return(t.values||[]).find(n=>Yn(n,e))!==void 0}function Jo(t,e){if(t===e)return 0;const n=Ns(t),r=Ns(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=je(i.integerValue||i.doubleValue),u=je(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return EE(t.timestampValue,e.timestampValue);case 4:return EE(Kl(t),Kl(e));case 5:return jm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ks(i),u=ks(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=le(a[c],u[c]);if(h!==0)return h}return le(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=le(je(i.latitude),je(o.latitude));return a!==0?a:le(je(i.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,y,C,I;const a=i.fields||{},u=o.fields||{},c=(p=a[kh])==null?void 0:p.arrayValue,h=(y=u[kh])==null?void 0:y.arrayValue,d=le(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return d!==0?d:TE(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===uc.mapValue&&o===uc.mapValue)return 0;if(i===uc.mapValue)return 1;if(o===uc.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let d=0;d<u.length&&d<h.length;++d){const p=jm(u[d],h[d]);if(p!==0)return p;const y=Jo(a[u[d]],c[h[d]]);if(y!==0)return y}return le(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function EE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Rs(t),r=Rs(e),s=le(n.seconds,r.seconds);return s!==0?s:le(n.nanos,r.nanos)}function TE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Jo(n[s],r[s]);if(i)return i}return le(n.length,r.length)}function Zo(t){return Fm(t)}function Fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Fm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Fm(n.fields[o])}`;return s+"}"}(t.mapValue):Z(61005,{value:t})}function Dc(t){switch(Ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xd(t);return e?16+Dc(e):16;case 5:return 2*t.stringValue.length;case 6:return ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Dc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Bs(r.fields,(i,o)=>{s+=i.length+Dc(o)}),s}(t.mapValue);default:throw Z(13486,{value:t})}}function Um(t){return!!t&&"integerValue"in t}function Ly(t){return!!t&&"arrayValue"in t}function xE(t){return!!t&&"nullValue"in t}function SE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vc(t){return!!t&&"mapValue"in t}function I3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[RC])==null?void 0:r.stringValue)===kC}function vl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return{...t}}function C3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===S3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=it.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=vl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ut(vl(this.value))}}function NC(t){const e=[];return Bs(t.fields,(n,r)=>{const s=new it([n]);if(Vc(r)){const i=NC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Yt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,te.min(),te.min(),te.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,s){return new wt(e,1,n,te.min(),r,s,0)}static newNoDocument(e,n){return new wt(e,2,n,te.min(),te.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,te.min(),te.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function IE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Jo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function CE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function A3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{}class Ge extends DC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b3(e,n,r):n==="array-contains"?new N3(e,r):n==="in"?new D3(e,r):n==="not-in"?new V3(e,r):n==="array-contains-any"?new M3(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R3(e,r):new k3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends DC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return VC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VC(t){return t.op==="and"}function MC(t){return P3(t)&&VC(t)}function P3(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function Bm(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Zo(t.value);if(MC(t))return t.filters.map(e=>Bm(e)).join(",");{const e=t.filters.map(n=>Bm(n)).join(",");return`${t.op}(${e})`}}function OC(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&Yn(r.value,s.value)}(t,e):t instanceof Xn?function(r,s){return s instanceof Xn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&OC(o,s.filters[a]),!0):!1}(t,e):void Z(19439)}function LC(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(LC).join(" ,")+"}"}(t):"Filter"}class b3 extends Ge{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class R3 extends Ge{constructor(e,n){super(e,"in",n),this.keys=jC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k3 extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=jC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class N3 extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ly(n)&&Ql(n.arrayValue,this.value)}}class D3 extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class V3 extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class M3 extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function AE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new O3(t,e,n,r,s,i,o)}function jy(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zo(r)).join(",")),e.Te=n}return e.Te}function Fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!A3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CE(t.startAt,e.startAt)&&CE(t.endAt,e.endAt)}function zm(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function L3(t,e,n,r,s,i,o,a){return new Sd(t,e,n,r,s,i,o,a)}function Uy(t){return new Sd(t)}function PE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j3(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function F3(t){return t.collectionGroup!==null}function _l(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(it.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Dh(i,r))}),n.has(it.keyField().canonicalString())||e.Ie.push(new Dh(it.keyField(),r))}return e.Ie}function Kn(t){const e=ne(t);return e.Ee||(e.Ee=U3(e,_l(t))),e.Ee}function U3(t,e){if(t.limitType==="F")return AE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dh(s.field,i)});const n=t.endAt?new Nh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nh(t.startAt.position,t.startAt.inclusive):null;return AE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $m(t,e,n){return new Sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Id(t,e){return Fy(Kn(t),Kn(e))&&t.limitType===e.limitType}function FC(t){return`${jy(Kn(t))}|lt:${t.limitType}`}function Qi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>LC(s)).join(", ")}]`),Td(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Zo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Zo(s)).join(",")),`Target(${r})`}(Kn(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of _l(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=IE(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,_l(r),s)||r.endAt&&!function(o,a,u){const c=IE(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,_l(r),s))}(t,e)}function B3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UC(t){return(e,n)=>{let r=!1;for(const s of _l(t)){const i=z3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function z3(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Jo(u,c):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return SC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new De(Y.comparator);function Cr(){return $3}const BC=new De(Y.comparator);function Za(...t){let e=BC;for(const n of t)e=e.insert(n.key,n);return e}function zC(t){let e=BC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ai(){return wl()}function $C(){return wl()}function wl(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const H3=new De(Y.comparator),q3=new Xe(Y.comparator);function ue(...t){let e=q3;for(const n of t)e=e.add(n);return e}const W3=new Xe(le);function K3(){return W3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function HC(t){return{integerValue:""+t}}function G3(t,e){return v3(e)?HC(e):By(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function Q3(t,e,n){return t instanceof Yl?function(s,i){const o={fields:{[AC]:{stringValue:CC},[bC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Oy(i)&&(i=xd(i)),i&&(o.fields[PC]=i),{mapValue:o}}(n,e):t instanceof Xl?WC(t,e):t instanceof Jl?KC(t,e):function(s,i){const o=qC(s,i),a=bE(o)+bE(s.Ae);return Um(o)&&Um(s.Ae)?HC(a):By(s.serializer,a)}(t,e)}function Y3(t,e,n){return t instanceof Xl?WC(t,e):t instanceof Jl?KC(t,e):n}function qC(t,e){return t instanceof Vh?function(r){return Um(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Yl extends Ad{}class Xl extends Ad{constructor(e){super(),this.elements=e}}function WC(t,e){const n=GC(e);for(const r of t.elements)n.some(s=>Yn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jl extends Ad{constructor(e){super(),this.elements=e}}function KC(t,e){let n=GC(e);for(const r of t.elements)n=n.filter(s=>!Yn(s,r));return{arrayValue:{values:n}}}class Vh extends Ad{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bE(t){return je(t.integerValue||t.doubleValue)}function GC(t){return Ly(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n){this.field=e,this.transform=n}}function J3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Xl&&s instanceof Xl||r instanceof Jl&&s instanceof Jl?Xo(r.elements,s.elements,Yn):r instanceof Vh&&s instanceof Vh?Yn(r.Ae,s.Ae):r instanceof Yl&&s instanceof Yl}(t.transform,e.transform)}class Z3{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pd{}function QC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zy(t.key,An.none()):new wu(t.key,t.data,An.none());{const n=t.data,r=Ut.empty();let s=new Xe(it.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zs(t.key,r,new Yt(s.toArray()),An.none())}}function eF(t,e,n){t instanceof wu?function(s,i,o){const a=s.value.clone(),u=kE(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(s,i,o){if(!Mc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=kE(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(YC(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof wu?function(i,o,a,u){if(!Mc(i.precondition,o))return a;const c=i.value.clone(),h=NE(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zs?function(i,o,a,u){if(!Mc(i.precondition,o))return a;const c=NE(i.fieldTransforms,u,o),h=o.data;return h.setAll(YC(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return Mc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=qC(r.transform,s||null);i!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,i))}return n||null}function RE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xo(r,s,(i,o)=>J3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wu extends Pd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zs extends Pd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function YC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kE(t,e,n){const r=new Map;me(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Y3(o,a,n[s]))}return r}function NE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Q3(i,o,e))}return r}class zy extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nF extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&eF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$C();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=QC(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>RE(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>RE(n,r))}}class $y{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return H3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new $y(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,he;function oF(t){switch(t){case U.OK:return Z(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function XC(t){if(t===void 0)return Sr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Be.OK:return U.OK;case Be.CANCELLED:return U.CANCELLED;case Be.UNKNOWN:return U.UNKNOWN;case Be.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Be.INTERNAL:return U.INTERNAL;case Be.UNAVAILABLE:return U.UNAVAILABLE;case Be.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Be.NOT_FOUND:return U.NOT_FOUND;case Be.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Be.ABORTED:return U.ABORTED;case Be.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Be.DATA_LOSS:return U.DATA_LOSS;default:return Z(39323,{code:t})}}(he=Be||(Be={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=new xs([4294967295,4294967295],0);function DE(t){const e=aF().encode(t),n=new fC;return n.update(e),new Uint8Array(n.digest())}function VE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new xs([n,r],0),new xs([s,i],0)]}class Hy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new el(`Invalid padding: ${n}`);if(r<0)throw new el(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new el(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(xs.fromNumber(r)));return s.compare(lF)===1&&(s=new xs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=DE(e),[r,s]=VE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Hy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=DE(e),[r,s]=VE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bd(te.min(),s,new De(le),Cr(),ue())}}class Eu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class JC{constructor(e,n){this.targetId=e,this.Ce=n}}class ZC{constructor(e,n,r=ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ME{constructor(){this.ve=0,this.Fe=OE(),this.Me=ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),n=ue(),r=ue();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z(38017,{changeType:i})}}),new Eu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=OE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class uF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cr(),this.He=cc(),this.Je=cc(),this.Ze=new De(le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(zm(i))if(r===0){const o=new Y(i.path);this.et(n,o,wt.newNoDocument(o,te.min()))}else me(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ks(r).toUint8Array()}catch(u){if(u instanceof IC)return Ni("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Hy(o,s,i)}catch(u){return Ni(u instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&zm(a.target)){const u=new Y(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,wt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=ue();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new bd(e,n,this.Ze,this.je,r);return this.je=Cr(),this.He=cc(),this.Je=cc(),this.Ze=new De(le),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new ME,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xe(le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xe(le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ME),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cc(){return new De(Y.comparator)}function OE(){return new De(Y.comparator)}const cF={asc:"ASCENDING",desc:"DESCENDING"},hF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dF={and:"AND",or:"OR"};class fF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(t,e){return t.useProto3Json||Td(e)?e:{value:e}}function Mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pF(t,e){return Mh(t,e.toTimestamp())}function Gn(t){return me(!!t,49232),te.fromTimestamp(function(n){const r=Rs(n);return new Ie(r.seconds,r.nanos)}(t))}function qy(t,e){return qm(t,e).canonicalString()}function qm(t,e){const n=function(s){return new Se(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tA(t){const e=Se.fromString(t);return me(oA(e),10190,{key:e.toString()}),e}function Wm(t,e){return qy(t.databaseId,e.path)}function ip(t,e){const n=tA(e);if(n.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(rA(n))}function nA(t,e){return qy(t.databaseId,e)}function mF(t){const e=tA(t);return e.length===4?Se.emptyPath():rA(e)}function Km(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rA(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LE(t,e,n){return{name:Wm(t,e),fields:n.value.mapValue.fields}}function gF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(me(h===void 0||typeof h=="string",58123),ut.fromBase64String(h||"")):(me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:XC(c.code);return new K(h,c.message||"")}(o);n=new ZC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ip(t,r.document.name),i=Gn(r.document.updateTime),o=r.document.createTime?Gn(r.document.createTime):te.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=wt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Oc(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ip(t,r.document),i=r.readTime?Gn(r.readTime):te.min(),o=wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Oc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ip(t,r.document),i=r.removedTargetIds||[];n=new Oc([],i,s,null)}else{if(!("filter"in e))return Z(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new iF(s,i),a=r.targetId;n=new JC(a,o)}}return n}function yF(t,e){let n;if(e instanceof wu)n={update:LE(t,e.key,e.value)};else if(e instanceof zy)n={delete:Wm(t,e.key)};else if(e instanceof zs)n={update:LE(t,e.key,e.data),updateMask:CF(e.fieldMask)};else{if(!(e instanceof nF))return Z(16599,{dt:e.type});n={verify:Wm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Yl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z(27497)}(t,e.precondition)),n}function vF(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Gn(s.updateTime):Gn(i);return o.isEqual(te.min())&&(o=Gn(i)),new Z3(o,s.transformResults||[])}(n,e))):[]}function _F(t,e){return{documents:[nA(t,e.path)]}}function wF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nA(t,s);const i=function(c){if(c.length!==0)return iA(Xn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Yi(p.field),direction:xF(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function EF(t){let e=mF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){me(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const p=sA(d);return p instanceof Xn&&MC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(C){return new Dh(Xi(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,Td(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(d){const p=!!d.before,y=d.values||[];return new Nh(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,y=d.values||[];return new Nh(y,p)}(n.endAt)),L3(e,s,o,i,a,"F",u,c)}function TF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xi(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xi(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xi(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xi(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Xi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>sA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function xF(t){return cF[t]}function SF(t){return hF[t]}function IF(t){return dF[t]}function Yi(t){return{fieldPath:t.canonicalString()}}function Xi(t){return it.fromServerFormat(t.fieldPath)}function iA(t){return t instanceof Ge?function(n){if(n.op==="=="){if(SE(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NAN"}};if(xE(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SE(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NOT_NAN"}};if(xE(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yi(n.field),op:SF(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(s=>iA(s));return r.length===1?r[0]:{compositeFilter:{op:IF(n.op),filters:r}}}(t):Z(54877,{filter:t})}function CF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function aA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r,s,i=te.min(),o=te.min(),a=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.yt=e}}function PF(t){const e=EF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.Sn=new RF}addToCollectionParentIndex(e,n){return this.Sn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(bs.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class RF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Xe(Se.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xe(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lA=41943040;class Lt{static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(lA,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ea(0)}static ar(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="LruGarbageCollector",kF=1048576;function UE([t,e],[n,r]){const s=le(t,n);return s===0?le(e,r):s}class NF{constructor(e){this.Pr=e,this.buffer=new Xe(UE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();UE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){q(FE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fa(n)?q(FE,"Ignoring IndexedDB error during garbage collection: ",n):await da(n)}await this.Ar(3e5)})}}class VF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Ed.ce);const r=new NF(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(jE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Gi()<=ae.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${d} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function MF(t,e){return new VF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&El(r.mutation,s,Yt.empty(),Ie.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const s=ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Za();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Cr();const o=wl(),a=function(){return wl()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof zs)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),El(h.mutation,c,h.mutation.getFieldMask(),Ie.now())):o.set(c.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new LF(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=wl();let s=new De((o,a)=>o-a),i=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Yt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const d=(s.get(a.batchId)||ue()).add(u);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,d=$C();h.forEach(p=>{if(!i.has(p)){const y=QC(n.get(p),r.get(p));y!==null&&d.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return j3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(ai());let a=Wl,u=i;return o.next(c=>F.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ue())).next(h=>({batchId:a,changes:zC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Za();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Za();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,u=>{const c=function(d,p){return new Sd(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,wt.newInvalidDocument(h)))});let a=Za();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&El(h.mutation,c,Yt.empty(),Ie.now()),Cd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return F.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Gn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:PF(s.bundledQuery),readTime:Gn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.overlays=new De(Y.comparator),this.Lr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ai();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=ai(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new De((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=ai(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ai(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return F.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sF(n,r));let i=this.Lr.get(n);i===void 0&&(i=ue(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.kr=new Xe(Ze.Kr),this.qr=new Xe(Ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ze(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new Y(new Se([])),r=new Ze(n,e),s=new Ze(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Y(new Se([])),r=new Ze(n,e),s=new Ze(n,e+1);let i=ue();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ze(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Y.comparator(e.key,n.key)||le(e.Hr,n.Hr)}static Ur(e,n){return le(e.Hr,n.Hr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xe(Ze.Kr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new Ze(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?My:this.Yn-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),s=new Ze(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(le);return n.forEach(s=>{const i=new Ze(s,0),o=new Ze(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),F.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new Ze(new Y(i),0);let a=new Xe(le);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Hr)),!0)},o),F.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){me(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return F.forEach(n.mutations,s=>{const i=new Ze(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Ze(n,0),s=this.Jr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.ti=e,this.docs=function(){return new De(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=Cr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():wt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Cr();const o=n.path,a=new Y(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||p3(f3(h),r)<=0||(s.has(h.key)||Cd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z(9500)}ni(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HF(this)}getSize(e){return F.resolve(this.size)}}class HF extends OF{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.persistence=e,this.ri=new Ui(n=>jy(n),Fy),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.ii=0,this.si=new Wy,this.targetCount=0,this.oi=ea._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),F.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ea(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.lr(n),F.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this._i={},this.overlays={},this.ai=new Ed(0),this.ui=!1,this.ui=!0,this.ci=new BF,this.referenceDelegate=e(this),this.li=new qF(this),this.indexManager=new bF,this.remoteDocumentCache=function(s){return new $F(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new AF(n),this.Pi=new FF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new zF(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new WF(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return F.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class WF extends g3{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Ri=new Wy,this.Ai=null}static Vi(e){return new Ky(e)}get di(){if(this.Ai)return this.Ai;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,r=>{const s=Y.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,te.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.fi=new Ui(r=>_3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=MF(this,n)}static Vi(e,n){return new Oh(e,n)}Ti(){}Ii(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return F.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,te.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),F.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dc(e.data.value)),n}wr(e,n,r){return F.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ue(),s=ue();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Gy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return TO()?8:y3(Tt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new KF;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Gi()<=ae.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Qi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(Gi()<=ae.DEBUG&&q("QueryEngine","Query:",Qi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Gi()<=ae.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Qi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):F.resolve())}gs(e,n){if(PE(n))return F.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$m(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ue(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,a);return this.Ss(n,c,o,u.readTime)?this.gs(e,$m(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,r,s){return PE(n)||s.isEqual(te.min())?F.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?F.resolve(null):(Gi()<=ae.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qi(n)),this.Ds(e,o,n,d3(s,Wl)).next(a=>a))})}bs(e,n){let r=new Xe(UC(e));return n.forEach((s,i)=>{Cd(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return Gi()<=ae.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Qi(n)),this.fs.getDocumentsMatchingQuery(e,n,bs.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",QF=3e8;class YF{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new De(le),this.Fs=new Ui(i=>jy(i),Fy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jF(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function XF(t,e,n,r){return new YF(t,e,n,r)}async function cA(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=ue();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function JF(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const d=c.batch,p=d.keys();let y=F.resolve();return p.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(I=>{const k=c.docVersions.get(C);me(k!==null,48541),I.version.compareTo(k)<0&&(d.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function hA(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function ZF(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((h,d)=>{const p=s.get(d);if(!p)return;a.push(n.li.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.li.addMatchingKeys(i,h.addedDocuments,d)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(ut.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(d,y),function(I,k,w){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=QF?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,y,h)&&a.push(n.li.updateTargetData(i,y))});let u=Cr(),c=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(e6(i,o,e.documentUpdates).next(h=>{u=h.Bs,c=h.Ls})),!r.isEqual(te.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next(d=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.vs=s,i))}function e6(t,e,n){let r=ue(),s=ue();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Cr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q(Qy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Bs:o,Ls:s}})}function t6(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=My),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n6(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new ls(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Gm(t,e,n){const r=ne(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!fa(o))throw o;q(Qy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function BE(t,e,n){const r=ne(t);let s=te.min(),i=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const d=ne(u),p=d.Fs.get(h);return p!==void 0?F.resolve(d.vs.get(p)):d.li.getTargetData(c,h)}(r,o,Kn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:te.min(),n?i:ue())).next(a=>(r6(r,B3(e),a),{documents:a,ks:i})))}function r6(t,e,n){let r=t.Ms.get(e)||te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class zE{constructor(){this.activeTargetIds=K3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s6{constructor(){this.vo=new zE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new zE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="ConnectivityMonitor";class HE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q($E,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){q($E,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function Qm(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="RestConnection",o6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class a6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Qm(),a=this.Qo(e,n.toUriEncodedString());q(op,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,i);const{host:c}=new URL(a),h=aa(c);return this.zo(e,a,u,r,h).then(d=>(q(op,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Ni(op,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=o6[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection",$a=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Io extends a6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Io.c_){const e=yC();$a(e,gC.STAT_EVENT,n=>{n.stat===Lm.PROXY?q(mt,"STAT_EVENT: detected buffering proxy"):n.stat===Lm.NOPROXY&&q(mt,"STAT_EVENT: detected no buffering proxy")}),Io.c_=!0}}zo(e,n,r,s,i){const o=Qm();return new Promise((a,u)=>{const c=new pC;c.setWithCredentials(!0),c.listenOnce(mC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nc.NO_ERROR:const d=c.getResponseJson();q(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Nc.TIMEOUT:q(mt,`RPC '${e}' ${o} timed out`),u(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const p=c.getStatus();if(q(mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const I=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(E)>=0?E:U.UNKNOWN}(C.status);u(new K(I,C.message))}else u(new K(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new K(U.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(mt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);q(mt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Qm(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");q(mt,`Creating RPC '${e}' stream ${s}: ${c}`,a);const h=o.createWebChannel(c,a);this.I_(h);let d=!1,p=!1;const y=new l6({Ho:C=>{p?q(mt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(d||(q(mt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),d=!0),q(mt,`RPC '${e}' stream ${s} sending:`,C),h.send(C))},Jo:()=>h.close()});return $a(h,Ja.EventType.OPEN,()=>{p||(q(mt,`RPC '${e}' stream ${s} transport opened.`),y.i_())}),$a(h,Ja.EventType.CLOSE,()=>{p||(p=!0,q(mt,`RPC '${e}' stream ${s} transport closed`),y.o_(),this.E_(h))}),$a(h,Ja.EventType.ERROR,C=>{p||(p=!0,Ni(mt,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),y.o_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),$a(h,Ja.EventType.MESSAGE,C=>{var I;if(!p){const k=C.data[0];me(!!k,16349);const w=k,E=(w==null?void 0:w.error)||((I=w[0])==null?void 0:I.error);if(E){q(mt,`RPC '${e}' stream ${s} received error:`,E);const T=E.status;let V=function(v){const _=Be[v];if(_!==void 0)return XC(_)}(T),N=E.message;T==="NOT_FOUND"&&N.includes("database")&&N.includes("does not exist")&&N.includes(this.databaseId.database)&&Ni(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),V===void 0&&(V=U.INTERNAL,N="Unknown error status: "+T+" with message "+E.message),p=!0,y.o_(new K(V,N)),h.close()}else q(mt,`RPC '${e}' stream ${s} received:`,k),y.__(k)}}),Io.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return vC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t){return new Io(t)}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return new fF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io.c_=!1;class dA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="PersistentStream";class fA{constructor(e,n,r,s,i,o,a,u){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(q(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c6 extends fA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gF(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Gn(o.readTime):te.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Km(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=zm(u)?{documents:_F(i,u)}:{query:wF(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eA(i,o.resumeToken);const c=Hm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Mh(i,o.snapshotVersion.toTimestamp());const c=Hm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=TF(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.K_(n)}}class h6 extends fA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vF(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Km(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yF(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{}class f6 extends d6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,qm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(U.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,qm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function p6(t,e,n,r){return new f6(t,e,n,r)}class m6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="RemoteStore";class g6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Bi(this)&&(q(Di,"Restarting streams for network reachability change."),await async function(u){const c=ne(u);c.Ea.add(4),await Tu(c),c.Va.set("Unknown"),c.Ea.delete(4),await kd(c)}(this))})}),this.Va=new m6(r,s)}}async function kd(t){if(Bi(t))for(const e of t.Ra)await e(!0)}async function Tu(t){for(const e of t.Ra)await e(!1)}function pA(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zy(n)?Jy(n):pa(n).O_()&&Xy(n,e))}function Yy(t,e){const n=ne(t),r=pa(n);n.Ia.delete(e),r.O_()&&mA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Bi(n)&&n.Va.set("Unknown"))}function Xy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).Z_(e)}function mA(t,e){t.da.$e(e),pa(t).X_(e)}function Jy(t){t.da=new uF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.Va.ua()}function Zy(t){return Bi(t)&&!pa(t).x_()&&t.Ia.size>0}function Bi(t){return ne(t).Ea.size===0}function gA(t){t.da=void 0}async function y6(t){t.Va.set("Online")}async function v6(t){t.Ia.forEach((e,n)=>{Xy(t,e)})}async function _6(t,e){gA(t),Zy(t)?(t.Va.ha(e),Jy(t)):t.Va.set("Unknown")}async function w6(t,e,n){if(t.Va.set("Online"),e instanceof ZC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){q(Di,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lh(t,r)}else if(e instanceof Oc?t.da.Xe(e):e instanceof JC?t.da.st(e):t.da.tt(e),!n.isEqual(te.min()))try{const r=await hA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),mA(i,u);const d=new ls(h.target,u,c,h.sequenceNumber);Xy(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(Di,"Failed to raise snapshot:",r),await Lh(t,r)}}async function Lh(t,e,n){if(!fa(e))throw e;t.Ea.add(1),await Tu(t),t.Va.set("Offline"),n||(n=()=>hA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(Di,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kd(t)})}function yA(t,e){return e().catch(n=>Lh(t,n,e))}async function Nd(t){const e=ne(t),n=Ds(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:My;for(;E6(e);)try{const s=await t6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,T6(e,s)}catch(s){await Lh(e,s)}vA(e)&&_A(e)}function E6(t){return Bi(t)&&t.Ta.length<10}function T6(t,e){t.Ta.push(e);const n=Ds(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function vA(t){return Bi(t)&&!Ds(t).x_()&&t.Ta.length>0}function _A(t){Ds(t).start()}async function x6(t){Ds(t).ra()}async function S6(t){const e=Ds(t);for(const n of t.Ta)e.ea(n.mutations)}async function I6(t,e,n){const r=t.Ta.shift(),s=$y.from(r,e,n);await yA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nd(t)}async function C6(t,e){e&&Ds(t).Y_&&await async function(r,s){if(function(o){return oF(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();Ds(r).B_(),await yA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Nd(r)}}(t,e),vA(t)&&_A(t)}async function WE(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),q(Di,"RemoteStore received new credentials");const r=Bi(n);n.Ea.add(3),await Tu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kd(n)}async function A6(t,e){const n=ne(t);e?(n.Ea.delete(2),await kd(n)):e||(n.Ea.add(2),await Tu(n),n.Va.set("Unknown"))}function pa(t){return t.ma||(t.ma=function(n,r,s){const i=ne(n);return i.sa(),new c6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:y6.bind(null,t),Yo:v6.bind(null,t),t_:_6.bind(null,t),J_:w6.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Zy(t)?Jy(t):t.Va.set("Unknown")):(await t.ma.stop(),gA(t))})),t.ma}function Ds(t){return t.fa||(t.fa=function(n,r,s){const i=ne(n);return i.sa(),new h6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:x6.bind(null,t),t_:C6.bind(null,t),ta:S6.bind(null,t),na:I6.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Nd(t)):(await t.fa.stop(),t.Ta.length>0&&(q(Di,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ev(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),fa(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Za(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.ga=new De(Y.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ta{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ta(e,n,Co.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class b6{constructor(){this.queries=GE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ne(n),i=s.queries;s.queries=GE(),i.forEach((o,a)=>{for(const u of a.ba)u.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function GE(){return new Ui(t=>FC(t),Id)}async function wA(t,e){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new P6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=tv(o,`Initialization of query '${Qi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&nv(n)}async function EA(t,e){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function R6(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&nv(n)}function k6(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function nv(t){t.Ca.forEach(e=>{e.next()})}var Ym,QE;(QE=Ym||(Ym={})).Ma="default",QE.Cache="cache";class TA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.key=e}}class SA{constructor(e){this.key=e}}class N6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ue(),this.mutatedKeys=ue(),this.eu=UC(e),this.tu=new Co(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new KE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const p=s.get(h),y=Cd(this.query,d)?d:null,C=!!p&&this.mutatedKeys.has(p.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let k=!1;p&&y?p.data.isEqual(y.data)?C!==I&&(r.track({type:3,doc:y}),k=!0):this.su(p,y)||(r.track({type:2,doc:y}),k=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),k=!0):p&&!y&&(r.track({type:1,doc:p}),k=!0,(u||c)&&(a=!0)),k&&(y?(o=o.add(y),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(y,C){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Vt:k})}};return I(y)-I(C)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,o.length!==0||c?{snapshot:new ta(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new SA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new xA(r))}),n}cu(e){this.Za=e.ks,this.Ya=ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ta.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rv="SyncEngine";class D6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class V6{constructor(e){this.key=e,this.hu=!1}}class M6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ui(a=>FC(a),Id),this.Iu=new Map,this.Eu=new Set,this.Ru=new De(Y.comparator),this.Au=new Map,this.Vu=new Wy,this.du={},this.mu=new Map,this.fu=ea.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O6(t,e,n=!0){const r=RA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await IA(r,e,n,!0),s}async function L6(t,e){const n=RA(t);await IA(n,e,!0,!1)}async function IA(t,e,n,r){const s=await n6(t.localStore,Kn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await j6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&pA(t.remoteStore,s),a}async function j6(t,e,n,r,s){t.pu=(d,p,y)=>async function(I,k,w,E){let T=k.view.ru(w);T.Ss&&(T=await BE(I.localStore,k.query,!1).then(({documents:v})=>k.view.ru(v,T)));const V=E&&E.targetChanges.get(k.targetId),N=E&&E.targetMismatches.get(k.targetId)!=null,j=k.view.applyChanges(T,I.isPrimaryClient,V,N);return XE(I,k.targetId,j.au),j.snapshot}(t,d,p,y);const i=await BE(t.localStore,e,!0),o=new N6(e,i.ks),a=o.ru(i.documents),u=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);XE(t,n,c.au);const h=new D6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function F6(t,e,n){const r=ne(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Id(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Gm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Yy(r.remoteStore,s.targetId),Xm(r,s.targetId)}).catch(da)):(Xm(r,s.targetId),await Gm(r.localStore,s.targetId,!0))}async function U6(t,e){const n=ne(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yy(n.remoteStore,r.targetId))}async function B6(t,e,n){const r=G6(t);try{const s=await function(o,a){const u=ne(o),c=Ie.now(),h=a.reduce((y,C)=>y.add(C.key),ue());let d,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Cr(),I=ue();return u.xs.getEntries(y,h).next(k=>{C=k,C.forEach((w,E)=>{E.isValidDocument()||(I=I.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(k=>{d=k;const w=[];for(const E of a){const T=tF(E,d.get(E.key).overlayedDocument);T!=null&&w.push(new zs(E.key,T,NC(T.value.mapValue),An.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,w,a)}).next(k=>{p=k;const w=k.applyToLocalDocumentSet(d,I);return u.documentOverlayCache.saveOverlays(y,k.batchId,w)})}).then(()=>({batchId:p.batchId,changes:zC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.du[o.currentUser.toKey()];c||(c=new De(le)),c=c.insert(a,u),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await xu(r,s.changes),await Nd(r.remoteStore)}catch(s){const i=tv(s,"Failed to persist write");n.reject(i)}}async function CA(t,e){const n=ne(t);try{const r=await ZF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?me(o.hu,14607):s.removedDocuments.size>0&&(me(o.hu,42227),o.hu=!1))}),await xu(n,r,e)}catch(r){await da(r)}}function YE(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=ne(o);u.onlineState=a;let c=!1;u.queries.forEach((h,d)=>{for(const p of d.ba)p.va(a)&&(c=!0)}),c&&nv(u)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function z6(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new De(Y.comparator);o=o.insert(i,wt.newNoDocument(i,te.min()));const a=ue().add(i),u=new bd(te.min(),new Map,new De(le),o,a);await CA(r,u),r.Ru=r.Ru.remove(i),r.Au.delete(e),sv(r)}else await Gm(r.localStore,e,!1).then(()=>Xm(r,e,n)).catch(da)}async function $6(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await JF(n.localStore,e);PA(n,r,null),AA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xu(n,s)}catch(s){await da(s)}}async function H6(t,e,n){const r=ne(t);try{const s=await function(o,a){const u=ne(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(me(d!==null,37113),h=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);PA(r,e,n),AA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xu(r,s)}catch(s){await da(s)}}function AA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function PA(t,e,n){const r=ne(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||bA(t,r)})}function bA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Yy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),sv(t))}function XE(t,e,n){for(const r of n)r instanceof xA?(t.Vu.addReference(r.key,e),q6(t,r)):r instanceof SA?(q(rv,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||bA(t,r.key)):Z(19791,{wu:r})}function q6(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(q(rv,"New document in limbo: "+n),t.Eu.add(r),sv(t))}function sv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(Se.fromString(e)),r=t.fu.next();t.Au.set(r,new V6(n)),t.Ru=t.Ru.insert(n,r),pA(t.remoteStore,new ls(Kn(Uy(n.path)),r,"TargetPurposeLimboResolution",Ed.ce))}}async function xu(t,e,n){const r=ne(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){s.push(c);const d=Gy.Es(u.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(u,c){const h=ne(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(c,p=>F.forEach(p.Ts,y=>h.persistence.referenceDelegate.addReference(d,p.targetId,y)).next(()=>F.forEach(p.Is,y=>h.persistence.referenceDelegate.removeReference(d,p.targetId,y)))))}catch(d){if(!fa(d))throw d;q(Qy,"Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const y=h.vs.get(p),C=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(C);h.vs=h.vs.insert(p,I)}}}(r.localStore,i))}async function W6(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){q(rv,"User change. New user:",e.toKey());const r=await cA(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new K(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(n,r.Ns)}}function K6(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let s=ue();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function RA(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z6.bind(null,e),e.Pu.J_=R6.bind(null,e.eventManager),e.Pu.yu=k6.bind(null,e.eventManager),e}function G6(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H6.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XF(this.persistence,new GF,e.initialUser,this.serializer)}Cu(e){return new uA(Ky.Vi,this.serializer)}Du(e){return new s6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class Q6 extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){me(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new uA(r=>Oh.Vi(r,n),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W6.bind(null,this.syncEngine),await A6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new b6}()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),r=u6(e.databaseInfo);return p6(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new g6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>YE(this.syncEngine,n,0),function(){return HE.v()?new HE:new i6}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const d=new M6(s,i,o,a,u,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ne(s);q(Di,"RemoteStore shutting down."),i.Ea.add(5),await Tu(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class Y6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=vt.UNAUTHENTICATED,this.clientId=Dy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{q(Vs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Vs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),q(Vs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await cA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X6(t);q(Vs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>WE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>WE(e.remoteStore,s)),t._onlineComponents=e}async function X6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Vs,"Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ni("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new jh)}}else q(Vs,"Using default OfflineComponentProvider"),await lp(t,new Q6(void 0));return t._offlineComponents}async function NA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Vs,"Using user provided OnlineComponentProvider"),await JE(t,t._uninitializedComponentsProvider._online)):(q(Vs,"Using default OnlineComponentProvider"),await JE(t,new Jm))),t._onlineComponents}function J6(t){return NA(t).then(e=>e.syncEngine)}async function DA(t){const e=await NA(t),n=e.eventManager;return n.onListen=O6.bind(null,e.syncEngine),n.onUnlisten=F6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U6.bind(null,e.syncEngine),n}function Z6(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new kA({next:p=>{h.Nu(),o.enqueueAndForget(()=>EA(i,d));const y=p.docs.has(a);!y&&p.fromCache?c.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?c.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new TA(Uy(a.path),h,{includeMetadataChanges:!0,Ka:!0});return wA(i,d)}(await DA(t),t.asyncQueue,e,n,r)),r.promise}function e5(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new kA({next:p=>{h.Nu(),o.enqueueAndForget(()=>EA(i,d)),p.fromCache&&u.source==="server"?c.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new TA(a,h,{includeMetadataChanges:!0,Ka:!0});return wA(i,d)}(await DA(t),t.asyncQueue,e,n,r)),r.promise}function t5(t,e){const n=new pr;return t.asyncQueue.enqueueAndForget(async()=>B6(await J6(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="ComponentProvider",ZE=new Map;function r5(t,e,n,r,s){return new T3(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,VA(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firestore.googleapis.com",eT=!0;class tT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MA,this.ssl=eT}else this.host=e.host,this.ssl=e.ssl??eT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kF)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t3;switch(r.type){case"firstParty":return new i3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ZE.get(n);r&&(q(n5,"Removing Datastore"),ZE.delete(n),r.terminate())}(this),Promise.resolve()}}function s5(t,e,n,r={}){var c;t=Ir(t,Dd);const s=aa(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(CI(`https://${a}`),AI("Firestore",!0)),i.host!==MA&&i.host!==a&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!Pi(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=vt.MOCK_USER;else{h=fO(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new vt(p)}t._authCredentials=new n3(new wC(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vd(this.firestore,e,this._query)}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_u(n,Ye._jsonSchema))return new Ye(e,r||null,new Y(Se.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:He("string",Ye._jsonSchemaVersion),referencePath:He("string")};class Ss extends Vd{constructor(e,n,r){super(e,n,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new Y(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function $s(t,e,...n){if(t=lt(t),EC("collection","path",e),t instanceof Dd){const r=Se.fromString(e,...n);return mE(r),new Ss(t,null,r)}{if(!(t instanceof Ye||t instanceof Ss))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return mE(r),new Ss(t.firestore,null,r)}}function Jn(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Dy.newId()),EC("doc","path",e),t instanceof Dd){const r=Se.fromString(e,...n);return pE(r),new Ye(t,null,new Y(r))}{if(!(t instanceof Ye||t instanceof Ss))throw new K(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return pE(r),new Ye(t.firestore,t instanceof Ss?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="AsyncQueue";class rT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dA(this,"async_queue_retry"),this._c=()=>{const r=ap();r&&q(nT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new pr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fa(e))throw e;q(nT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",sT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ev.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Z(47125,{Pc:sT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ma extends Dd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new rT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rT(e),this._firestoreClient=void 0,await e}}}function i5(t,e){const n=typeof t=="object"?t:kI(),r=typeof t=="string"?t:Rh,s=xy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=hO("firestore");i&&s5(s,...i)}return s}function iv(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o5(t),t._firestoreClient}function o5(t){var r,s,i,o;const e=t._freezeSettings(),n=r5(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Y6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new un(ut.fromBase64String(e))}catch(n){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new un(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,un._jsonSchema))return un.fromBase64String(e.bytes)}}un._jsonSchemaVersion="firestore/bytes/1.0",un._jsonSchema={type:He("string",un._jsonSchemaVersion),bytes:He("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qn._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Qn._jsonSchema))return new Qn(e.latitude,e.longitude)}}Qn._jsonSchemaVersion="firestore/geoPoint/1.0",Qn._jsonSchema={type:He("string",Qn._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,Pn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Pn(e.vectorValues);throw new K(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pn._jsonSchemaVersion="firestore/vectorValue/1.0",Pn._jsonSchema={type:He("string",Pn._jsonSchemaVersion),vectorValues:He("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=/^__.*__$/;class l5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class OA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{dataSource:t})}}class av{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new av({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(LA(this.dataSource)&&a5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class u5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rd(e)}createContext(e,n,r,s=!1){return new av({dataSource:e,methodName:n,targetDoc:r,path:it.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jA(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new u5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c5(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);uv("Data must be an object, but it was:",o,r);const a=FA(r,o);let u,c;if(i.merge)u=new Yt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const p=Zl(e,d,n);if(!o.contains(p))throw new K(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);zA(h,p)||h.push(p)}u=new Yt(h),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new l5(new Ut(a),u,c)}class Od extends Md{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}class lv extends Md{_toFieldTransform(e){return new X3(e.path,new Yl)}isEqual(e){return e instanceof lv}}function h5(t,e,n,r){const s=t.createContext(1,e,n);uv("Data must be an object, but it was:",s,r);const i=[],o=Ut.empty();Bs(r,(u,c)=>{const h=BA(e,u,n);c=lt(c);const d=s.childContextForFieldPath(h);if(c instanceof Od)i.push(h);else{const p=Ld(c,d);p!=null&&(i.push(h),o.set(h,p))}});const a=new Yt(i);return new OA(o,a,s.fieldTransforms)}function d5(t,e,n,r,s,i){const o=t.createContext(1,e,n),a=[Zl(e,r,n)],u=[s];if(i.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Zl(e,i[p])),u.push(i[p+1]);const c=[],h=Ut.empty();for(let p=a.length-1;p>=0;--p)if(!zA(c,a[p])){const y=a[p];let C=u[p];C=lt(C);const I=o.childContextForFieldPath(y);if(C instanceof Od)c.push(y);else{const k=Ld(C,I);k!=null&&(c.push(y),h.set(y,k))}}const d=new Yt(c);return new OA(h,d,o.fieldTransforms)}function Ld(t,e){if(UA(t=lt(t)))return uv("Unsupported field value:",e,t),FA(t,e);if(t instanceof Md)return function(r,s){if(!LA(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Ld(a,s.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return G3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ie.fromDate(r);return{timestampValue:Mh(s.serializer,i)}}if(r instanceof Ie){const i=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(s.serializer,i)}}if(r instanceof Qn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof un)return{bytesValue:eA(s.serializer,r._byteString)};if(r instanceof Ye){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pn)return function(o,a){const u=o instanceof Pn?o.toArray():o;return{mapValue:{fields:{[RC]:{stringValue:kC},[kh]:{arrayValue:{values:u.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return By(a.serializer,h)})}}}}}}(r,s);if(aA(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Vy(r)}`)}(t,e)}function FA(t,e){const n={};return SC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,s)=>{const i=Ld(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function UA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof Qn||t instanceof un||t instanceof Ye||t instanceof Md||t instanceof Pn||aA(t))}function uv(t,e,n){if(!UA(n)||!TC(n)){const r=Vy(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Zl(t,e,n){if((e=lt(e))instanceof ov)return e._internalPath;if(typeof e=="string")return BA(t,e);throw Fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const f5=new RegExp("[~\\*/\\[\\]]");function BA(t,e,n){if(e.search(f5)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ov(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new K(U.INVALID_ARGUMENT,a+t+u)}function zA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[kh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>je(o.doubleValue));return new Pn(n)}convertGeoPoint(e){return new Qn(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);me(oA(r),9688,{name:e});const s=new Gl(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||Sr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends p5{constructor(e){super(),this.firestore=e}convertBytes(e){return new un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function pn(){return new lv("serverTimestamp")}const iT="@firebase/firestore",oT="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Zl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m5 extends HA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function y5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wi extends HA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wi._jsonSchemaVersion="firestore/documentSnapshot/1.0",wi._jsonSchema={type:He("string",wi._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class Lc extends wi{data(e={}){return super.data(e)}}class Ao{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new tl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lc(this._firestore,this._userDataWriter,r.key,r,new tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new tl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new tl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:v5(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:He("string",Ao._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){t=Ir(t,Ye);const e=Ir(t.firestore,ma),n=iv(e);return Z6(n,t._key).then(r=>_5(e,t,r))}function jd(t){t=Ir(t,Vd);const e=Ir(t.firestore,ma),n=iv(e),r=new $A(e);return g5(t._query),e5(n,t._query).then(s=>new Ao(e,r,t,s))}function Fd(t,e,n,...r){t=Ir(t,Ye);const s=Ir(t.firestore,ma),i=jA(s);let o;return o=typeof(e=lt(e))=="string"||e instanceof ov?d5(i,"updateDoc",t._key,e,n,r):h5(i,"updateDoc",t._key,e),cv(s,[o.toMutation(t._key,An.exists(!0))])}function Ud(t){return cv(Ir(t.firestore,ma),[new zy(t._key,An.none())])}function Bd(t,e){const n=Ir(t.firestore,ma),r=Jn(t),s=y5(t.converter,e),i=jA(t.firestore);return cv(n,[c5(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function cv(t,e){const n=iv(t);return t5(n,e)}function _5(t,e,n){const r=n.docs.get(e._key),s=new $A(t);return new wi(t,s,e._key,r,new tl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){e3(la),Qo(new bi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ma(new r3(r.getProvider("auth-internal")),new o3(o,r.getProvider("app-check-internal")),x3(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Es(iT,oT,e),Es(iT,oT,"esm2020")})();var w5="firebase",E5="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(w5,E5,"app");const T5={apiKey:"AIzaSyBtPwJmhj4wxFxUU0mSgTRX83w1FKHmd9k",authDomain:"gdgoc-cui-website.firebaseapp.com",projectId:"gdgoc-cui-website",storageBucket:"gdgoc-cui-website.firebasestorage.app",messagingSenderId:"320713478325",appId:"1:320713478325:web:47858ff75532d4f5aeeefc",databaseURL:"https://gdgoc-cui-website-default-rtdb.firebaseio.com"},qA=RI(T5),hv=Jj(qA),ct=i5(qA),x5=async(t,e)=>{try{return{data:await L4(hv,t,e),error:null}}catch(n){return{data:null,error:n}}},S5=async()=>{try{return await B4(hv),{error:null}}catch(t){return{error:t}}},WA=()=>new Promise(t=>{const e=U4(hv,n=>{e(),t(n)})}),KA=async()=>{try{return{data:(await jd($s(ct,"events"))).docs.map(n=>({id:n.id,...n.data()})).sort((n,r)=>(r.date||"").localeCompare(n.date||"")),error:null}}catch(t){return console.error("Error fetching events:",t),{data:null,error:t}}},I5=async t=>{try{const e=await Bd($s(ct,"events"),{...t,created_at:pn(),updated_at:pn()}),n=await br(e);return{data:{id:e.id,...n.data()},error:null}}catch(e){return{data:null,error:e}}},C5=async(t,e)=>{try{const n=Jn(ct,"events",t);await Fd(n,{...e,updated_at:pn()});const r=await br(n);return{data:{id:t,...r.data()},error:null}}catch(n){return{data:null,error:n}}},A5=async t=>{try{return await Ud(Jn(ct,"events",t)),{error:null}}catch(e){return{error:e}}},GA=async()=>{try{return{data:(await jd($s(ct,"team_members"))).docs.map(n=>({id:n.id,...n.data()})).sort((n,r)=>(n.order_index||0)-(r.order_index||0)),error:null}}catch(t){return console.error("Error fetching all team members:",t),{data:null,error:t}}},P5=async t=>{try{const e=await Bd($s(ct,"team_members"),{...t,created_at:pn(),updated_at:pn()}),n=await br(e);return{data:{id:e.id,...n.data()},error:null}}catch(e){return{data:null,error:e}}},b5=async(t,e)=>{try{const n=Jn(ct,"team_members",t);await Fd(n,{...e,updated_at:pn()});const r=await br(n);return{data:{id:t,...r.data()},error:null}}catch(n){return{data:null,error:n}}},R5=async t=>{try{return await Ud(Jn(ct,"team_members",t)),{error:null}}catch(e){return{error:e}}},QA=async()=>{try{const t=await jd($s(ct,"gallery_images")),e=await Promise.all(t.docs.map(async n=>{const r=n.data();let s=null;if(r.event_id)try{const i=await br(Jn(ct,"events",r.event_id));if(i.exists()){const o=i.data();s={id:i.id,title:o.title,date:o.date}}}catch(i){console.error("Error fetching event for gallery image:",i)}return{id:n.id,...r,event:s}}));return e.sort((n,r)=>(n.order_index||0)-(r.order_index||0)),{data:e,error:null}}catch(t){return console.error("Error fetching gallery images:",t),{data:null,error:t}}},k5=async t=>{try{const e=await Bd($s(ct,"gallery_images"),{...t,created_at:pn(),updated_at:pn()}),n=await br(e);return{data:{id:e.id,...n.data()},error:null}}catch(e){return{data:null,error:e}}},N5=async(t,e)=>{try{const n=Jn(ct,"gallery_images",t);await Fd(n,{...e,updated_at:pn()});const r=await br(n);return{data:{id:t,...r.data()},error:null}}catch(n){return{data:null,error:n}}},D5=async(t,e)=>{try{return await Ud(Jn(ct,"gallery_images",t)),{error:null}}catch(n){return{error:n}}},YA=async()=>{try{return{data:(await jd($s(ct,"resources"))).docs.map(n=>({id:n.id,...n.data()})).sort((n,r)=>{const s=(n.category||"").localeCompare(r.category||"");return s!==0?s:(n.order_index||0)-(r.order_index||0)}),error:null}}catch(t){return console.error("Error fetching resources:",t),{data:null,error:t}}},V5=async t=>{try{const e=await Bd($s(ct,"resources"),{...t,created_at:pn(),updated_at:pn()}),n=await br(e);return{data:{id:e.id,...n.data()},error:null}}catch(e){return{data:null,error:e}}},M5=async(t,e)=>{try{const n=Jn(ct,"resources",t);await Fd(n,{...e,updated_at:pn()});const r=await br(n);return{data:{id:t,...r.data()},error:null}}catch(n){return{data:null,error:n}}},O5=async t=>{try{return await Ud(Jn(ct,"resources",t)),{error:null}}catch(e){return{error:e}}},dv=async(t,e,n)=>{var c;const r="dqzjczkq2",s="gdgoc_manager",i=t,o=new FormData;o.append("file",e),o.append("upload_preset",s),o.append("folder",i),o.append("public_id",n.replace(/\.[^/.]+$/,""));const a=await fetch(`https://api.cloudinary.com/v1_1/${r}/image/upload`,{method:"POST",body:o});if(!a.ok){const h=await a.json();throw new Error(((c=h.error)==null?void 0:c.message)||"Cloudinary upload failed")}return(await a.json()).secure_url},L5=async()=>{var a,u,c;const[t,e,n,r]=await Promise.all([KA(),GA(),QA(),YA()]),s=t.data||[],i=s.filter(h=>h.status==="upcoming").length,o=s.filter(h=>h.status==="completed").length;return{totalEvents:s.length,upcomingEvents:i,completedEvents:o,teamMembers:((a=e.data)==null?void 0:a.length)||0,galleryImages:((u=n.data)==null?void 0:u.length)||0,resources:((c=r.data)==null?void 0:c.length)||0}},aT=()=>{const[t,e]=O.useState({totalEvents:0,upcomingEvents:0,completedEvents:0,teamMembers:0,galleryImages:0,resources:0}),[n,r]=O.useState(!0);O.useEffect(()=>{s()},[]);const s=async()=>{r(!0);const o=await L5();e(o),r(!1)},i=[{title:"Total Events",value:t.totalEvents,icon:dd,color:"google-blue",bgColor:"bg-blue-50",change:`${t.upcomingEvents} upcoming`},{title:"Team Members",value:t.teamMembers,icon:wy,color:"google-green",bgColor:"bg-green-50",change:"Active members"},{title:"Gallery Images",value:t.galleryImages,icon:_y,color:"google-yellow",bgColor:"bg-yellow-50",change:"Total photos"},{title:"Resources",value:t.resources,icon:_h,color:"google-red",bgColor:"bg-red-50",change:"Developer tools"}];return n?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"loading-spinner"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-gradient-to-r from-google-blue/10 to-google-green/10 rounded-2xl p-6",children:[g.jsx("h1",{className:"text-2xl font-google-sans font-bold text-gray-900 mb-2",children:"Welcome to GDG COMSATS Admin Dashboard"}),g.jsx("p",{className:"text-gray-600",children:"Manage community website content, events, team members, and resources from here."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((o,a)=>g.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:`${o.bgColor} rounded-xl p-6 border border-gray-100`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center shadow-sm",children:g.jsx(o.icon,{className:`w-6 h-6 text-${o.color}`})}),g.jsx("span",{className:"text-sm font-medium text-gray-600",children:o.change})]}),g.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.value}),g.jsx("p",{className:"text-gray-600 text-sm",children:o.title})]},o.title))})]})},na=({open:t,setOpen:e,reset:n,children:r})=>{const s=O.useRef(null);return O.useEffect(()=>{const i=document.body;return t?i.style.overflow="hidden":i.style.overflow="",()=>{i.style.overflow=""}},[t,e]),O.useEffect(()=>{const i=o=>{o.key==="Escape"&&t&&(e(!1),n==null||n())};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[t,e]),O.useEffect(()=>{const i=o=>{s.current&&!s.current.contains(o.target)&&(e(!1),n==null||n())};return t&&(document.addEventListener("mousedown",i),document.addEventListener("touchstart",i)),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i)}},[t,e]),g.jsx(LM,{children:t&&g.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:g.jsx(Le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},ref:s,className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto scrollbar-hide",children:r})})})},XA=()=>rd({queryKey:["events"],queryFn:async()=>(await KA()).data}),j5=()=>{const t=Wt();return mn({mutationFn:I5,onSuccess:()=>{t.invalidateQueries({queryKey:["events"]})}})},F5=()=>{const t=Wt();return mn({mutationFn:({id:e,data:n})=>C5(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["events"]})}})},U5=()=>{const t=Wt();return mn({mutationFn:A5,onSuccess:()=>{t.invalidateQueries({queryKey:["events"]})}})},JA=({selectedImage:t,setSelectedImage:e,existingImage:n,isRequired:r})=>g.jsxs("div",{children:[g.jsx("input",{type:"file",accept:"image/*",onChange:s=>e(s.target.files?s.target.files[0]:null),required:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"}),t?g.jsx("img",{src:URL.createObjectURL(t),alt:"New Preview",className:"mt-2 w-20 h-20 object-cover rounded-lg"}):n&&g.jsx("img",{src:n,alt:"Current",className:"mt-2 w-20 h-20 object-cover rounded-lg"})]}),B5=({tags:t,setTags:e})=>{const[n,r]=O.useState(""),s=o=>{const a=n.trim();if((o.key==="Enter"||o.key===",")&&a&&(o.preventDefault(),t.includes(a)||e([...t,a]),r("")),o.key==="Backspace"&&!n&&t.length){o.preventDefault();const u=[...t];u.pop(),e(u)}},i=o=>{e(t.filter((a,u)=>u!==o))};return g.jsxs("div",{className:"w-full",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),g.jsxs("div",{className:"flex flex-wrap gap-2 border border-gray-300 p-2 rounded-lg",children:[t.map((o,a)=>g.jsxs("div",{className:"flex items-center bg-gray-200 px-2 py-1 rounded-full text-sm",children:[o,g.jsx("button",{type:"button",onClick:()=>i(a),className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:""})]},a)),g.jsx("input",{type:"text",className:"flex-grow min-w-[100px] border-none focus:outline-none focus:ring-0",placeholder:"Type and press Enter or ,",value:n,onChange:o=>r(o.target.value),onKeyDown:s})]})]})},z5=()=>{const{data:t,isLoading:e}=XA(),n=j5(),r=F5(),s=U5(),[i,o]=O.useState(!1),[a,u]=O.useState(null),[c,h]=O.useState({title:"",description:"",date:"",time:"",location:"",attendees:0,status:"upcoming",color:"google-blue",tags:[],image_url:"",registration_url:""}),[d,p]=O.useState(null),y=async w=>{w.preventDefault();try{let E=c.image_url;d&&(E=await dv("images/gallery",d,d.name.replace(/\s+/g,"-").toLowerCase()));const T={...c,image_url:E};a?await r.mutateAsync({id:a.id,data:T}):await n.mutateAsync(T),I()}catch(E){console.error("Error submitting form:",E)}},C=async w=>{if(confirm("Are you sure you want to delete this event?"))try{await s.mutateAsync(w)}catch(E){console.error("Error deleting event:",E)}},I=()=>{h({title:"",description:"",date:"",time:"",location:"",attendees:0,status:"upcoming",color:"google-blue",tags:[],image_url:"",registration_url:""}),u(null),o(!1)},k=w=>{u(w),h({title:w.title,description:w.description,date:w.date,time:w.time,location:w.location,attendees:w.attendees,status:w.status,color:w.color,tags:w.tags,image_url:w.image_url||"",registration_url:w.registration_url||""}),o(!0)};return e?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"loading-spinner"})}):g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-2xl font-google-sans font-bold text-gray-900",children:"Events Management"}),g.jsxs(Le.button,{onClick:()=>o(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-google-blue text-white px-4 py-2 rounded-lg flex items-center space-x-2 shadow-lg hover:bg-blue-600 transition-colors",children:[g.jsx(fd,{size:20}),g.jsx("span",{children:"Add Event"})]})]}),g.jsx("div",{className:"grid mt-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.map(w=>g.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${w.status==="upcoming"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:w.status}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>k(w),className:"text-gray-400 hover:text-google-blue transition-colors",children:g.jsx(pd,{size:16})}),g.jsx("button",{onClick:()=>C(w.id),className:"text-gray-400 hover:text-red-500 transition-colors",disabled:s.isPending,children:g.jsx(md,{size:16})})]})]}),g.jsx("h3",{className:"font-google-sans font-semibold text-lg text-gray-900 mb-2",children:w.title}),g.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:w.description}),g.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(dd,{size:14}),g.jsx("span",{children:w.date})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(BM,{size:14}),g.jsx("span",{children:w.time})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(XM,{size:14}),g.jsx("span",{className:"truncate",children:w.location})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(wy,{size:14}),g.jsxs("span",{children:[w.attendees," attendees"]})]}),w.status==="upcoming"&&w.registration_url&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Dw,{size:14}),g.jsx("a",{href:w.registration_url,target:"_blank",rel:"noopener noreferrer",className:"text-google-blue hover:underline",children:"Registration Link"})]}),w.status==="completed"&&w.registration_url&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Dw,{size:14}),g.jsx("a",{href:w.registration_url,target:"_blank",rel:"noopener noreferrer",className:"text-google-blue hover:underline",children:"LinkedIn Post"})]})]}),g.jsx("div",{className:"flex flex-wrap gap-1 mt-4",children:w.tags.map(E=>g.jsx("span",{className:`px-2 py-1 text-xs rounded-full bg-${w.color}/10 text-${w.color}`,children:E},E))})]},w.id))}),g.jsxs(na,{open:i,setOpen:o,reset:I,children:[g.jsx("h3",{className:"text-xl font-google-sans font-semibold mb-6",children:a?"Edit Event":"Add New Event"}),g.jsxs("form",{onSubmit:y,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),g.jsx("input",{type:"text",value:c.title,onChange:w=>h({...c,title:w.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),g.jsx("textarea",{value:c.description,onChange:w=>h({...c,description:w.target.value}),required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Image"}),g.jsx(JA,{selectedImage:d,setSelectedImage:p,existingImage:c.image_url,isRequired:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),g.jsx("input",{type:"date",value:c.date,onChange:w=>h({...c,date:w.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),g.jsx("input",{type:"text",value:c.time,onChange:w=>h({...c,time:w.target.value}),required:!0,placeholder:"e.g., 2:00 PM - 5:00 PM",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),g.jsx("input",{type:"text",value:c.location,onChange:w=>h({...c,location:w.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attendees"}),g.jsx("input",{type:"number",value:c.attendees,onChange:w=>h({...c,attendees:parseInt(w.target.value)||0}),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),g.jsxs("select",{value:c.color,onChange:w=>h({...c,color:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent",children:[g.jsx("option",{value:"google-blue",children:"Blue"}),g.jsx("option",{value:"google-green",children:"Green"}),g.jsx("option",{value:"google-yellow",children:"Yellow"}),g.jsx("option",{value:"google-red",children:"Red"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),g.jsxs("select",{value:c.status,onChange:w=>h({...c,status:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent",children:[g.jsx("option",{value:"upcoming",children:"Upcoming"}),g.jsx("option",{value:"completed",children:"Completed"})]})]})]}),c.status==="upcoming"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration URL (optional)"}),g.jsx("input",{type:"url",value:c.registration_url,onChange:w=>h({...c,registration_url:w.target.value}),placeholder:"https://example.com/register",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),c.status==="completed"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn Post URL (optional)"}),g.jsx("input",{type:"url",value:c.registration_url,onChange:w=>h({...c,registration_url:w.target.value}),placeholder:"https://linkedin.com/...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsx(B5,{tags:c.tags,setTags:w=>h({...c,tags:w})}),g.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[g.jsx("button",{type:"button",onClick:I,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),g.jsxs(Le.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-google-blue text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",disabled:n.isPending||r.isPending,children:[a?"Update Event":"Create Event",(n.isPending||r.isPending)&&g.jsx("span",{className:"ml-2",children:"..."})]})]})]})]})]})},$5=()=>rd({queryKey:["teamMembers"],queryFn:async()=>(await GA()).data}),H5=()=>{const t=Wt();return mn({mutationFn:P5,onSuccess:()=>{t.invalidateQueries({queryKey:["teamMembers"]})}})},q5=()=>{const t=Wt();return mn({mutationFn:({id:e,data:n})=>b5(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["teamMembers"]})}})},W5=()=>{const t=Wt();return mn({mutationFn:R5,onSuccess:()=>{t.invalidateQueries({queryKey:["teamMembers"]})}})},K5=()=>{const{data:t,isLoading:e}=$5(),n=H5(),r=q5(),s=W5(),[i,o]=O.useState(!1),[a,u]=O.useState(!1),[c,h]=O.useState(null),[d,p]=O.useState({name:"",position:"",department:"",bio:"",image_url:"",linkedin_url:"",github_url:"",twitter_url:"",email:"",order_index:0,active:!0}),[y,C]=O.useState(null),[I,k]=O.useState(null),w=async v=>{v.preventDefault();try{let _=d.image_url;y&&(_=await dv("images/team",y,y.name.replace(/\s+/g,"-").toLowerCase()));const A={...d,image_url:_};c?await r.mutateAsync({id:c.id,data:A}):await n.mutateAsync(A),V()}catch(_){console.error("Error submitting form:",_)}},E=async v=>{try{await s.mutateAsync(v),u(!1),k(null)}catch(_){console.error("Error deleting team member:",_)}},T=async v=>{try{await r.mutateAsync({id:v.id,data:{active:!v.active}})}catch(_){console.error("Error toggling active status:",_)}},V=()=>{p({name:"",position:"",department:"",bio:"",image_url:"",linkedin_url:"",github_url:"",twitter_url:"",email:"",order_index:0,active:!0}),h(null),o(!1),C(null)},N=v=>{h(v),p({name:v.name,position:v.position,department:v.department,bio:v.bio,image_url:v.image_url,linkedin_url:v.linkedin_url||"",github_url:v.github_url||"",twitter_url:v.twitter_url||"",email:v.email||"",order_index:v.order_index,active:v.active}),o(!0)},j=v=>{k(v),u(!0)};return e?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"loading-spinner"})}):g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-2xl font-google-sans font-bold text-gray-900",children:"Team Management"}),g.jsxs(Le.button,{onClick:()=>o(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-google-blue text-white px-4 py-2 rounded-lg flex items-center space-x-2 shadow-lg hover:bg-blue-600 transition-colors",children:[g.jsx(fd,{size:20}),g.jsx("span",{children:"Add Team Member"})]})]}),g.jsx("div",{className:"grid grid-cols-1 mt-4 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.map(v=>g.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-lg p-6 border border-gray-100 ${v.active?"":"opacity-60"}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${v.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:v.active?"Active":"Inactive"}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>T(v),className:"text-gray-400 hover:text-google-yellow transition-colors",title:v.active?"Hide from website":"Show on website",children:v.active?g.jsx(vI,{size:16}):g.jsx(yI,{size:16})}),g.jsx("button",{onClick:()=>N(v),className:"text-gray-400 hover:text-google-blue transition-colors",children:g.jsx(pd,{size:16})}),g.jsx("button",{onClick:()=>j(v.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:g.jsx(md,{size:16})})]})]}),g.jsxs("div",{className:"text-center mb-4",children:[g.jsx("div",{className:"w-20 h-20 mx-auto rounded-full overflow-hidden mb-3",children:g.jsx("img",{src:v.image_url,alt:v.name,className:"w-full h-full object-cover"})}),g.jsx("h3",{className:"font-google-sans font-semibold text-lg text-gray-900 mb-1",children:v.name}),g.jsx("p",{className:"text-google-blue font-medium mb-1",children:v.position}),g.jsx("p",{className:"text-sm text-gray-500",children:v.department})]}),g.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:v.bio}),g.jsxs("div",{className:"flex justify-center space-x-3",children:[v.linkedin_url&&g.jsx(GM,{size:16,className:"text-gray-400"}),v.github_url&&g.jsx(qM,{size:16,className:"text-gray-400"}),v.twitter_url&&g.jsx(tO,{size:16,className:"text-gray-400"}),v.email&&g.jsx(_I,{size:16,className:"text-gray-400"})]}),g.jsx("div",{className:"mt-4 text-center",children:g.jsxs("span",{className:"text-xs text-gray-500",children:["Order: ",v.order_index]})})]},v.id))}),g.jsxs(na,{open:i,setOpen:o,reset:V,children:[g.jsx("h3",{className:"text-xl font-google-sans font-semibold mb-6",children:c?"Edit Team Member":"Add New Team Member"}),g.jsxs("form",{onSubmit:w,className:"space-y-4 ",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),g.jsx("input",{type:"text",value:d.name,onChange:v=>p({...d,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),g.jsx("input",{type:"text",value:d.position,onChange:v=>p({...d,position:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),g.jsx("input",{type:"text",value:d.department,onChange:v=>p({...d,department:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),g.jsx("textarea",{value:d.bio,onChange:v=>p({...d,bio:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),g.jsx("input",{type:"file",onChange:v=>{C(v.target.files?v.target.files[0]:null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"}),y?g.jsx("img",{src:URL.createObjectURL(y),alt:"New Preview",className:"mt-2 w-20 h-20 object-cover rounded-full"}):d.image_url&&g.jsx("img",{src:d.image_url,alt:"Current",className:"mt-2 w-20 h-20 object-cover rounded-full"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn URL (Optional)"}),g.jsx("input",{type:"url",value:d.linkedin_url,onChange:v=>p({...d,linkedin_url:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GitHub URL (Optional)"}),g.jsx("input",{type:"url",value:d.github_url,onChange:v=>p({...d,github_url:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter URL (Optional)"}),g.jsx("input",{type:"url",value:d.twitter_url,onChange:v=>p({...d,twitter_url:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (Optional)"}),g.jsx("input",{type:"email",value:d.email,onChange:v=>p({...d,email:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),g.jsx("input",{type:"number",value:d.order_index,onChange:v=>p({...d,order_index:parseInt(v.target.value)||0}),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),g.jsxs("select",{value:d.active?"active":"inactive",onChange:v=>p({...d,active:v.target.value==="active"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent",children:[g.jsx("option",{value:"active",children:"Active (Show on website)"}),g.jsx("option",{value:"inactive",children:"Inactive (Hide from website)"})]})]})]}),g.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[g.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),g.jsxs(Le.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-google-blue text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",disabled:n.isPending||r.isPending,children:[c?"Update Member":"Add Member",(n.isPending||r.isPending)&&g.jsx("span",{className:"ml-2",children:"..."})]})]})]})]}),g.jsxs(na,{open:a,setOpen:u,reset:V,children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"text-xl font-google-sans font-semibold mb-6",children:"Delete Team Member"}),g.jsx("p",{children:"Are you sure you want to remove this member from the team?"})]}),g.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),g.jsx(Le.button,{onClick:()=>I&&E(I),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-red-700 text-white px-6 py-2 rounded-lg hover:bg-red-500 transition-colors",disabled:s.isPending,children:s.isPending?"Deleting...":"Confirm Delete"})]})]})]})},G5=()=>rd({queryKey:["galleryImages"],queryFn:async()=>(await QA()).data}),Q5=()=>{const t=Wt();return mn({mutationFn:k5,onSuccess:()=>{t.invalidateQueries({queryKey:["galleryImages"]})}})},Y5=()=>{const t=Wt();return mn({mutationFn:({id:e,data:n})=>N5(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["galleryImages"]})}})},X5=()=>{const t=Wt();return mn({mutationFn:({id:e,fileName:n})=>D5(e),onSuccess:()=>{t.invalidateQueries({queryKey:["galleryImages"]})}})},J5=()=>{const{data:t,isLoading:e}=G5(),{data:n,isLoading:r}=XA(),s=Q5(),i=Y5(),o=X5(),[a,u]=O.useState(!1),[c,h]=O.useState(!1),[d,p]=O.useState(null),[y,C]=O.useState(null),[I,k]=O.useState({title:"",description:"",image_url:"",alt_text:"",event_id:"",category:"workshops",order_index:0,featured:!1}),[w,E]=O.useState(null),T=async S=>{S.preventDefault();try{let b=I.image_url;y&&(b=await dv("images/gallery",y,y.name.replace(/\s+/g,"-").toLowerCase()));const D={...I,image_url:b};d?await i.mutateAsync({id:d.id,data:D}):await s.mutateAsync(D),v()}catch(b){console.error("Error submitting form:",b)}},V=async()=>{if(w)try{await o.mutateAsync(w),h(!1),E(null)}catch(S){console.error("Error deleting image:",S)}},N=(S,b)=>{E({id:S,fileName:b}),h(!0)},j=async S=>{try{await i.mutateAsync({id:S.id,data:{featured:!S.featured}})}catch(b){console.error("Error toggling featured status:",b)}},v=()=>{k({title:"",description:"",image_url:"",alt_text:"",event_id:"",category:"",order_index:0,featured:!1}),p(null),u(!1),C(null)},_=S=>{p(S),k({title:S.title,description:S.description||"",image_url:S.image_url,alt_text:S.alt_text,event_id:S.event_id||"",category:S.category,order_index:S.order_index,featured:S.featured}),u(!0)},A=(t==null?void 0:t.reduce((S,b)=>{const D=b.event_id||"no-event";return S[D]||(S[D]=[]),S[D].push(b),S},{}))||{};return e||r?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"loading-spinner"})}):g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-2xl font-google-sans font-bold text-gray-900",children:"Gallery Management"}),g.jsxs(Le.button,{onClick:()=>u(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-google-blue text-white px-4 py-2 rounded-lg flex items-center space-x-2 shadow-lg hover:bg-blue-600 transition-colors",children:[g.jsx(fd,{size:20}),g.jsx("span",{children:"Add Image"})]})]}),g.jsx("div",{className:"space-y-8 mt-4",children:Object.entries(A).map(([S,b])=>{const D=S!=="no-event"?n==null?void 0:n.find(P=>P.id===S):null;return g.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[g.jsx("div",{className:"flex items-center justify-between mb-6",children:g.jsx("div",{className:"flex items-center space-x-3",children:D?g.jsxs(g.Fragment,{children:[g.jsx(dd,{className:"text-google-blue",size:20}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-google-sans font-semibold text-gray-900",children:D.title}),g.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(D.date).toLocaleDateString()," "," ",b.length," images"]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx(_y,{className:"text-gray-500",size:20}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-google-sans font-semibold text-gray-900",children:"Unlinked Images"}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Not linked to specific events  ",b.length," images"]})]})]})})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(P=>g.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-lg overflow-hidden border border-gray-200 hover:border-gray-300 transition-colors",children:[g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:P.image_url,alt:P.alt_text,className:"w-full h-32 object-cover"}),g.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 hover:opacity-100 transition-opacity duration-200 flex items-center justify-center space-x-2",children:[g.jsx("button",{onClick:()=>j(P),className:`p-1.5 rounded-full transition-colors ${P.featured?"bg-google-yellow text-white":"bg-white/20 text-white hover:bg-google-yellow"}`,title:P.featured?"Remove from featured":"Add to featured",disabled:i.isPending,children:g.jsx(wh,{size:14})}),g.jsx("button",{onClick:()=>_(P),className:"p-1.5 bg-white/20 text-white rounded-full hover:bg-google-blue transition-colors",children:g.jsx(pd,{size:14})}),g.jsx("button",{onClick:()=>N(P.id,P.image_url.split("/").pop()||""),className:"p-1.5 bg-white/20 text-white rounded-full hover:bg-red-500 transition-colors",disabled:o.isPending,children:g.jsx(md,{size:14})})]}),P.featured&&g.jsx("div",{className:"absolute top-2 right-2",children:g.jsx(wh,{size:12,className:"text-google-yellow",fill:"currentColor"})})]}),g.jsxs("div",{className:"p-3",children:[g.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1 truncate",children:P.title}),P.description&&g.jsx("p",{className:"text-gray-600 text-xs mb-2 line-clamp-2",children:P.description}),g.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[g.jsxs("span",{children:["Order: ",P.order_index]}),g.jsx("span",{children:new Date(P.created_at).toLocaleDateString()})]})]})]},P.id))})]},S)})}),g.jsxs(na,{open:a,setOpen:u,reset:v,children:[g.jsx("h3",{className:"text-xl font-google-sans font-semibold mb-6",children:d?"Edit Image":"Add New Image"}),g.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Title"}),g.jsx("input",{type:"text",value:I.title,onChange:S=>k({...I,title:S.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),g.jsx("textarea",{value:I.description,onChange:S=>k({...I,description:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image File"}),g.jsx(JA,{selectedImage:y,setSelectedImage:C,existingImage:I.image_url,isRequired:!!d})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alt Text (for accessibility)"}),g.jsx("input",{type:"text",value:I.alt_text,onChange:S=>k({...I,alt_text:S.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link to Event"}),g.jsxs("select",{value:I.event_id,onChange:S=>k({...I,event_id:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent",children:[g.jsx("option",{value:"",children:"Select an event (optional)"}),n==null?void 0:n.filter(S=>S.status!=="completed").map(S=>g.jsxs("option",{value:S.id,children:[S.title," (",new Date(S.date).toLocaleDateString(),")"]},S.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),g.jsx("input",{type:"number",value:I.order_index,onChange:S=>k({...I,order_index:parseInt(S.target.value)||0}),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",id:"featured",checked:I.featured,onChange:S=>k({...I,featured:S.target.checked}),className:"rounded border-gray-300 text-google-blue focus:ring-google-blue"}),g.jsx("label",{htmlFor:"featured",className:"text-sm font-medium text-gray-700",children:"Featured Image (main thumbnail for event)"})]}),g.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[g.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),g.jsxs(Le.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-google-blue text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",disabled:s.isPending||i.isPending,children:[d?"Update Image":"Add Image",(s.isPending||i.isPending)&&g.jsx("span",{className:"ml-2",children:"..."})]})]})]})]}),g.jsxs(na,{open:c,setOpen:h,children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"text-xl font-google-sans font-semibold mb-6",children:"Delete Image"}),g.jsx("p",{children:"Are you sure you want to permanently delete this image?"}),g.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone."})]}),g.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),g.jsx(Le.button,{onClick:V,whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-red-700 text-white px-6 py-2 rounded-lg hover:bg-red-500 transition-colors",disabled:o.isPending,children:o.isPending?"Deleting...":"Confirm Delete"})]})]})]})},Z5=()=>rd({queryKey:["resources"],queryFn:async()=>(await YA()).data}),e9=()=>{const t=Wt();return mn({mutationFn:V5,onSuccess:()=>{t.invalidateQueries({queryKey:["resources"]})}})},t9=()=>{const t=Wt();return mn({mutationFn:({id:e,data:n})=>M5(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["resources"]})}})},n9=()=>{const t=Wt();return mn({mutationFn:O5,onSuccess:()=>{t.invalidateQueries({queryKey:["resources"]})}})},r9=()=>{const{data:t,isLoading:e}=Z5(),n=e9(),r=t9(),s=n9(),[i,o]=O.useState(!1),[a,u]=O.useState(null),[c,h]=O.useState({name:"",description:"",url:"",category:"Learning Resources",icon:"BookOpen",color:"google-blue",order_index:0,featured:!1}),d=["Android Development","Web Development","Flutter & Dart","Cloud & DevOps","AI & Machine Learning","Learning Resources"],p=[{name:"BookOpen",component:_h},{name:"Code",component:$M},{name:"Database",component:HM},{name:"Smartphone",component:eO},{name:"Cloud",component:zM},{name:"Brain",component:UM},{name:"Palette",component:ZM},{name:"Globe",component:WM},{name:"ExternalLink",component:Nw}],y=[{name:"google-blue",label:"Blue"},{name:"google-green",label:"Green"},{name:"google-yellow",label:"Yellow"},{name:"google-red",label:"Red"}],C=async N=>{N.preventDefault();try{a?await r.mutateAsync({id:a.id,data:c}):await n.mutateAsync(c),w()}catch(j){console.error("Error submitting form:",j)}},I=async N=>{if(confirm("Are you sure you want to delete this resource?"))try{await s.mutateAsync(N)}catch(j){console.error("Error deleting resource:",j)}},k=async N=>{try{await r.mutateAsync({id:N.id,data:{featured:!N.featured}})}catch(j){console.error("Error toggling featured status:",j)}},w=()=>{h({name:"",description:"",url:"",category:"Learning Resources",icon:"BookOpen",color:"google-blue",order_index:0,featured:!1}),u(null),o(!1)},E=N=>{u(N),h({name:N.name,description:N.description,url:N.url,category:N.category,icon:N.icon,color:N.color,order_index:N.order_index,featured:N.featured}),o(!0)},T=N=>{const j=p.find(v=>v.name===N);return j?j.component:_h},V=(t==null?void 0:t.reduce((N,j)=>(N[j.category]||(N[j.category]=[]),N[j.category].push(j),N),{}))||{};return e?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"loading-spinner"})}):g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-2xl font-google-sans font-bold text-gray-900",children:"Resources Management"}),g.jsxs(Le.button,{onClick:()=>o(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-google-blue text-white px-4 py-2 rounded-lg flex items-center space-x-2 shadow-lg hover:bg-blue-600 transition-colors",children:[g.jsx(fd,{size:20}),g.jsx("span",{children:"Add Resource"})]})]}),g.jsx("div",{className:"space-y-8 mt-4",children:Object.entries(V).map(([N,j])=>g.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[g.jsxs("h3",{className:"text-lg font-google-sans font-semibold text-gray-900 mb-4",children:[N," (",j.length,")"]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(v=>{const _=T(v.icon);return g.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:[g.jsxs("div",{className:"flex items-start justify-between mb-3",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`w-10 h-10 bg-${v.color}/10 rounded-lg flex items-center justify-center`,children:g.jsx(_,{className:`w-5 h-5 text-${v.color}`})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-medium text-gray-900 flex items-center space-x-2",children:g.jsx("span",{children:v.name})}),g.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:v.description})]})]}),g.jsxs("div",{className:"flex space-x-1",children:[g.jsx("button",{onClick:()=>k(v),className:`p-1 rounded transition-colors ${v.featured?"text-google-yellow":"text-gray-400 hover:text-google-yellow"}`,title:v.featured?"Remove from featured":"Add to featured",disabled:r.isPending,children:v.featured?g.jsx(wh,{size:14,className:"text-google-yellow",fill:"currentColor"}):g.jsx(wh,{size:14})}),g.jsx("button",{onClick:()=>E(v),className:"p-1 text-gray-400 hover:text-google-blue transition-colors",children:g.jsx(pd,{size:14})}),g.jsx("button",{onClick:()=>I(v.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",disabled:s.isPending,children:g.jsx(md,{size:14})})]})]}),g.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[g.jsxs("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-google-blue hover:underline",children:[g.jsx(Nw,{size:12}),g.jsx("span",{children:"Visit Resource"})]}),g.jsxs("span",{children:["Order: ",v.order_index]})]})]},v.id)})})]},N))}),g.jsxs(na,{open:i,setOpen:o,children:[g.jsx("h3",{className:"text-xl font-google-sans font-semibold mb-6",children:a?"Edit Resource":"Add New Resource"}),g.jsxs("form",{onSubmit:C,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource Name"}),g.jsx("input",{type:"text",value:c.name,onChange:N=>h({...c,name:N.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),g.jsx("textarea",{value:c.description,onChange:N=>h({...c,description:N.target.value}),required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL"}),g.jsx("input",{type:"url",value:c.url,onChange:N=>h({...c,url:N.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),g.jsx("select",{value:c.category,onChange:N=>h({...c,category:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent",children:d.map(N=>g.jsx("option",{value:N,children:N},N))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),g.jsx("select",{value:c.icon,onChange:N=>h({...c,icon:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent",children:p.map(N=>g.jsx("option",{value:N.name,children:N.name},N.name))})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),g.jsx("select",{value:c.color,onChange:N=>h({...c,color:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent",children:y.map(N=>g.jsx("option",{value:N.name,children:N.label},N.name))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),g.jsx("input",{type:"number",value:c.order_index,onChange:N=>h({...c,order_index:parseInt(N.target.value)||0}),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent"})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",id:"featured",checked:c.featured,onChange:N=>h({...c,featured:N.target.checked}),className:"rounded border-gray-300 text-google-blue focus:ring-google-blue"}),g.jsx("label",{htmlFor:"featured",className:"text-sm font-medium text-gray-700",children:"Featured Resource (show prominently on website)"})]}),g.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[g.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),g.jsxs(Le.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-google-blue text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",disabled:n.isPending||r.isPending,children:[a?"Update Resource":"Add Resource",(n.isPending||r.isPending)&&g.jsx("span",{className:"ml-2",children:"..."})]})]})]})]})]})},s9=({children:t,activeTab:e,onTabChange:n})=>{var c,h;const[r,s]=O.useState(null),[i,o]=O.useState(!1);O.useEffect(()=>{(async()=>{const p=await WA();s(p)})()},[]);const a=async()=>{await S5(),window.location.href="/"},u=[{id:"dashboard",label:"Dashboard",icon:KM},{id:"events",label:"Events",icon:dd},{id:"team",label:"Team Members",icon:wy},{id:"gallery",label:"Gallery",icon:_y},{id:"resources",label:"Resources",icon:_h}];return g.jsxs("div",{className:"min-h-screen font-google-sans bg-gray-50 flex",children:[g.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform ${i?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0`,children:[g.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[g.jsx("img",{src:"/Horizontal - Light.png",alt:"GDG Logo",className:"cursor-pointer",onClick:()=>n("dashboard")}),g.jsx("button",{onClick:()=>o(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:g.jsx(nO,{size:20})})]}),g.jsx("nav",{className:"mt-6",children:u.map(d=>g.jsxs(Le.button,{onClick:()=>{n(d.id),o(!1)},whileHover:{x:4},className:`w-full flex items-center px-6 py-3 text-left transition-colors ${e===d.id?"bg-google-blue/10 text-google-blue border-r-2 border-google-blue":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[g.jsx(d.icon,{size:20,className:"mr-3"}),d.label]},d.id))}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-gray-200",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-gray-600 font-medium text-sm",children:(c=r==null?void 0:r.email)==null?void 0:c.charAt(0).toUpperCase()})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:r==null?void 0:r.email}),g.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]})]}),g.jsxs(Le.button,{onClick:a,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[g.jsx(YM,{size:16,className:"mr-2"}),"Sign Out"]})]})]}),g.jsxs("div",{className:"flex-1 lg:ml-64",children:[g.jsxs("div",{className:"bg-white fixed z-50 w-full lg:w-[calc(100%-16rem)] shadow-sm border-b border-gray-200 h-16 flex items-center justify-between px-6",children:[g.jsx("button",{onClick:()=>o(!0),className:"lg:hidden text-gray-500 hover:text-gray-700",children:g.jsx(JM,{size:20})}),g.jsxs("div",{className:"w-full flex justify-between max-md:ml-6",children:[g.jsx("h1",{className:"text-xl font-google-sans font-semibold text-gray-900 capitalize",children:e==="dashboard"?"Dashboard":e==="contact"?"Contact & Subscribers":e}),g.jsx("div",{className:"flex items-center space-x-4",children:g.jsxs("span",{className:"text-sm text-gray-500",children:["Welcome back, ",(h=r==null?void 0:r.email)==null?void 0:h.split("@")[0]]})})]})]}),g.jsx("div",{className:"p-6 pt-20",children:t})]}),i&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>o(!1)})]})},i9=({onLogin:t})=>{const[e,n]=O.useState(""),[r,s]=O.useState(""),[i,o]=O.useState(!1),[a,u]=O.useState(!1),[c,h]=O.useState(""),d=async p=>{p.preventDefault(),u(!0),h("");const{error:y}=await x5(e,r);y?h((y==null?void 0:y.message)||"Login failed. Please try again."):t(),u(!1)};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-google-blue/10 via-white to-google-green/10 flex items-center justify-center px-4",children:g.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("div",{className:"inline-flex items-center space-x-2 mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-google-blue to-google-green rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-white font-bold text-lg",children:"G"})}),g.jsx("span",{className:"font-google-sans font-bold text-xl text-gray-800",children:"GDG Admin"})]}),g.jsx("h2",{className:"text-2xl font-google-sans font-bold text-gray-900 mb-2",children:"Welcome Back"}),g.jsx("p",{className:"text-gray-600",children:"Sign in to manage your GDG COMSATS website"})]}),g.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c&&g.jsx(Le.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:c}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),g.jsxs("div",{className:"relative",children:[g.jsx(_I,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),g.jsx("input",{type:"email",id:"email",value:e,onChange:p=>n(p.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent transition-all duration-200",placeholder:"admin@gdgcomsats.com"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx(QM,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),g.jsx("input",{type:i?"text":"password",id:"password",value:r,onChange:p=>s(p.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-google-blue focus:border-transparent transition-all duration-200",placeholder:"Enter your password"}),g.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?g.jsx(yI,{size:20}):g.jsx(vI,{size:20})})]})]}),g.jsx(Le.button,{type:"submit",disabled:a,whileHover:{scale:a?1:1.02},whileTap:{scale:a?1:.98},className:"w-full bg-google-blue text-white py-3 px-4 rounded-lg font-medium shadow-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:a?g.jsx("div",{className:"loading-spinner w-5 h-5"}):"Sign In"})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("p",{className:"text-sm text-gray-500",children:"Need access? Contact the GDG COMSATS team"})})]})})})},o9=new s2;function a9(){const[t,e]=O.useState(null),[n,r]=O.useState(!0),[s,i]=O.useState("dashboard");O.useEffect(()=>{o()},[]);const o=async()=>{const c=await WA();e(c),r(!1)},a=()=>{o()},u=()=>{switch(s){case"dashboard":return g.jsx(aT,{});case"events":return g.jsx(z5,{});case"team":return g.jsx(K5,{});case"gallery":return g.jsx(J5,{});case"resources":return g.jsx(r9,{});default:return g.jsx(aT,{})}};return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"loading-spinner mx-auto mb-4"}),g.jsx("p",{className:"text-gray-500",children:"Loading..."})]})}):t?g.jsxs(u2,{client:o9,children:[g.jsx(s9,{activeTab:s,onTabChange:i,children:u()}),g.jsx(zk,{position:"bottom-right",reverseOrder:!1})]}):g.jsx(i9,{onLogin:a})}kx(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(a9,{})}));
